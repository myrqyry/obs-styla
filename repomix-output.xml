This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.turbo/
  cookies/
    1.cookie
    2.cookie
    3.cookie
    4.cookie
    5.cookie
    6.cookie
    7.cookie
  daemon/
    70e8a4c9ff78601f-turbo.log.2025-11-27
  preferences/
    tui.json
apps/
  backend/
    generate_popular_themes.js
    generate_textmate_themes.js
    openapi.yaml
    orval.config.js
    package.json
    server.js
  frontend/
    public/
      index.html
    src/
      assets/
        delete.svg
        duplicate.svg
        edit.svg
        preview.svg
      components/
        LoadingSpinner.css
        LoadingSpinner.tsx
        ThemeEditor.tsx
        ThemePreview.tsx
        Toast.css
        Toast.tsx
        ValidationReport.css
        ValidationReport.tsx
      hooks/
        useToast.ts
      lib/
        utils.ts
      services/
        default/
          default.ts
        api.ts
        orval.ts
      types/
        orval/
          convertRequest.ts
          convertResponse.ts
          generateResponse.ts
          generationResult.ts
          index.ts
          postThemesFilenameDuplicateBody.ts
          postThemesFilenameMetaBody.ts
          theme.ts
          themeMeta.ts
          themesResponse.ts
          themeValidation.ts
          validationError.ts
          validationReport.ts
          validationReportSummary.ts
          validationResponse.ts
          validationResponseDuplicateIdsItem.ts
          validationWarning.ts
        api.ts
      App.tsx
      Converter.css
      Converter.tsx
      main.tsx
      MetaEditor.css
      MetaEditor.tsx
      style.css
    index.html
    package.json
    postcss.config.js
    tailwind.config.js
    tsconfig.json
    vite.config.ts
  web/
    public/
      favicon.ico
      index.html
      logo192.png
      logo512.png
      manifest.json
      robots.txt
    src/
      components/
        preview/
          AudioMixerPanel.tsx
          ControlsPanel.tsx
          ListItem.tsx
          Panel.css
          Preview.css
          Preview.tsx
          ScenesPanel.tsx
          SourcesPanel.tsx
        ThemeExporter.tsx
        ThemeUploader.tsx
      context/
        ThemeContext.tsx
      services/
        api.ts
        orval.ts
      types/
        orval/
          convertRequest.ts
          convertResponse.ts
          generateResponse.ts
          generationResult.ts
          index.ts
          postThemesFilenameDuplicateBody.ts
          postThemesFilenameMetaBody.ts
          theme.ts
          themeMeta.ts
          themesResponse.ts
          themeValidation.ts
          validationError.ts
          validationReport.ts
          validationReportSummary.ts
          validationResponse.ts
          validationResponseDuplicateIdsItem.ts
          validationWarning.ts
      App.css
      App.test.tsx
      App.tsx
      index.css
      index.tsx
      logo.svg
      react-app-env.d.ts
      reportWebVitals.ts
      setupTests.ts
    .gitignore
    index.html
    package.json
    postcss.config.js
    README.md
    tailwind.config.js
    tsconfig.json
    vite.config.ts
server/
  index.html
  requirements.txt
  script.py
  server.py
  test_validation.py
  upload_themes.py
  validate_cli.py
  validation.py
.gitignore
AGENTS.md
catppuccin_enhanced_base.obt
catppuccin_enhanced_frappe.ovt
catppuccin_enhanced_latte.ovt
catppuccin_enhanced_macchiato.ovt
catppuccin_enhanced_mocha.ovt
dracula_theme.ovt
dracula_theme.template.ovt
github-dark_theme.ovt
github-light_theme.ovt
material-theme_theme.ovt
material-theme-darker_theme.ovt
material-theme-lighter_theme.ovt
material-theme-ocean_theme.ovt
material-theme-palenight_theme.ovt
nord_theme.ovt
one-dark-pro_theme.ovt
package.json
pnpm-workspace.yaml
README.md
script_1.py
script_2.py
script_3.py
script_4.py
script.py
solarized-dark_theme.ovt
solarized-light_theme.ovt
tokyo-night_theme.ovt
turbo.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".turbo/preferences/tui.json">
{
  "is_task_list_visible": true,
  "active_task": null
}
</file>

<file path="apps/backend/generate_popular_themes.js">
#!/usr/bin/env node

// Batch script to generate multiple OBS themes from popular TextMate themes
// Usage: node generate_popular_themes.js

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

// Popular themes to generate
const popularThemes = [
    'dracula',
    'github-dark',
    'github-light',
    'material-theme',
    'material-theme-darker',
    'material-theme-lighter',
    'material-theme-ocean',
    'material-theme-palenight',
    'nord',
    'one-dark-pro',
    'palenight-theme',
    'solarized-dark',
    'solarized-light',
    'tokyo-night',
    'tokyo-night-storm',
    'vscode-dark-modern',
    'vscode-light-modern'
];

// Map TextMate color tokens to OBS theme colors
function mapTextMateToObsColors(themeColors) {
    return {
        background: themeColors['editor.background'] || themeColors['background'] || '#282a36',
        current_line: themeColors['editor.selectionBackground'] || themeColors['selection.background'] || '#44475a',
        foreground: themeColors['editor.foreground'] || themeColors['foreground'] || '#f8f8f2',
        comment: themeColors['editorLineNumber.foreground'] || themeColors['comments'] || '#6272a4',
        cyan: themeColors['editorInfo.foreground'] || themeColors['editor.infoForeground'] || '#8be9fd',
        green: themeColors['editorGutter.addedBackground'] || '#50fa7b',
        orange: themeColors['editorWarning.foreground'] || themeColors['editor.warningForeground'] || '#ffb86c',
        pink: themeColors['editorGutter.modifiedBackground'] || '#ff79c6',
        purple: themeColors['editorGutter.deletedBackground'] || '#bd93f9',
        red: themeColors['editorError.foreground'] || themeColors['editor.errorForeground'] || '#ff5555',
        yellow: themeColors['editorWarning.foreground'] || '#f1fa8c'
    };
}

// Generate OBS theme content
function generateObsTheme(themeName, displayName, colors) {
    const obsColors = mapTextMateToObsColors(colors);

    return `@OBSThemeMeta {{
    name: '${displayName}';
    id: 'com.textmate.${themeName.toLowerCase().replace(/[^a-z0-9]/g, '')}.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* ${displayName} Color Palette */
    --background: ${obsColors.background};
    --current_line: ${obsColors.current_line};
    --foreground: ${obsColors.foreground};
    --comment: ${obsColors.comment};
    --cyan: ${obsColors.cyan};
    --green: ${obsColors.green};
    --orange: ${obsColors.orange};
    --pink: ${obsColors.pink};
    --purple: ${obsColors.purple};
    --red: ${obsColors.red};
    --yellow: ${obsColors.yellow};

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}`;
}

// Main function
async function main() {
    console.log('üé® Generating popular OBS themes from TextMate...\n');

    let successCount = 0;
    let failCount = 0;

    for (const themeName of popularThemes) {
        try {
            // Import the specific theme
            const themePath = `tm-themes/themes/${themeName}.json`;
            const theme = await import(themePath, { with: { type: 'json' } });

            const obsTheme = generateObsTheme(themeName, theme.default.displayName || themeName, theme.default.colors);

            // Write to file in parent directory (root of monorepo)
            const outputFile = path.join(__dirname, '..', '..', `${themeName}_theme.ovt`);
            fs.writeFileSync(outputFile, obsTheme);

            console.log(`‚úÖ ${theme.default.displayName || themeName} (${Object.keys(theme.default.colors).length} colors)`);
            successCount++;

        } catch (error) {
            console.log(`‚ùå ${themeName}: ${error.message}`);
            failCount++;
        }
    }

    console.log(`\nüéâ Generated ${successCount} themes successfully${failCount > 0 ? `, ${failCount} failed` : ''}`);
    console.log('üìÅ Themes saved to root directory');
}

main().catch(console.error);
</file>

<file path="apps/backend/generate_textmate_themes.js">
#!/usr/bin/env node

// Script to generate OBS themes from TextMate themes in tm-themes package
// Usage: node generate_textmate_themes.js [theme-name]

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

// Map TextMate color tokens to OBS theme colors
function mapTextMateToObsColors(themeColors) {
    return {
        background: themeColors['editor.background'] || themeColors['background'] || '#282a36',
        current_line: themeColors['editor.selectionBackground'] || themeColors['selection.background'] || '#44475a',
        foreground: themeColors['editor.foreground'] || themeColors['foreground'] || '#f8f8f2',
        comment: themeColors['editorLineNumber.foreground'] || themeColors['comments'] || '#6272a4',
        cyan: themeColors['editorInfo.foreground'] || themeColors['editor.infoForeground'] || '#8be9fd',
        green: themeColors['editorGutter.addedBackground'] || '#50fa7b',
        orange: themeColors['editorWarning.foreground'] || themeColors['editor.warningForeground'] || '#ffb86c',
        pink: themeColors['editorGutter.modifiedBackground'] || '#ff79c6',
        purple: themeColors['editorGutter.deletedBackground'] || '#bd93f9',
        red: themeColors['editorError.foreground'] || themeColors['editor.errorForeground'] || '#ff5555',
        yellow: themeColors['editorWarning.foreground'] || '#f1fa8c'
    };
}

// Generate OBS theme content
function generateObsTheme(themeName, displayName, colors) {
    const obsColors = mapTextMateToObsColors(colors);

    return `@OBSThemeMeta {{
    name: '${displayName}';
    id: 'com.textmate.${themeName.toLowerCase().replace(/[^a-z0-9]/g, '')}.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* ${displayName} Color Palette */
    --background: ${obsColors.background};
    --current_line: ${obsColors.current_line};
    --foreground: ${obsColors.foreground};
    --comment: ${obsColors.comment};
    --cyan: ${obsColors.cyan};
    --green: ${obsColors.green};
    --orange: ${obsColors.orange};
    --pink: ${obsColors.pink};
    --purple: ${obsColors.purple};
    --red: ${obsColors.red};
    --yellow: ${obsColors.yellow};

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}`;
}

// Main function
async function main() {
    const args = process.argv.slice(2);
    const themeName = args[0];

    if (!themeName) {
        console.log('Usage: node generate_textmate_themes.js <theme-name>');
        console.log('Available themes:');
        // List available themes
        try {
            const { themes } = await import('tm-themes');
            themes.forEach(theme => {
                console.log(`  ${theme.name} - ${theme.displayName}`);
            });
        } catch (error) {
            console.error('Error loading themes:', error.message);
        }
        return;
    }

    try {
        // Import the specific theme
        const themePath = `tm-themes/themes/${themeName}.json`;
        const theme = await import(themePath, { assert: { type: 'json' } });

        const obsTheme = generateObsTheme(themeName, theme.default.displayName || themeName, theme.default.colors);

        // Write to file
        const outputFile = `${themeName}_theme.ovt`;
        fs.writeFileSync(outputFile, obsTheme);

        console.log(`‚úÖ OBS theme generated: ${outputFile}`);
        console.log(`   Based on: ${theme.default.displayName || themeName}`);
        console.log(`   Colors extracted: ${Object.keys(theme.default.colors).length} tokens`);

    } catch (error) {
        console.error(`‚ùå Error generating theme for ${themeName}:`, error.message);
        console.log('Make sure the theme name matches one of the available themes.');
    }
}

main().catch(console.error);
</file>

<file path="apps/backend/openapi.yaml">
openapi: 3.0.3
info:
  title: OBS Styla API
  version: 1.0.0
  description: API for OBS theme management and generation
servers:
  - url: http://localhost:3001/api
    description: Development server
paths:
  /themes:
    get:
      summary: Get all themes
      responses:
        '200':
          description: List of themes
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThemesResponse'
  /themes/{filename}:
    delete:
      summary: Delete a theme
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Theme deleted
  /themes/{filename}/duplicate:
    post:
      summary: Duplicate a theme
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                new_name:
                  type: string
              required:
                - new_name
      responses:
        '200':
          description: Theme duplicated
  /themes/{filename}/meta:
    get:
      summary: Get theme metadata
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Theme metadata
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThemeMeta'
    post:
      summary: Update theme metadata
      parameters:
        - name: filename
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                meta:
                  $ref: '#/components/schemas/ThemeMeta'
              required:
                - meta
      responses:
        '200':
          description: Metadata updated
  /generate:
    post:
      summary: Generate themes
      responses:
        '200':
          description: Generation results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenerateResponse'
  /validate:
    get:
      summary: Validate themes
      responses:
        '200':
          description: Validation results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
  /convert:
    post:
      summary: Convert JSON to OVT
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConvertRequest'
      responses:
        '200':
          description: Conversion result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConvertResponse'
  /health:
    get:
      summary: Health check
      responses:
        '200':
          description: Service is healthy
components:
  schemas:
    Theme:
      type: object
      properties:
        name:
          type: string
        path:
          type: string
        size:
          type: integer
        modified:
          type: integer
      required:
        - name
        - path
        - size
        - modified
    ThemeMeta:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        author:
          type: string
        version:
          type: string
        dark:
          type: boolean
      required:
        - id
        - name
        - author
        - version
        - dark
    ValidationError:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        line:
          type: integer
      required:
        - code
        - message
    ValidationWarning:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        line:
          type: integer
      required:
        - code
        - message
    ValidationReport:
      type: object
      properties:
        summary:
          type: object
          properties:
            errors:
              type: integer
            warnings:
              type: integer
          required:
            - errors
            - warnings
        errors:
          type: array
          items:
            $ref: '#/components/schemas/ValidationError'
        warnings:
          type: array
          items:
            $ref: '#/components/schemas/ValidationWarning'
      required:
        - summary
        - errors
        - warnings
    ThemeValidation:
      type: object
      properties:
        name:
          type: string
        report:
          $ref: '#/components/schemas/ValidationReport'
        error:
          type: string
    ThemesResponse:
      type: object
      properties:
        themes:
          type: array
          items:
            $ref: '#/components/schemas/Theme'
      required:
        - themes
    GenerationResult:
      type: object
      properties:
        script:
          type: string
        returncode:
          type: integer
        stdout:
          type: string
        stderr:
          type: string
        status:
          type: string
        error:
          type: string
    GenerateResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/GenerationResult'
        themes:
          type: array
          items:
            $ref: '#/components/schemas/Theme'
      required:
        - results
        - themes
    ValidationResponse:
      type: object
      properties:
        validations:
          type: array
          items:
            $ref: '#/components/schemas/ThemeValidation'
        duplicate_ids:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              files:
                type: array
                items:
                  type: string
            required:
              - id
              - files
      required:
        - validations
        - duplicate_ids
    ConvertRequest:
      type: object
      properties:
        json:
          type: string
      required:
        - json
    ConvertResponse:
      type: object
      properties:
        ovt:
          type: string
      required:
        - ovt
</file>

<file path="apps/backend/orval.config.js">
module.exports = {
  'obs-styla-frontend': {
    input: {
      target: './openapi.yaml',
    },
    output: {
      target: '../frontend/src/services/orval.ts',
      schemas: '../frontend/src/types/orval',
      client: 'react-query',
      mode: 'single',
      override: {
        mutator: {
          path: '../frontend/src/services/api.ts',
          name: 'apiMutator',
        },
      },
    },
    hooks: {
      useQuery: true,
      useMutation: true,
      useInfinite: false,
      useSuspenseQuery: false,
      useSuspenseInfiniteQuery: false,
    },
  },
  'obs-styla-web': {
    input: {
      target: './openapi.yaml',
    },
    output: {
      target: '../web/src/services/orval.ts',
      schemas: '../web/src/types/orval',
      client: 'react-query',
      mode: 'single',
      override: {
        mutator: {
          path: '../web/src/services/api.ts',
          name: 'apiMutator',
        },
      },
    },
    hooks: {
      useQuery: true,
      useMutation: true,
      useInfinite: false,
      useSuspenseQuery: false,
      useSuspenseInfiniteQuery: false,
    },
  },
};
</file>

<file path="apps/backend/package.json">
{
  "name": "@obs-styla/backend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "start-proxy": "node server.js",
    "dev": "concurrently \"python3 ../../server/server.py\" \"pnpm --silent --prefix . start-proxy\"",
    "generate-types": "orval",
    "generate-themes": "node generate_textmate_themes.js"
  },
  "dependencies": {
    "axios": "^1.4.0",
    "concurrently": "^8.2.0",
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "http-proxy-middleware": "^2.0.6",
    "orval": "^7.17.0",
    "tm-themes": "^1.10.12",
    "zod": "^4.1.13"
  },
  "devDependencies": {
    "@types/express": "^4.17.17",
    "@types/node": "^20.4.2"
  }
}
</file>

<file path="apps/backend/server.js">
import express from 'express';
import { createProxyMiddleware } from 'http-proxy-middleware';
import cors from 'cors';
const app = express();
const PORT = process.env.PORT || 3000;


// Allow requests from dev frontend, and parse JSON
app.use(cors());
app.use(express.json());


// Proxy /api to the Python Flask backend running on port 5000
const PY_TARGET = process.env.PY_TARGET || 'http://127.0.0.1:5000';
app.use('/api', createProxyMiddleware({
  target: PY_TARGET,
  changeOrigin: true,
  pathRewrite: { '^/api': '/api' },
  logLevel: 'warn',
}));


// Optional: serve a small health endpoint
app.get('/health', (_, res) => res.json({ ok: true }));

app.listen(PORT, () => console.log(`Backend proxy running on http://localhost:${PORT} -> ${PY_TARGET}`));
</file>

<file path="apps/frontend/public/index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>OBS Studio Theme Creator ‚Äî Prototype</title>
    <style>
      /* Basic reset and layout */
      :root{
        --bg:#0b1220;
        --surface:#0f1724;
        --muted:#94a3b8;
        --accent:#8b5cf6;
        --text:#e6eef8;
        --danger:#dc2626;
        --success:#16a34a;
        --card-radius:10px;
        --gap:12px;
        --ui-font: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      }

      html,body{height:100%;margin:0;font-family:var(--ui-font);background:linear-gradient(180deg,#071025 0%, #071423 100%);color:var(--text)}
      .app{max-width:1200px;margin:28px auto;padding:20px;display:grid;grid-template-rows:auto 1fr auto;gap:18px}

      /* Header */
      .header{display:flex;justify-content:space-between;align-items:center}
      .title{font-size:20px;font-weight:600;display:flex;gap:12px;align-items:center}
      .controls{display:flex;gap:8px;align-items:center}
      .btn{background:var(--accent);color:white;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
      .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}

      /* Body layout */
      .body{display:grid;grid-template-columns:300px 1fr 360px;gap:18px}
      .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:var(--card-radius);box-shadow:0 6px 20px rgba(2,6,23,0.6)}
      h3{margin:0 0 10px 0;font-size:14px}
      .section{display:flex;flex-direction:column;gap:10px}

      /* Left sidebar (presets & tokens) */
      .presets{display:grid;grid-template-columns:1fr 1fr;gap:8px}
      .preset{background:rgba(255,255,255,0.03);padding:8px;border-radius:8px;cursor:pointer;font-size:13px}
      .token-row{display:flex;align-items:center;gap:8px}
      .token-row label{flex:1;font-size:13px;color:var(--muted)}
      .token-row input[type=color]{width:56px;height:34px;border-radius:6px;border:0;cursor:pointer}

      /* Center preview */
      .preview{display:flex;flex-direction:column;gap:12px}
      .obs-window{background:var(--surface);border-radius:10px;padding:12px;color:var(--text);min-height:360px;border:1px solid rgba(255,255,255,0.03)}
      .obs-top{display:flex;justify-content:space-between;align-items:center}
      .obs-actions{display:flex;gap:8px}
      .obs-actions button{border:0;padding:6px 10px;border-radius:8px;color:white}

      /* Right panel (export & tools) */
      .export-area{display:flex;flex-direction:column;gap:10px}
      .mini{font-size:13px;color:var(--muted)}
      .file-drop{border:2px dashed rgba(255,255,255,0.03);padding:10px;border-radius:8px;text-align:center;color:var(--muted)}
      .validator-output{max-height:220px;overflow:auto;background:rgba(0,0,0,0.2);padding:8px;border-radius:6px;font-family:monospace;font-size:12px}

      footer{display:flex;justify-content:space-between;color:var(--muted);font-size:12px;padding-top:6px}

      @media (max-width:1100px){.body{grid-template-columns:1fr;}.app{padding:12px}}
    </style>
  </head>
  <body>
    <div class="app">
      <header class="header">
        <div class="title">OBS Theme Creator <small style="color:var(--muted);font-size:12px">prototype</small></div>
        <div class="controls">
          <button class="btn" id="exportObv">Export .ovt</button>
          <button class="btn secondary" id="exportCss">Export CSS</button>
        </div>
      </header>

      <div class="body">
        <aside class="panel">
          <div class="section">
            <h3>Presets</h3>
            <div class="presets" id="presets">
              <!-- Preset buttons rendered by JS -->
            </div>
          </div>

          <div class="section">
            <h3>Tokens</h3>
            <div class="token-row"><label>Background</label><input type="color" id="token-bg" value="#071423"></div>
            <div class="token-row"><label>Surface</label><input type="color" id="token-surface" value="#0f1724"></div>
            <div class="token-row"><label>Accent</label><input type="color" id="token-accent" value="#8b5cf6"></div>
            <div class="token-row"><label>Text</label><input type="color" id="token-text" value="#e6eef8"></div>
            <div class="token-row"><label>Border</label><input type="color" id="token-border" value="#1f2937"></div>
          </div>

          <div class="section">
            <h3>Sizes</h3>
            <label class="mini">Base font size <span id="fontSizeLabel">14</span>px</label>
            <input id="fontSize" type="range" min="10" max="20" value="14">
          </div>
        </aside>

        <main class="panel preview">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3 style="margin:0">Preview</h3>
            <div class="mini">Live preview of selected theme tokens</div>
          </div>

          <div class="obs-window" id="obsPreview" role="region" aria-label="OBS preview">
            <div class="obs-top">
              <div style="display:flex;gap:12px;align-items:center">
                <div style="width:40px;height:40px;border-radius:8px;background:rgba(0,0,0,0.2)"></div>
                <div>
                  <div style="font-weight:600">OBS Studio</div>
                  <div style="font-size:12px;color:var(--muted)">Theme preview</div>
                </div>
              </div>
              <div class="obs-actions">
                <button id="recBtn" style="background:var(--danger)">REC</button>
                <button id="streamBtn" style="background:var(--success)">STREAM</button>
                <button id="vcamBtn" style="background:var(--accent)">VCAM</button>
              </div>
            </div>

            <div style="margin-top:14px;display:flex;gap:12px">
              <div style="flex:1;display:flex;flex-direction:column;gap:8px">
                <div style="background:rgba(0,0,0,0.06);padding:10px;border-radius:8px">Scene Collection</div>
                <div style="display:flex;gap:8px">
                  <div style="flex:1;background:rgba(0,0,0,0.06);padding:10px;border-radius:8px">Sources</div>
                  <div style="width:220px;background:rgba(0,0,0,0.04);padding:10px;border-radius:8px">Mixer</div>
                </div>
              </div>
              <div style="width:260px;background:rgba(0,0,0,0.03);padding:10px;border-radius:8px">Properties</div>
            </div>
          </div>

          <div style="display:flex;justify-content:space-between;gap:12px;margin-top:12px">
            <div class="mini">Preview updates immediately when you change tokens.</div>
            <div style="display:flex;gap:8px">
              <button class="btn secondary" id="downloadPreview">Download Preview PNG</button>
            </div>
          </div>
        </main>

        <aside class="panel export-area">
          <div>
            <h3>Export</h3>
            <div class="mini">Build .ovt/.obt files or CSS variables from the current tokens.</div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn" id="exportOvt">Export .ovt</button>
              <button class="btn secondary" id="exportObt">Export .obt</button>
            </div>
          </div>

          <div>
            <h3>Import / Upload</h3>
            <div class="file-drop" id="fileDrop">Drop a .ovt/.obt or JSON here to import</div>
            <input type="file" id="fileInput" style="display:none" accept=".ovt,.obt,.json">
            <div style="margin-top:8px">
              <button class="btn secondary" id="chooseFile">Choose file</button>
            </div>
          </div>

          <div>
            <h3>Validation</h3>
            <div class="mini">Run the built-in validator (client-side) to detect missing meta or var issues.</div>
            <div style="margin-top:8px;display:flex;gap:8px">
              <button class="btn" id="runValidate">Run Validate</button>
            </div>
            <div class="validator-output" id="validatorOutput">No validation run yet.</div>
          </div>
        </aside>
      </div>

      <footer>
        <div>OBS Styla ‚Äî prototype</div>
        <div>Tip: use the Presets to start quickly</div>
      </footer>
    </div>

    <script>
      // Theme state
      const theme = {
        metadata: {name: 'Prototype Theme', id: 'com.example.prototype', author: 'You', dark: true},
        colors: {
          background: getComputedStyle(document.documentElement).getPropertyValue('--bg').trim() || '#071423',
          surface: getComputedStyle(document.documentElement).getPropertyValue('--surface').trim() || '#0f1724',
          accent: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#8b5cf6',
          text: getComputedStyle(document.documentElement).getPropertyValue('--text').trim() || '#e6eef8',
          border: getComputedStyle(document.documentElement).getPropertyValue('--border') || '#1f2937'
        },
        sizes: {fontSize: 14}
      }

      // Presets
      const PRESETS = {
        'Catppuccin Mocha': {background:'#0b1220',surface:'#11121a',accent:'#8b5cf6',text:'#e6eef8'},
        'Material Dark': {background:'#121212',surface:'#1f1f1f',accent:'#ffb86b',text:'#e6eef8'},
        'Light Clean': {background:'#ffffff',surface:'#f7fafc',accent:'#2563eb',text:'#0f1724'}
      }

      // Wire up presets
      const presetsEl = document.getElementById('presets')
      Object.keys(PRESETS).forEach(name=>{
        const div = document.createElement('div')
        div.className='preset'
        div.textContent = name
        div.addEventListener('click',()=>applyPreset(name))
        presetsEl.appendChild(div)
      })

      // Token inputs
      const inputs = {
        bg: document.getElementById('token-bg'),
        surface: document.getElementById('token-surface'),
        accent: document.getElementById('token-accent'),
        text: document.getElementById('token-text'),
        border: document.getElementById('token-border'),
        fontSize: document.getElementById('fontSize'),
        fontSizeLabel: document.getElementById('fontSizeLabel')
      }

      function applyPreset(name){
        const p = PRESETS[name]
        inputs.bg.value = p.background
        inputs.surface.value = p.surface
        inputs.accent.value = p.accent
        inputs.text.value = p.text
        updateFromInputs()
      }

      function updateFromInputs(){
        theme.colors.background = inputs.bg.value
        theme.colors.surface = inputs.surface.value
        theme.colors.accent = inputs.accent.value
        theme.colors.text = inputs.text.value
        theme.colors.border = inputs.border.value
        theme.sizes.fontSize = +inputs.fontSize.value
        inputs.fontSizeLabel.textContent = inputs.fontSize.value
        // Apply to :root CSS vars for preview
        document.documentElement.style.setProperty('--bg', theme.colors.background)
        document.documentElement.style.setProperty('--surface', theme.colors.surface)
        document.documentElement.style.setProperty('--accent', theme.colors.accent)
        document.documentElement.style.setProperty('--text', theme.colors.text)
        document.documentElement.style.setProperty('--border', theme.colors.border)
        document.documentElement.style.setProperty('--font-size', theme.sizes.fontSize+'px')
        // Update preview specific styles
        const obs = document.getElementById('obsPreview')
        obs.style.background = theme.colors.surface
        obs.style.color = theme.colors.text
        obs.querySelectorAll('.obs-actions button').forEach(b=>{
          if(b.id==='recBtn') b.style.background = 'var(--danger)'
          else if(b.id==='streamBtn') b.style.background = 'var(--success)'
          else b.style.background = theme.colors.accent
        })
        // color inner blocks
        obs.querySelectorAll('div[style]').forEach(el=>{
          // naive detection of boxes (we set inline width/height earlier)
          if(el.style.background && el.style.background.includes('rgba')){
            el.style.background = theme.colors.background
          }
        })
      }

      // Attach listeners
      Object.values(inputs).forEach(el=>{ if(el) el.addEventListener('input', updateFromInputs) })

      // File drop
      const fileDrop = document.getElementById('fileDrop')
      const fileInput = document.getElementById('fileInput')
      document.getElementById('chooseFile').addEventListener('click', ()=>fileInput.click())
      fileInput.addEventListener('change', (e)=>{
        const f = e.target.files[0]; if(!f) return; readFileAndImport(f)
      })
      fileDrop.addEventListener('dragover', (e)=>{e.preventDefault(); fileDrop.classList.add('drag')})
      fileDrop.addEventListener('dragleave', ()=>fileDrop.classList.remove('drag'))
      fileDrop.addEventListener('drop', (e)=>{e.preventDefault(); fileDrop.classList.remove('drag'); const f=e.dataTransfer.files[0]; if(f) readFileAndImport(f) })

      function readFileAndImport(file){
        const reader = new FileReader()
        reader.onload = ()=>{
          const text = reader.result
          if(file.name.endsWith('.json')){
            try{const data = JSON.parse(text); if(data.colors) applyImported(data)}catch(e){showMsg('Invalid JSON')}
          }else if(file.name.endsWith('.ovt')||file.name.endsWith('.obt')){
            // naive parser: extract vars block
            const varsMatch = String(text).match(/@OBSThemeVars\s*{([\s\S]*?)}/)
            if(varsMatch){
              const varsText = varsMatch[1]
              const colorMatches = Array.from(varsText.matchAll(/--obs-([a-z0-9-]+):\s*([^;\n]+)/ig))
              colorMatches.forEach(m=>{
                const key = m[1]; const val = m[2].trim();
                if(key.includes('background')) inputs.bg.value = val
                if(key.includes('surface')) inputs.surface.value = val
                if(key.includes('accent')) inputs.accent.value = val
                if(key.includes('text')) inputs.text.value = val
              })
              updateFromInputs()
              showMsg('Imported theme vars from file')
            } else showMsg('No @OBSThemeVars block detected')
          } else showMsg('Unsupported file type')
        }
        reader.readAsText(file)
      }

      function applyImported(data){
        if(data.colors){
          if(data.colors.background) inputs.bg.value = data.colors.background
          if(data.colors.surface) inputs.surface.value = data.colors.surface
          if(data.colors.accent) inputs.accent.value = data.colors.accent
          if(data.colors.text) inputs.text.value = data.colors.text
          updateFromInputs(); showMsg('Imported JSON theme')
        }
      }

      function showMsg(m){ const out=document.getElementById('validatorOutput'); out.textContent = m }

      // Export .ovt
      function buildOVT(){
        const md = theme.metadata
        const colors = theme.colors
        let txt = `@OBSThemeMeta {\n    name: '${md.name}';\n    id: '${md.id}';\n    extends: '';\n    author: '${md.author}';\n    dark: '${md.dark}';\n}\n\n@OBSThemeVars {\n`
        Object.keys(colors).forEach(k=>{ txt += `    --obs-${k}: ${colors[k]};\n` })
        txt += `    --obs-font-size: ${theme.sizes.fontSize}px;\n}`
        txt += `\n/* Basic QSS sample */\nQMainWindow { background-color: var(--obs-background); color: var(--obs-text); }\n`
        return txt
      }

      function download(content, filename, mime='text/plain'){
        const blob = new Blob([content],{type:mime}); const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download=filename; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url)
      }

      document.getElementById('exportOvt').addEventListener('click', ()=>download(buildOVT(), theme.metadata.name.replace(/\s+/g,'-').toLowerCase()+'.ovt'))
      document.getElementById('exportObt').addEventListener('click', ()=>download(buildOVT(), theme.metadata.name.replace(/\s+/g,'-').toLowerCase()+'.obt'))
      document.getElementById('exportObv').addEventListener('click', ()=>download(buildOVT(), 'theme.ovt'))
      document.getElementById('exportCss').addEventListener('click', ()=>{
        let css = `:root {\n`;
        Object.keys(theme.colors).forEach(k=> css += `  --theme-${k}: ${theme.colors[k]};\n`)
        css += `  --theme-font-size: ${theme.sizes.fontSize}px;\n}`
        download(css, 'theme.css', 'text/css')
      })

      // Validator (simple client-side checks)
      document.getElementById('runValidate').addEventListener('click', ()=>{
        const issues = []
        if(!theme.metadata.name) issues.push('META_FIELD_MISSING: name')
        if(!theme.metadata.id) issues.push('META_FIELD_MISSING: id')
        // color validity
        Object.entries(theme.colors).forEach(([k,v])=>{ if(!/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(v)) issues.push(`INVALID_COLOR: ${k} -> ${v}`) })
        const out = document.getElementById('validatorOutput')
        out.textContent = issues.length? issues.join('\n') : 'No issues found (basic checks)'
      })

      // Initialize UI values
      updateFromInputs()

      // Optional: download preview as PNG (simple SVG snapshot fallback)
      document.getElementById('downloadPreview').addEventListener('click', ()=>{
        const p = document.getElementById('obsPreview')
        const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1000\" height=\"600\"><foreignObject width=\"100%\" height=\"100%\">${new XMLSerializer().serializeToString(p)}</foreignObject></svg>`
        download(svg, 'preview.svg', 'image/svg+xml')
      })
    </script>
  </body>
</html>
</file>

<file path="apps/frontend/src/assets/delete.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
</file>

<file path="apps/frontend/src/assets/duplicate.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
</file>

<file path="apps/frontend/src/assets/edit.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
</file>

<file path="apps/frontend/src/assets/preview.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
</file>

<file path="apps/frontend/src/components/LoadingSpinner.css">
.spinner-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

.spinner {
  display: inline-block;
}

.spinner-circle {
  border: 3px solid rgba(59, 130, 246, 0.1);
  border-top-color: #3b82f6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.spinner-small .spinner-circle {
  width: 20px;
  height: 20px;
  border-width: 2px;
}

.spinner-medium .spinner-circle {
  width: 40px;
  height: 40px;
}

.spinner-large .spinner-circle {
  width: 60px;
  height: 60px;
  border-width: 4px;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner-message {
  font-size: 14px;
  color: #6b7280;
  margin: 0;
}

.spinner-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.spinner-overlay .spinner-container {
  background: white;
  padding: 32px;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}
</file>

<file path="apps/frontend/src/components/LoadingSpinner.tsx">
import React from 'react';
import './LoadingSpinner.css';

interface LoadingSpinnerProps {
  size?: 'small' | 'medium' | 'large';
  message?: string;
  overlay?: boolean;
}

export const LoadingSpinner: React.FC<LoadingSpinnerProps> = ({
   size = 'medium',
   message,
  overlay = false
 }) => {
  const spinner = (
    <div className={`spinner-container spinner-${size}`}>
      <div className="spinner" role="status" aria-label="Loading">
        <div className="spinner-circle"></div>
      </div>
      {message && <p className="spinner-message">{message}</p>}
    </div>
  );

   if (overlay) {
    return (
      <div className="spinner-overlay">
        {spinner}
      </div>
    );
  }

   return spinner;
};
</file>

<file path="apps/frontend/src/components/ThemeEditor.tsx">
import React from 'react';

// TODO: Import shadcn/ui color picker and other controls when integrating
// import { ColorPicker } from 'shadcn/ui';

export interface ThemeVars {
  [key: string]: string;
}

export interface ThemeEditorProps {
  vars: ThemeVars;
  onChange: (vars: ThemeVars) => void;
}

/**
 * ThemeEditor: Exposes all palette and semantic color options for editing.
 * Uses compact, density-aware layout (M3 via Tailwind).
 */
export const ThemeEditor: React.FC<ThemeEditorProps> = ({ vars, onChange }) => {
  // Handler for color change
  const handleColorChange = (key: string, value: string) => {
    onChange({ ...vars, [key]: value });
  };

  return (
    <div className="grid grid-cols-1 gap-2 p-3 bg-surface-1 rounded-lg shadow-md">
      {Object.entries(vars).map(([key, value]) => (
        <div key={key} className="flex items-center gap-3">
          <label className="w-40 font-medium text-sm text-on-surface-variant" htmlFor={key}>
            {key}
          </label>
          {/* Replace with shadcn/ui ColorPicker when available */}
          <input
            id={key}
            type="color"
            value={value}
            className="w-8 h-8 border rounded"
            onChange={e => handleColorChange(key, e.target.value)}
          />
          <span className="ml-2 text-xs text-on-surface-variant">{value}</span>
        </div>
      ))}
    </div>
  );
};
</file>

<file path="apps/frontend/src/components/ThemePreview.tsx">
import React from 'react';

export interface ThemePreviewProps {
  vars: Record<string, string>;
}

/**
 * ThemePreview: Renders a live preview of the theme using the current color variables.
 * Applies the colors as inline CSS variables for demonstration.
 */
export const ThemePreview: React.FC<ThemePreviewProps> = ({ vars }) => {
  // Build CSS variable style object
  const style: React.CSSProperties = Object.fromEntries(
    Object.entries(vars).map(([k, v]) => [`--${k}`, v])
  );

  return (
    <div
      className="w-full rounded-lg shadow p-6 flex flex-col gap-4 bg-surface-2 border border-outline-variant"
      style={style}
    >
      <h2 className="text-xl font-bold mb-2" style={{ color: 'var(--text-color, #222)' }}>
        Theme Preview
      </h2>
      <div className="flex gap-4 items-center">
        <div
          className="w-16 h-16 rounded-full border"
          style={{ background: 'var(--primary-color, #3b82f6)' }}
        />
        <div className="flex flex-col gap-1">
          <span className="font-medium" style={{ color: 'var(--primary-color, #3b82f6)' }}>
            Primary
          </span>
          <span className="text-xs" style={{ color: 'var(--text-color, #222)' }}>
            {vars['primary-color']}
          </span>
        </div>
      </div>
      <div className="flex gap-4 items-center">
        <div
          className="w-16 h-16 rounded-full border"
          style={{ background: 'var(--secondary-color, #8b5cf6)' }}
        />
        <div className="flex flex-col gap-1">
          <span className="font-medium" style={{ color: 'var(--secondary-color, #8b5cf6)' }}>
            Secondary
          </span>
          <span className="text-xs" style={{ color: 'var(--text-color, #222)' }}>
            {vars['secondary-color']}
          </span>
        </div>
      </div>
      <div className="flex flex-col gap-2 mt-4">
        <div
          className="rounded p-3"
          style={{ background: 'var(--background-color, #1f2937)', color: 'var(--text-color, #f3f4f6)' }}
        >
          <span className="font-semibold">Background Example</span>
        </div>
      </div>
    </div>
  );
};
</file>

<file path="apps/frontend/src/components/Toast.css">
.toast-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-width: 400px;
}

.toast {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-radius: 8px;
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast-success {
  border-left: 4px solid #10b981;
}

.toast-error {
  border-left: 4px solid #ef4444;
}

.toast-info {
  border-left: 4px solid #3b82f6;
}

.toast-warning {
  border-left: 4px solid #f59e0b;
}

.toast-message {
  flex: 1;
  font-size: 14px;
  color: #1f2937;
}

.toast-close {
  background: none;
  border: none;
  font-size: 20px;
  color: #6b7280;
  cursor: pointer;
  padding: 0;
  margin-left: 12px;
  line-height: 1;
  transition: color 0.2s;
}

.toast-close:hover {
  color: #1f2937;
}
</file>

<file path="apps/frontend/src/components/Toast.tsx">
import React from 'react';
import type { Toast as ToastType } from '../hooks/useToast';
import './Toast.css';

interface ToastProps {
  toast: ToastType;
  onClose: (id: string) => void;
}

export const Toast: React.FC<ToastProps> = ({ toast, onClose }) => {
  return (
    <div className={`toast toast-${toast.type}`} role="alert">
      <span className="toast-message">{toast.message}</span>
      <button
         className="toast-close"
         onClick={() => onClose(toast.id)}
        aria-label="Close notification"
      >
        √ó
      </button>
    </div>
  );
};

interface ToastContainerProps {
  toasts: ToastType[];
  onClose: (id: string) => void;
}

export const ToastContainer: React.FC<ToastContainerProps> = ({ toasts, onClose }) => {
  return (
    <div className="toast-container">
      {toasts.map((toast) => (
        <Toast key={toast.id} toast={toast} onClose={onClose} />
      ))}
    </div>
  );
};
</file>

<file path="apps/frontend/src/components/ValidationReport.css">
.validation-report {
  padding: 20px;
}

.validation-header {
  margin-bottom: 30px;
}

.validation-header h3 {
  margin: 0 0 20px 0;
  font-size: 24px;
  color: #1f2937;
}

.validation-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 16px;
}

.stat {
  padding: 16px;
  background: #f3f4f6;
  border-radius: 8px;
  text-align: center;
}

.stat.error {
  background: #fee2e2;
}

.stat.warning {
  background: #fef3c7;
}

.stat.duplicate {
  background: #dbeafe;
}

.stat-value {
  display: block;
  font-size: 32px;
  font-weight: bold;
  color: #1f2937;
}

.stat-label {
  display: block;
  font-size: 14px;
  color: #6b7280;
  margin-top: 4px;
}

.duplicate-ids-section {
  background: #fef3c7;
  padding: 16px;
  border-radius: 8px;
  margin-bottom: 20px;
  border-left: 4px solid #f59e0b;
}

.duplicate-group {
  margin-top: 12px;
}

.duplicate-group ul {
  margin: 8px 0 0 20px;
}

.validation-items {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.validation-item {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 16px;
}

.validation-item.success {
  border-left: 4px solid #10b981;
}

.validation-item.has-issues {
  border-left: 4px solid #f59e0b;
}

.validation-item.validation-error {
  border-left: 4px solid #ef4444;
}

.validation-item h4 {
  margin: 0 0 12px 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 18px;
  color: #1f2937;
}

.validation-badge {
  font-size: 20px;
}

.validation-summary {
  display: flex;
  gap: 16px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid #e5e7eb;
}

.summary-item {
  font-size: 14px;
  color: #6b7280;
}

.summary-item.has-errors {
  color: #ef4444;
  font-weight: 600;
}

.summary-item.has-warnings {
  color: #f59e0b;
  font-weight: 600;
}

.validation-issues {
  margin-top: 16px;
}

.validation-issues h5 {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-weight: 600;
  text-transform: uppercase;
  color: #6b7280;
}

.issues-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.issues-list li {
  padding: 8px 12px;
  margin-bottom: 4px;
  background: #f9fafb;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.errors-list li {
  background: #fee2e2;
}

.warnings-list li {
  background: #fef3c7;
}

.issue-code {
  background: white;
  padding: 2px 8px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 12px;
  color: #7c3aed;
}

.issue-message {
  flex: 1;
  font-size: 14px;
  color: #374151;
}

.issue-line {
  font-size: 12px;
  color: #6b7280;
  font-style: italic;
}

.error-message {
  padding: 12px;
  background: #fee2e2;
  border-radius: 4px;
  color: #991b1b;
}
</file>

<file path="apps/frontend/src/components/ValidationReport.tsx">
import React from 'react';
import type { ValidationResponse, ThemeValidation, ValidationReport as ValidationReportType } from '../types/api';
import './ValidationReport.css';

interface ValidationReportProps {
  data: ValidationResponse;
}

const ValidationReportItem: React.FC<{ validation: ThemeValidation }> = ({ validation }) => {
  if (validation.error) {
    return (
      <div className="validation-item validation-error">
        <h4>{validation.name}</h4>
        <div className="error-message">
          <strong>Error:</strong> {validation.error}
        </div>
      </div>
    );
  }

   if (!validation.report) return null;

   const { report } = validation;
  const hasIssues = report.errors.length > 0 || report.warnings.length > 0;

   return (
    <div className={`validation-item ${hasIssues ? 'has-issues' : 'success'}`}>
      <h4>
        {validation.name}
        <span className="validation-badge">
          {report.summary.errors === 0 && report.summary.warnings === 0 ? '‚úì' : '‚ö†'}
        </span>
      </h4>

       <div className="validation-summary">
        <span className={`summary-item ${report.summary.errors > 0 ? 'has-errors' : ''}`}>
          Errors: {report.summary.errors}
        </span>
        <span className={`summary-item ${report.summary.warnings > 0 ? 'has-warnings' : ''}`}>
          Warnings: {report.summary.warnings}
        </span>
      </div>

       {report.errors.length > 0 && (
        <div className="validation-issues">
          <h5>Errors</h5>
          <ul className="issues-list errors-list">
            {report.errors.map((err, idx) => (
              <li key={idx}>
                <code className="issue-code">{err.code}</code>
                <span className="issue-message">{err.message}</span>
                {err.line && <span className="issue-line">Line {err.line}</span>}
              </li>
            ))}
          </ul>
        </div>
      )}

       {report.warnings.length > 0 && (
        <div className="validation-issues">
          <h5>Warnings</h5>
          <ul className="issues-list warnings-list">
            {report.warnings.map((warn, idx) => (
              <li key={idx}>
                <code className="issue-code">{warn.code}</code>
                <span className="issue-message">{warn.message}</span>
                {warn.line && <span className="issue-line">Line {warn.line}</span>}
              </li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
};

export const ValidationReport: React.FC<ValidationReportProps> = ({ data }) => {
  const totalThemes = data.validations.length;
  const themesWithErrors = data.validations.filter(v =>
     v.report && v.report.summary.errors > 0
  ).length;
  const themesWithWarnings = data.validations.filter(v =>
     v.report && v.report.summary.warnings > 0
  ).length;

   return (
    <div className="validation-report">
      <div className="validation-header">
        <h3>Validation Summary</h3>
        <div className="validation-stats">
          <div className="stat">
            <span className="stat-value">{totalThemes}</span>
            <span className="stat-label">Themes Validated</span>
          </div>
          <div className="stat error">
            <span className="stat-value">{themesWithErrors}</span>
            <span className="stat-label">With Errors</span>
          </div>
          <div className="stat warning">
            <span className="stat-value">{themesWithWarnings}</span>
            <span className="stat-label">With Warnings</span>
          </div>
          {data.duplicate_ids.length > 0 && (
            <div className="stat duplicate">
              <span className="stat-value">{data.duplicate_ids.length}</span>
              <span className="stat-label">Duplicate IDs</span>
            </div>
          )}
        </div>
      </div>

       {data.duplicate_ids.length > 0 && (
        <div className="duplicate-ids-section">
          <h4>Duplicate Theme IDs</h4>
          {data.duplicate_ids.map((dup, idx) => (
            <div key={idx} className="duplicate-group">
              <strong>ID: {dup.id}</strong>
              <ul>
                {dup.files.map((file, fileIdx) => (
                  <li key={fileIdx}>{file}</li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      )}

       <div className="validation-items">
        {data.validations.map((validation, idx) => (
          <ValidationReportItem key={idx} validation={validation} />
        ))}
      </div>
    </div>
  );
};
</file>

<file path="apps/frontend/src/hooks/useToast.ts">
import { useState, useCallback } from 'react';

export type ToastType = 'success' | 'error' | 'info' | 'warning';

export interface Toast {
  id: string;
  message: string;
  type: ToastType;
}

export const useToast = () => {
  const [toasts, setToasts] = useState<Toast[]>([]);

  const addToast = useCallback((message: string, type: ToastType = 'info') => {
    const id = `${Date.now()}-${Math.random()}`;
    const toast: Toast = { id, message, type };

    setToasts((prev) => [...prev, toast]);

    setTimeout(() => {
      setToasts((prev) => prev.filter((t) => t.id !== id));
    }, 5000);

    return id;
  }, []);

  const removeToast = useCallback((id: string) => {
    setToasts((prev) => prev.filter((t) => t.id !== id));
  }, []);

  return { toasts, addToast, removeToast };
};
</file>

<file path="apps/frontend/src/lib/utils.ts">
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="apps/frontend/src/services/default/default.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type {
  ConvertRequest,
  ConvertResponse,
  GenerateResponse,
  PostThemesFilenameDuplicateBody,
  PostThemesFilenameMetaBody,
  ThemeMeta,
  ThemesResponse,
  ValidationResponse
} from '../../types/orval';

import { apiMutator } from '.././api';



  export const getDefault = () => {
/**
 * @summary Get all themes
 */
const getThemes = (
    
 ) => {
      return apiMutator<ThemesResponse>(
      {url: `/themes`, method: 'GET'
    },
      );
    }
  /**
 * @summary Delete a theme
 */
const deleteThemesFilename = (
    filename: string,
 ) => {
      return apiMutator<void>(
      {url: `/themes/${filename}`, method: 'DELETE'
    },
      );
    }
  /**
 * @summary Duplicate a theme
 */
const postThemesFilenameDuplicate = (
    filename: string,
    postThemesFilenameDuplicateBody: PostThemesFilenameDuplicateBody,
 ) => {
      return apiMutator<void>(
      {url: `/themes/${filename}/duplicate`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameDuplicateBody
    },
      );
    }
  /**
 * @summary Get theme metadata
 */
const getThemesFilenameMeta = (
    filename: string,
 ) => {
      return apiMutator<ThemeMeta>(
      {url: `/themes/${filename}/meta`, method: 'GET'
    },
      );
    }
  /**
 * @summary Update theme metadata
 */
const postThemesFilenameMeta = (
    filename: string,
    postThemesFilenameMetaBody: PostThemesFilenameMetaBody,
 ) => {
      return apiMutator<void>(
      {url: `/themes/${filename}/meta`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameMetaBody
    },
      );
    }
  /**
 * @summary Generate themes
 */
const postGenerate = (
    
 ) => {
      return apiMutator<GenerateResponse>(
      {url: `/generate`, method: 'POST'
    },
      );
    }
  /**
 * @summary Validate themes
 */
const getValidate = (
    
 ) => {
      return apiMutator<ValidationResponse>(
      {url: `/validate`, method: 'GET'
    },
      );
    }
  /**
 * @summary Convert JSON to OVT
 */
const postConvert = (
    convertRequest: ConvertRequest,
 ) => {
      return apiMutator<ConvertResponse>(
      {url: `/convert`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: convertRequest
    },
      );
    }
  /**
 * @summary Health check
 */
const getHealth = (
    
 ) => {
      return apiMutator<void>(
      {url: `/health`, method: 'GET'
    },
      );
    }
  return {}};

type AwaitedInput<T> = PromiseLike<T> | T;

    type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;
</file>

<file path="apps/frontend/src/services/api.ts">
import axios, { AxiosError, AxiosInstance, AxiosRequestConfig } from 'axios';
import type {
  Theme,
  ThemeMeta,
  ThemesResponse,
  GenerateResponse,
  ValidationResponse,
  ConvertRequest,
  ConvertResponse,
} from '../types/api';

class ApiService {
  private client: AxiosInstance;

  constructor(baseURL: string = '/api') {
    this.client = axios.create({
      baseURL,
      timeout: 30000,
      headers: {
        'Content-Type': 'application/json',
      },
    });

    this.setupInterceptors();
  }

  private setupInterceptors(): void {
    // Request interceptor
    this.client.interceptors.request.use(
      (config) => {
        // Add timestamp to prevent caching
        if (config.method === 'get') {
          config.params = {
            ...config.params,
            _t: Date.now(),
          };
        }
        return config;
      },
      (error) => Promise.reject(error)
    );

    // Response interceptor
    this.client.interceptors.response.use(
      (response) => response,
      (error: AxiosError) => {
        if (error.response) {
          // Server responded with error
          const message = (error.response.data as { error: string })?.error || error.message;
          throw new Error(message);
        } else if (error.request) {
          // Request made but no response
          throw new Error('No response from server. Please check your connection.');
        } else {
          // Something else happened
          throw new Error(error.message);
        }
      }
    );
  }

  // Themes
  async getThemes(): Promise<Theme[]> {
    const { data } = await this.client.get<ThemesResponse>('/themes');
    return data.themes || [];
  }

  getThemeDownloadUrl(filename: string): string {
    return `/api/themes/${encodeURIComponent(filename)}`;
  }

  async deleteTheme(filename: string): Promise<void> {
    await this.client.delete(`/themes/${encodeURIComponent(filename)}`);
  }

  async duplicateTheme(filename: string, newName: string): Promise<void> {
    await this.client.post(`/themes/${encodeURIComponent(filename)}/duplicate`, {
      new_name: newName,
    });
  }

  // Theme metadata
  async getThemeMeta(filename: string): Promise<ThemeMeta> {
    const { data } = await this.client.get<ThemeMeta>(
      `/themes/${encodeURIComponent(filename)}/meta`
    );
    return data;
  }

  async updateThemeMeta(filename: string, meta: Partial<ThemeMeta>): Promise<void> {
    await this.client.post(`/themes/${encodeURIComponent(filename)}/meta`, { meta });
  }

  // Generation
  async generateThemes(): Promise<GenerateResponse> {
    const { data } = await this.client.post<GenerateResponse>('/generate');
    return data;
  }

  // Validation
  async validateThemes(): Promise<ValidationResponse> {
    const { data } = await this.client.get<ValidationResponse>('/validate');
    return data;
  }

  // Conversion
  async convertJsonToOvt(json: string): Promise<string> {
    const { data } = await this.client.post<ConvertResponse>('/convert', { json });
    return data.ovt;
  }

  // Health check
  async healthCheck(): Promise<boolean> {
    try {
      await this.client.get('/health');
      return true;
    } catch {
      return false;
    }
  }
}

export const api = new ApiService();
export default api;

// Orval mutator
export const customInstance = axios.create({
  baseURL: '/api',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Setup interceptors for customInstance
customInstance.interceptors.request.use(
  (config) => {
    // Add timestamp to prevent caching
    if (config.method === 'get') {
      config.params = {
        ...config.params,
        _t: Date.now(),
      };
    }
    return config;
  },
  (error) => Promise.reject(error)
);

// Response interceptor
customInstance.interceptors.response.use(
  (response) => response,
  (error: AxiosError) => {
    if (error.response) {
      // Server responded with error
      const message = (error.response.data as { error: string })?.error || error.message;
      throw new Error(message);
    } else if (error.request) {
      // Request made but no response
      throw new Error('No response from server. Please check your connection.');
    } else {
      // Something else happened
      throw new Error(error.message);
    }
  }
);

// Export as function for Orval
export const apiMutator = () => customInstance;
</file>

<file path="apps/frontend/src/services/orval.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import {
  useMutation,
  useQuery
} from '@tanstack/react-query';
import type {
  MutationFunction,
  QueryFunction,
  QueryKey,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult
} from '@tanstack/react-query';

import type {
  ConvertRequest,
  ConvertResponse,
  GenerateResponse,
  PostThemesFilenameDuplicateBody,
  PostThemesFilenameMetaBody,
  ThemeMeta,
  ThemesResponse,
  ValidationResponse
} from '../types/orval';

import { apiMutator } from './api';
type AwaitedInput<T> = PromiseLike<T> | T;

      type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;




/**
 * @summary Get all themes
 */
export const getThemes = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ThemesResponse>(
      {url: `/themes`, method: 'GET', signal
    },
      );
    }
  



export const getGetThemesQueryKey = () => {
    return [
    `/themes`
    ] as const;
    }

    
export const getGetThemesQueryOptions = <TData = Awaited<ReturnType<typeof getThemes>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetThemesQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getThemes>>> = ({ signal }) => getThemes(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData> & { queryKey: QueryKey }
}

export type GetThemesQueryResult = NonNullable<Awaited<ReturnType<typeof getThemes>>>
export type GetThemesQueryError = unknown


/**
 * @summary Get all themes
 */

export function useGetThemes<TData = Awaited<ReturnType<typeof getThemes>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetThemesQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Delete a theme
 */
export const deleteThemesFilename = (
    filename: string,
 ) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}`, method: 'DELETE'
    },
      );
    }
  


export const getDeleteThemesFilenameMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext> => {

const mutationKey = ['deleteThemesFilename'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof deleteThemesFilename>>, {filename: string}> = (props) => {
          const {filename} = props ?? {};

          return  deleteThemesFilename(filename,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type DeleteThemesFilenameMutationResult = NonNullable<Awaited<ReturnType<typeof deleteThemesFilename>>>
    
    export type DeleteThemesFilenameMutationError = unknown

    /**
 * @summary Delete a theme
 */
export const useDeleteThemesFilename = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof deleteThemesFilename>>,
        TError,
        {filename: string},
        TContext
      > => {

      const mutationOptions = getDeleteThemesFilenameMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Duplicate a theme
 */
export const postThemesFilenameDuplicate = (
    filename: string,
    postThemesFilenameDuplicateBody: PostThemesFilenameDuplicateBody,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}/duplicate`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameDuplicateBody, signal
    },
      );
    }
  


export const getPostThemesFilenameDuplicateMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext> => {

const mutationKey = ['postThemesFilenameDuplicate'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, {filename: string;data: PostThemesFilenameDuplicateBody}> = (props) => {
          const {filename,data} = props ?? {};

          return  postThemesFilenameDuplicate(filename,data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostThemesFilenameDuplicateMutationResult = NonNullable<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>>
    export type PostThemesFilenameDuplicateMutationBody = PostThemesFilenameDuplicateBody
    export type PostThemesFilenameDuplicateMutationError = unknown

    /**
 * @summary Duplicate a theme
 */
export const usePostThemesFilenameDuplicate = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postThemesFilenameDuplicate>>,
        TError,
        {filename: string;data: PostThemesFilenameDuplicateBody},
        TContext
      > => {

      const mutationOptions = getPostThemesFilenameDuplicateMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Get theme metadata
 */
export const getThemesFilenameMeta = (
    filename: string,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ThemeMeta>(
      {url: `/themes/${filename}/meta`, method: 'GET', signal
    },
      );
    }
  



export const getGetThemesFilenameMetaQueryKey = (filename?: string,) => {
    return [
    `/themes/${filename}/meta`
    ] as const;
    }

    
export const getGetThemesFilenameMetaQueryOptions = <TData = Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError = unknown>(filename: string, options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetThemesFilenameMetaQueryKey(filename);

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getThemesFilenameMeta>>> = ({ signal }) => getThemesFilenameMeta(filename, signal);

      

      

   return  { queryKey, queryFn, enabled: !!(filename), ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData> & { queryKey: QueryKey }
}

export type GetThemesFilenameMetaQueryResult = NonNullable<Awaited<ReturnType<typeof getThemesFilenameMeta>>>
export type GetThemesFilenameMetaQueryError = unknown


/**
 * @summary Get theme metadata
 */

export function useGetThemesFilenameMeta<TData = Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError = unknown>(
 filename: string, options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetThemesFilenameMetaQueryOptions(filename,options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Update theme metadata
 */
export const postThemesFilenameMeta = (
    filename: string,
    postThemesFilenameMetaBody: PostThemesFilenameMetaBody,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}/meta`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameMetaBody, signal
    },
      );
    }
  


export const getPostThemesFilenameMetaMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext> => {

const mutationKey = ['postThemesFilenameMeta'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postThemesFilenameMeta>>, {filename: string;data: PostThemesFilenameMetaBody}> = (props) => {
          const {filename,data} = props ?? {};

          return  postThemesFilenameMeta(filename,data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostThemesFilenameMetaMutationResult = NonNullable<Awaited<ReturnType<typeof postThemesFilenameMeta>>>
    export type PostThemesFilenameMetaMutationBody = PostThemesFilenameMetaBody
    export type PostThemesFilenameMetaMutationError = unknown

    /**
 * @summary Update theme metadata
 */
export const usePostThemesFilenameMeta = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postThemesFilenameMeta>>,
        TError,
        {filename: string;data: PostThemesFilenameMetaBody},
        TContext
      > => {

      const mutationOptions = getPostThemesFilenameMetaMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Generate themes
 */
export const postGenerate = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<GenerateResponse>(
      {url: `/generate`, method: 'POST', signal
    },
      );
    }
  


export const getPostGenerateMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext> => {

const mutationKey = ['postGenerate'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postGenerate>>, void> = () => {
          

          return  postGenerate()
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostGenerateMutationResult = NonNullable<Awaited<ReturnType<typeof postGenerate>>>
    
    export type PostGenerateMutationError = unknown

    /**
 * @summary Generate themes
 */
export const usePostGenerate = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postGenerate>>,
        TError,
        void,
        TContext
      > => {

      const mutationOptions = getPostGenerateMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Validate themes
 */
export const getValidate = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ValidationResponse>(
      {url: `/validate`, method: 'GET', signal
    },
      );
    }
  



export const getGetValidateQueryKey = () => {
    return [
    `/validate`
    ] as const;
    }

    
export const getGetValidateQueryOptions = <TData = Awaited<ReturnType<typeof getValidate>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetValidateQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getValidate>>> = ({ signal }) => getValidate(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData> & { queryKey: QueryKey }
}

export type GetValidateQueryResult = NonNullable<Awaited<ReturnType<typeof getValidate>>>
export type GetValidateQueryError = unknown


/**
 * @summary Validate themes
 */

export function useGetValidate<TData = Awaited<ReturnType<typeof getValidate>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetValidateQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Convert JSON to OVT
 */
export const postConvert = (
    convertRequest: ConvertRequest,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ConvertResponse>(
      {url: `/convert`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: convertRequest, signal
    },
      );
    }
  


export const getPostConvertMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext> => {

const mutationKey = ['postConvert'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postConvert>>, {data: ConvertRequest}> = (props) => {
          const {data} = props ?? {};

          return  postConvert(data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostConvertMutationResult = NonNullable<Awaited<ReturnType<typeof postConvert>>>
    export type PostConvertMutationBody = ConvertRequest
    export type PostConvertMutationError = unknown

    /**
 * @summary Convert JSON to OVT
 */
export const usePostConvert = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postConvert>>,
        TError,
        {data: ConvertRequest},
        TContext
      > => {

      const mutationOptions = getPostConvertMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Health check
 */
export const getHealth = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/health`, method: 'GET', signal
    },
      );
    }
  



export const getGetHealthQueryKey = () => {
    return [
    `/health`
    ] as const;
    }

    
export const getGetHealthQueryOptions = <TData = Awaited<ReturnType<typeof getHealth>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetHealthQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getHealth>>> = ({ signal }) => getHealth(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData> & { queryKey: QueryKey }
}

export type GetHealthQueryResult = NonNullable<Awaited<ReturnType<typeof getHealth>>>
export type GetHealthQueryError = unknown


/**
 * @summary Health check
 */

export function useGetHealth<TData = Awaited<ReturnType<typeof getHealth>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetHealthQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}
</file>

<file path="apps/frontend/src/types/orval/convertRequest.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ConvertRequest {
  json: string;
}
</file>

<file path="apps/frontend/src/types/orval/convertResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ConvertResponse {
  ovt: string;
}
</file>

<file path="apps/frontend/src/types/orval/generateResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { GenerationResult } from './generationResult';
import type { Theme } from './theme';

export interface GenerateResponse {
  results: GenerationResult[];
  themes: Theme[];
}
</file>

<file path="apps/frontend/src/types/orval/generationResult.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface GenerationResult {
  script?: string;
  returncode?: number;
  stdout?: string;
  stderr?: string;
  status?: string;
  error?: string;
}
</file>

<file path="apps/frontend/src/types/orval/index.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export * from './convertRequest';
export * from './convertResponse';
export * from './generateResponse';
export * from './generationResult';
export * from './postThemesFilenameDuplicateBody';
export * from './postThemesFilenameMetaBody';
export * from './theme';
export * from './themeMeta';
export * from './themeValidation';
export * from './themesResponse';
export * from './validationError';
export * from './validationReport';
export * from './validationReportSummary';
export * from './validationResponse';
export * from './validationResponseDuplicateIdsItem';
export * from './validationWarning';
</file>

<file path="apps/frontend/src/types/orval/postThemesFilenameDuplicateBody.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type PostThemesFilenameDuplicateBody = {
  new_name: string;
};
</file>

<file path="apps/frontend/src/types/orval/postThemesFilenameMetaBody.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ThemeMeta } from './themeMeta';

export type PostThemesFilenameMetaBody = {
  meta: ThemeMeta;
};
</file>

<file path="apps/frontend/src/types/orval/theme.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface Theme {
  name: string;
  path: string;
  size: number;
  modified: number;
}
</file>

<file path="apps/frontend/src/types/orval/themeMeta.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ThemeMeta {
  id: string;
  name: string;
  author: string;
  version: string;
  dark: boolean;
}
</file>

<file path="apps/frontend/src/types/orval/themesResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { Theme } from './theme';

export interface ThemesResponse {
  themes: Theme[];
}
</file>

<file path="apps/frontend/src/types/orval/themeValidation.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ValidationReport } from './validationReport';

export interface ThemeValidation {
  name?: string;
  report?: ValidationReport;
  error?: string;
}
</file>

<file path="apps/frontend/src/types/orval/validationError.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ValidationError {
  code: string;
  message: string;
  line?: number;
}
</file>

<file path="apps/frontend/src/types/orval/validationReport.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ValidationReportSummary } from './validationReportSummary';
import type { ValidationError } from './validationError';
import type { ValidationWarning } from './validationWarning';

export interface ValidationReport {
  summary: ValidationReportSummary;
  errors: ValidationError[];
  warnings: ValidationWarning[];
}
</file>

<file path="apps/frontend/src/types/orval/validationReportSummary.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type ValidationReportSummary = {
  errors: number;
  warnings: number;
};
</file>

<file path="apps/frontend/src/types/orval/validationResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ThemeValidation } from './themeValidation';
import type { ValidationResponseDuplicateIdsItem } from './validationResponseDuplicateIdsItem';

export interface ValidationResponse {
  validations: ThemeValidation[];
  duplicate_ids: ValidationResponseDuplicateIdsItem[];
}
</file>

<file path="apps/frontend/src/types/orval/validationResponseDuplicateIdsItem.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type ValidationResponseDuplicateIdsItem = {
  id: string;
  files: string[];
};
</file>

<file path="apps/frontend/src/types/orval/validationWarning.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ValidationWarning {
  code: string;
  message: string;
  line?: number;
}
</file>

<file path="apps/frontend/src/types/api.ts">
export interface Theme {
  name: string;
  path: string;
  size: number;
  modified: number;
}

export interface ThemeMeta {
  id: string;
  name: string;
  author: string;
  version: string;
  dark: boolean;
}

export interface ValidationError {
  code: string;
  message: string;
  line?: number;
}

export interface ValidationWarning {
  code: string;
  message: string;
  line?: number;
}

export interface ValidationReport {
  summary: {
    errors: number;
    warnings: number;
  };
  errors: ValidationError[];
  warnings: ValidationWarning[];
}

export interface ThemeValidation {
  name: string;
  report?: ValidationReport;
  error?: string;
}

export interface ApiResponse<T> {
  data: T;
  error?: string;
}

export interface ThemesResponse {
  themes: Theme[];
}

export interface GenerationResult {
  script: string;
  returncode?: number;
  stdout?: string;
  stderr?: string;
  status?: string;
  error?: string;
}

export interface GenerateResponse {
  results: GenerationResult[];
  themes: Theme[];
}

export interface ValidationResponse {
  validations: ThemeValidation[];
  duplicate_ids: Array<{
    id: string;
    files: string[];
  }>;
}

export interface ConvertRequest {
  json: string;
}

export interface ConvertResponse {
  ovt: string;
}
</file>

<file path="apps/frontend/src/App.tsx">
import React, { useState } from 'react';
import { ThemeEditor, ThemeVars } from './components/ThemeEditor';
import { ThemePreview } from './components/ThemePreview';
import { useQueryClient } from '@tanstack/react-query';
import MetaEditor from './MetaEditor';
import Converter from './Converter';
import DeleteIcon from './assets/delete.svg';
import DuplicateIcon from './assets/duplicate.svg';
import EditIcon from './assets/edit.svg';
import PreviewIcon from './assets/preview.svg';
import type {
   Theme,
   ThemeMeta,
   ValidationResponse
 } from './types/api';
import { useToast } from './hooks/useToast';
import { ToastContainer } from './components/Toast';
import { LoadingSpinner } from './components/LoadingSpinner';
import { ValidationReport } from './components/ValidationReport';
import {
  useGetThemes,
  usePostGenerate,
  useGetValidate,
  useDeleteThemesFilename,
  usePostThemesFilenameDuplicate,
  useGetThemesFilenameMeta,
  usePostThemesFilenameMeta,
  getThemesFilenameMeta,
} from './services/orval';

interface EditingTheme {
  name: string;
  meta: ThemeMeta;
}


const DEFAULT_THEME_VARS: ThemeVars = {
  'primary-color': '#3b82f6',
  'secondary-color': '#8b5cf6',
  'background-color': '#1f2937',
  'text-color': '#f3f4f6',
  // Add more semantic/palette vars as needed
};

const App: React.FC = () => {
  const [activeTab, setActiveTab] = useState<'gen' | 'val' | 'conv'>('gen');
  const [genOutput, setGenOutput] = useState<string>('No generation run yet.');
  const [validationData, setValidationData] = useState<ValidationResponse | null>(null);
  const [editingTheme, setEditingTheme] = useState<EditingTheme | null>(null);
  const [themeVars, setThemeVars] = useState<ThemeVars>(DEFAULT_THEME_VARS);
  const { toasts, addToast, removeToast } = useToast();
  const queryClient = useQueryClient();

  const { data: themes = [], isLoading: themesLoading, error: themesError } = useGetThemes();

  const generateMutation = usePostGenerate({
    mutation: {
      onSuccess: (result) => {
        setGenOutput(JSON.stringify(result.results, null, 2));
        queryClient.invalidateQueries({ queryKey: ['themes'] });
        addToast('Generation completed successfully', 'success');
      },
      onError: (error: Error) => {
        setGenOutput(`Generation failed: ${error.message}`);
        addToast(error.message, 'error');
      },
    },
  });

  const {
    data: valData,
    isLoading: valLoading,
    error: valError,
    refetch: refetchValidate,
  } = useGetValidate(
    {},
    {
      enabled: false,
      onSuccess: (data) => {
        setValidationData(data);
        addToast('Validation completed', 'success');
      },
      onError: (error: Error) => {
        addToast(error.message, 'error');
      },
    }
  );

  const updateMetaMutation = usePostThemesFilenameMeta({
    mutation: {
      onSuccess: () => {
        addToast('Meta updated successfully', 'success');
      },
      onError: (error: Error) => {
        addToast(error.message, 'error');
      },
    },
  });

  const deleteMutation = useDeleteThemesFilename({
    mutation: {
      onSuccess: () => {
        queryClient.invalidateQueries({ queryKey: ['themes'] });
        addToast('Theme deleted successfully', 'success');
      },
      onError: (error: Error) => {
        addToast(error.message, 'error');
      },
    },
  });

  const duplicateMutation = usePostThemesFilenameDuplicate({
    mutation: {
      onSuccess: () => {
        queryClient.invalidateQueries({ queryKey: ['themes'] });
        addToast('Theme duplicated successfully', 'success');
      },
      onError: (error: Error) => {
        addToast(error.message, 'error');
      },
    },
  });

  const handleGenerate = () => {
    generateMutation.mutate();
  };

  const handleValidate = () => {
    setValidationData(null);
    refetchValidate();
  };

  const handleDelete = (themeName: string) => {
    if (!confirm(`Are you sure you want to delete ${themeName}?`)) return;
    deleteMutation.mutate({ filename: themeName });
  };

  const handleDuplicate = (themeName: string) => {
    const lastDotIndex = themeName.lastIndexOf('.');
    const baseName = lastDotIndex !== -1 ? themeName.substring(0, lastDotIndex) : themeName;
    const extension = lastDotIndex !== -1 ? themeName.substring(lastDotIndex + 1) : '';
    const newName = prompt(
      'Enter a new name for the duplicated theme:',
      `${baseName}-copy.${extension}`
    );

    if (!newName) return;

    duplicateMutation.mutate({ filename: themeName, data: { newName } });
  };

  const handleEdit = async (themeName: string) => {
    try {
      const data = await getThemesFilenameMeta({ filename: themeName });
      setEditingTheme({ name: themeName, meta: data });
    } catch (err) {
      const errorMsg = err instanceof Error ? err.message : 'Failed to fetch metadata';
      addToast(errorMsg, 'error');
    }
  };

  const isLoading = generateMutation.isPending || valLoading || deleteMutation.isPending || duplicateMutation.isPending || themesLoading;

  return (
    <div className="app">
      {isLoading && <LoadingSpinner overlay message="Processing..." />}
      <ToastContainer toasts={toasts} onClose={removeToast} />
      <header>
        <h1>OBS Styla</h1>
        <nav className="tabs">
          <button
            onClick={() => setActiveTab('gen')}
            className={activeTab === 'gen' ? 'active' : ''}
            disabled={isLoading}
          >
            Generator
          </button>
          <button
            onClick={() => setActiveTab('val')}
            className={activeTab === 'val' ? 'active' : ''}
            disabled={isLoading}
          >
            Validator
          </button>
          <button
            onClick={() => setActiveTab('conv')}
            className={activeTab === 'conv' ? 'active' : ''}
            disabled={isLoading}
          >
            Converter
          </button>
        </nav>
      </header>

      {themesError && (
        <div className="error-banner">
          <span>{themesError.message}</span>
          <button onClick={() => queryClient.invalidateQueries({ queryKey: ['themes'] })}>√ó</button>
        </div>
      )}

      <main>

        {activeTab === 'gen' && (
          <section id="gen" className="panel flex flex-col gap-6">
            <div className="controls flex gap-2">
              <button onClick={handleGenerate} disabled={isLoading}>
                {isLoading ? 'Running...' : 'Run Generation'}
              </button>
              <button onClick={() => queryClient.invalidateQueries({ queryKey: ['themes'] })} disabled={isLoading}>
                Refresh Themes
              </button>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h3 className="font-semibold mb-2">Theme Editor</h3>
                <ThemeEditor vars={themeVars} onChange={setThemeVars} />
              </div>
              <div>
                <h3 className="font-semibold mb-2">Live Preview</h3>
                <ThemePreview vars={themeVars} />
              </div>
            </div>
            <div className="panel-inner mt-4">
              <pre>{genOutput}</pre>
            </div>
            <h3>Generated Themes ({themes.length})</h3>
            {themes.length === 0 ? (
              <p className="empty-state">No themes generated yet.</p>
            ) : (
              <ul id="themes-list">
                {themes.map((t) => (
                  <li key={t.name}>
                    <a
                      href={api.downloadTheme(t.name)}
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      {t.name} ({(t.size / 1024).toFixed(2)} KB)
                    </a>
                    <div className="theme-actions">
                      <button
                        onClick={() => handleEdit(t.name)}
                        title="Edit metadata"
                        aria-label={`Edit ${t.name}`}
                      >
                        <EditIcon />
                      </button>
                      <button
                        onClick={() => handleDuplicate(t.name)}
                        title="Duplicate theme"
                        aria-label={`Duplicate ${t.name}`}
                      >
                        <DuplicateIcon />
                      </button>
                      <button
                        onClick={() => window.open(api.downloadTheme(t.name), '_blank')}
                        title="Preview theme"
                        aria-label={`Preview ${t.name}`}
                      >
                        <PreviewIcon />
                      </button>
                      <button
                        onClick={() => handleDelete(t.name)}
                        title="Delete theme"
                        aria-label={`Delete ${t.name}`}
                        className="danger"
                      >
                        <DeleteIcon />
                      </button>
                    </div>
                  </li>
                ))}
              </ul>
            )}
          </section>
        )}

        {activeTab === 'val' && (
          <section id="val" className="panel">
            <div className="controls">
              <button onClick={handleValidate} disabled={isLoading}>
                {isLoading ? 'Validating...' : 'Run Validation'}
              </button>
            </div>
            {validationData ? (
              <ValidationReport data={validationData} />
            ) : (
              <p className="empty-state">No validation results yet. Click "Run Validation" to start.</p>
            )}
          </section>
        )}

        {activeTab === 'conv' && (
          <section id="conv" className="panel">
            <Converter />
          </section>
        )}
      </main>

      {editingTheme && (
        <MetaEditor
          themeName={editingTheme.name}
          initialMeta={editingTheme.meta}
          onClose={() => setEditingTheme(null)}
          onSave={async () => {
            setEditingTheme(null);
            queryClient.invalidateQueries({ queryKey: ['themes'] });
          }}
        />
      )}
    </div>
  );
};

export default App;
</file>

<file path="apps/frontend/src/Converter.css">
.converter {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.converter-header {
  margin-bottom: 24px;
}

.converter-header h3 {
  margin: 0 0 8px 0;
  font-size: 24px;
  color: #1f2937;
}

.converter-description {
  margin: 0;
  color: #6b7280;
  font-size: 14px;
}

.converter-layout {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 24px;
  margin-bottom: 24px;
}

.converter-divider {
  width: 2px;
  background: linear-gradient(to bottom, transparent, #e5e7eb 20%, #e5e7eb 80%, transparent);
  align-self: stretch;
}

.converter-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.section-header h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #374151;
}

.section-actions {
  display: flex;
  gap: 8px;
}

.converter-input, .converter-output {
  width: 100%;
  min-height: 400px;
  padding: 16px;
  font-family: 'Courier New', Consolas, monospace;
  font-size: 13px;
  line-height: 1.6;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  resize: vertical;
  transition: border-color 0.2s;
}

.converter-input:focus, .converter-output:focus {
  outline: none;
  border-color: #3b82f6;
}

.converter-input.error {
  border-color: #ef4444;
}

.converter-input:disabled, .converter-output:disabled {
  background: #f9fafb;
  cursor: not-allowed;
}

.converter-output {
  background: #f9fafb;
  color: #1f2937;
}

.validation-error {
  padding: 12px;
  background: #fee2e2;
  border-left: 4px solid #ef4444;
  border-radius: 4px;
  font-size: 13px;
  color: #991b1b;
}

.validation-error strong {
  display: block;
  margin-bottom: 4px;
}

.convert-controls {
  display: flex;
  justify-content: center;
}

.output-info {
  padding: 8px 12px;
  background: #d1fae5;
  border-radius: 4px;
  font-size: 13px;
  color: #065f46;
  text-align: center;
}

.converter-help {
  padding: 20px;
  background: #f9fafb;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
}

.converter-help h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: #374151;
}

.converter-help ul {
  margin: 0;
  padding-left: 20px;
  color: #6b7280;
  font-size: 13px;
}

.converter-help li {
  margin-bottom: 6px;
}

.converter-help code {
  background: white;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 12px;
  color: #7c3aed;
}

.btn-primary, .btn-secondary {
  padding: 10px 20px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-primary {
  background: #3b82f6;
  color: white;
  min-width: 200px;
}

.btn-primary:hover:not(:disabled) {
  background: #2563eb;
}

.btn-primary:disabled {
  background: #9ca3af;
  cursor: not-allowed;
}

.btn-secondary {
  background: #f3f4f6;
  color: #374151;
}

.btn-secondary:hover:not(:disabled) {
  background: #e5e7eb;
}

.btn-secondary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-sm {
  padding: 6px 12px;
  font-size: 13px;
}

@media (max-width: 1024px) {
  .converter-layout {
    grid-template-columns: 1fr;
  }

  .converter-divider {
    display: none;
  }
}
</file>

<file path="apps/frontend/src/Converter.tsx">
import React, { useState, useEffect } from 'react';
import { usePostConvert } from './services/orval';
import { useToast } from './hooks/useToast';
import './Converter.css';

interface JsonValidationResult {
  valid: boolean;
  error?: string;
  errorPosition?: number;
}

const EXAMPLE_TEMPLATE = `{
  "meta": {
    "id": "my-custom-theme",
    "name": "My Custom Theme",
    "author": "Your Name",
    "version": "1.0.0",
    "dark": true
  },
  "vars": {
    "primary-color": "#3b82f6",
    "secondary-color": "#8b5cf6",
    "background-color": "#1f2937",
    "text-color": "#f3f4f6",
    "border-radius": "8px"
  }
}`;

const Converter: React.FC = () => {
  const [jsonInput, setJsonInput] = useState('');
  const [ovtOutput, setOvtOutput] = useState('');
  const [validation, setValidation] = useState<JsonValidationResult>({ valid: true });
  const { addToast } = useToast();

  const convertMutation = usePostConvert({
    mutation: {
      onSuccess: (result) => {
        setOvtOutput(result);
        addToast('Conversion successful!', 'success');
      },
      onError: (error: Error) => {
        setOvtOutput(`Conversion failed: ${error.message}`);
        addToast(error.message, 'error');
      },
    },
  });

  useEffect(() => {
    // Validate JSON as user types (debounced)
    const timer = setTimeout(() => {
      if (!jsonInput.trim()) {
        setValidation({ valid: true });
        return;
      }

      try {
        const parsed = JSON.parse(jsonInput);

        // Check structure
        if (!parsed.meta || !parsed.vars) {
          setValidation({
            valid: false,
            error: 'JSON must contain "meta" and "vars" objects',
          });
          return;
        }

        setValidation({ valid: true });
      } catch (err) {
        const error = err as Error;
        const match = error.message.match(/position (\d+)/);
        const lineNumber = match ? parseInt(match[1], 10) : undefined;

        setValidation({
          valid: false,
          error: error.message,
          lineNumber,
        });
      }
    }, 500);

    return () => clearTimeout(timer);
  }, [jsonInput]);

  const handleConvert = (): void => {
    if (!validation.valid) {
      addToast('Please fix JSON errors before converting', 'error');
      return;
    }

    if (!jsonInput.trim()) {
      addToast('Please enter JSON to convert', 'warning');
      return;
    }

    convertMutation.mutate({ data: { json: jsonInput } });
  };

  const handleLoadExample = (): void => {
    setJsonInput(EXAMPLE_TEMPLATE);
    setOvtOutput('');
    addToast('Example template loaded', 'info');
  };

  const handleClear = (): void => {
    setJsonInput('');
    setOvtOutput('');
    setValidation({ valid: true });
  };

  const handleCopyOutput = async (): Promise<void> => {
    if (!ovtOutput) {
      addToast('Nothing to copy', 'warning');
      return;
    }

    try {
      await navigator.clipboard.writeText(ovtOutput);
      addToast('Copied to clipboard!', 'success');
    } catch {
      addToast('Failed to copy to clipboard', 'error');
    }
  };

  const handleDownload = (): void => {
    if (!ovtOutput) {
      addToast('Nothing to download', 'warning');
      return;
    }

    const blob = new Blob([ovtOutput], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'theme.ovt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    addToast('Downloaded theme.ovt', 'success');
  };

  return (
    <div className="converter">
      <div className="converter-header">
        <h3>JSON to OVT Converter</h3>
        <p className="converter-description">
          Convert JSON theme definitions to OBS Studio .ovt theme files
        </p>
      </div>

      <div className="converter-layout">
        <div className="converter-section">
          <div className="section-header">
            <h4>JSON Input</h4>
            <div className="section-actions">
              <button
                 className="btn-secondary btn-sm"
                 onClick={handleLoadExample}
                disabled={convertMutation.isPending}
              >
                Load Example
              </button>
              <button
                 className="btn-secondary btn-sm"
                 onClick={handleClear}
                disabled={convertMutation.isPending || !jsonInput}
              >
                Clear
              </button>
            </div>
          </div>

          <textarea
            className={`converter-input ${!validation.valid ? 'error' : ''}`}
            value={jsonInput}
            onChange={(e) => setJsonInput(e.target.value)}
            placeholder="Paste your JSON theme configuration here..."
            spellCheck={false}
            disabled={convertMutation.isPending}
          />

          {!validation.valid && validation.error && (
            <div className="validation-error">
              <strong>JSON Error:</strong> {validation.error}
              {validation.lineNumber && ` (near position ${validation.lineNumber})`}
            </div>
          )}

          <div className="convert-controls">
            <button
               className="btn-primary"
               onClick={handleConvert}
              disabled={!validation.valid || !jsonInput.trim() || convertMutation.isPending}
            >
              {convertMutation.isPending ? 'Converting...' : 'Convert to OVT'}
            </button>
          </div>
        </div>

        <div className="converter-divider" />

        <div className="converter-section">
          <div className="section-header">
            <h4>OVT Output</h4>
            <div className="section-actions">
              <button
                 className="btn-secondary btn-sm"
                 onClick={handleCopyOutput}
                disabled={!ovtOutput}
              >
                Copy
              </button>
              <button
                 className="btn-secondary btn-sm"
                 onClick={handleDownload}
                disabled={!ovtOutput}
              >
                Download
              </button>
            </div>
          </div>

          <textarea
            className="converter-output"
            value={ovtOutput}
            readOnly
            placeholder="OVT output will appear here after conversion..."
            spellCheck={false}
          />

          {ovtOutput && (
            <div className="output-info">
              <span>‚úì Ready to use in OBS Studio</span>
            </div>
          )}
        </div>
      </div>

      <div className="converter-help">
        <h4>Format Requirements</h4>
        <ul>
          <li>JSON must include <code>meta</code> object with theme metadata</li>
          <li>JSON must include <code>vars</code> object with CSS variables</li>
          <li>All CSS variable names will be prefixed with <code>--</code> automatically</li>
        </ul>
      </div>
    </div>
  );
};

export default Converter;
</file>

<file path="apps/frontend/src/main.tsx">
import React from 'react';
import { createRoot } from 'react-dom/client';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import App from './App';
import './style.css';

const queryClient = new QueryClient();

const container = document.getElementById('root');
if (!container) throw new Error('Root element not found');
const root = createRoot(container);
root.render(
  <QueryClientProvider client={queryClient}>
    <App />
  </QueryClientProvider>
);
</file>

<file path="apps/frontend/src/MetaEditor.css">
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-content {
  background: white;
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 24px 16px;
  border-bottom: 1px solid #e5e7eb;
}

.modal-header h3 {
  margin: 0;
  font-size: 20px;
  color: #1f2937;
}

.modal-close {
  background: none;
  border: none;
  font-size: 28px;
  color: #6b7280;
  cursor: pointer;
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: all 0.2s;
}

.modal-close:hover {
  background: #f3f4f6;
  color: #1f2937;
}

.modal-info {
  padding: 16px 24px;
  background: #f9fafb;
  border-bottom: 1px solid #e5e7eb;
}

.theme-name {
  font-size: 14px;
  color: #6b7280;
  font-family: 'Courier New', monospace;
}

.modal-content form {
  padding: 24px;
}

.form-grid {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-group label {
  font-size: 14px;
  font-weight: 500;
  color: #374151;
}

.required {
  color: #ef4444;
}

.form-group input[type="text"] {
  padding: 10px 12px;
  border: 2px solid #e5e7eb;
  border-radius: 6px;
  font-size: 14px;
  transition: border-color 0.2s;
}

.form-group input[type="text"]:focus {
  outline: none;
  border-color: #3b82f6;
}

.form-group input[type="text"].error {
  border-color: #ef4444;
}

.form-group input[type="text"]:disabled {
  background: #f9fafb;
  cursor: not-allowed;
}

.error-message {
  font-size: 13px;
  color: #ef4444;
}

.field-hint {
  font-size: 12px;
  color: #6b7280;
  font-style: italic;
}

.checkbox-group {
  flex-direction: row;
  align-items: flex-start;
  gap: 8px;
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
}

.checkbox-label input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.checkbox-label span {
  font-size: 14px;
  color: #374151;
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #e5e7eb;
}

@media (max-width: 640px) {
  .modal-content {
    margin: 0;
    border-radius: 0;
    max-height: 100vh;
  }

  .modal-footer {
    flex-direction: column-reverse;
  }

  .modal-footer button {
    width: 100%;
  }
}
</file>

<file path="apps/frontend/src/MetaEditor.tsx">
import React, { useState, useEffect, useCallback } from 'react';
import { usePostThemesFilenameMeta } from './services/orval';
import { useToast } from './hooks/useToast';
import type { ThemeMeta } from './types/api';
import './MetaEditor.css';

interface MetaEditorProps {
  themeName: string;
  initialMeta: ThemeMeta;
  onClose: () => void;
  onSave: () => void;
}

interface ValidationErrors {
  id?: string;
  name?: string;
  author?: string;
  version?: string;
}

const MetaEditor: React.FC<MetaEditorProps> = ({
   themeName,
   initialMeta,
   onClose,
   onSave
 }) => {
  const [meta, setMeta] = useState<ThemeMeta>(initialMeta);
  const [errors, setErrors] = useState<ValidationErrors>({});
  const { addToast } = useToast();

  const updateMetaMutation = usePostThemesFilenameMeta({
    mutation: {
      onSuccess: () => {
        addToast('Metadata saved successfully', 'success');
        onSave();
      },
      onError: (error: Error) => {
        addToast(error.message, 'error');
      },
    },
  });

  const validateField = (name: keyof ThemeMeta, value: string | boolean): string | null => {
    if (typeof value === 'boolean') return null;

    switch (name) {
      case 'id':
        if (!value.trim()) return 'ID is required';
        if (!/^[a-z0-9-_]+$/i.test(value)) {
          return 'ID can only contain letters, numbers, hyphens, and underscores';
        }
        if (value.length < 3) return 'ID must be at least 3 characters';
        if (value.length > 50) return 'ID must be less than 50 characters';
        break;
      case 'name':
        if (!value.trim()) return 'Name is required';
        if (value.length < 3) return 'Name must be at least 3 characters';
        if (value.length > 100) return 'Name must be less than 100 characters';
        break;
      case 'author':
        if (!value.trim()) return 'Author is required';
        if (value.length > 100) return 'Author must be less than 100 characters';
        break;
      case 'version':
        if (!value.trim()) return 'Version is required';
        if (!/^\d+\.\d+\.\d+$/.test(value)) {
          return 'Version must follow semantic versioning (e.g., 1.0.0)';
        }
        break;
    }

    return null;
  };

  const validateForm = (): boolean => {
    const newErrors: ValidationErrors = {};

    const idError = validateField('id', meta.id);
    if (idError) newErrors.id = idError;

    const nameError = validateField('name', meta.name);
    if (nameError) newErrors.name = nameError;

    const authorError = validateField('author', meta.author);
    if (authorError) newErrors.author = authorError;

    const versionError = validateField('version', meta.version);
    if (versionError) newErrors.version = versionError;

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {
    const { name, value, type, checked } = e.target;
    const newValue = type === 'checkbox' ? checked : value;

    setMeta({
      ...meta,
      [name]: newValue,
    });

    // Clear error for this field when user types
    if (errors[name as keyof ValidationErrors]) {
      setErrors({
        ...errors,
        [name]: undefined,
      });
    }
  };

  const handleBlur = (e: React.FocusEvent<HTMLInputElement>): void => {
    const { name, value } = e.target;
    const error = validateField(name as keyof ThemeMeta, value);

    if (error) {
      setErrors({
        ...errors,
        [name]: error,
      });
    }
  };

  const handleSubmit = (e: React.FormEvent): void => {
    e.preventDefault();

    if (!validateForm()) {
      addToast('Please fix validation errors', 'error');
      return;
    }

    updateMetaMutation.mutate({ filename: themeName, data: meta });
  };

  const handleCancel = useCallback((): void => {
    if (JSON.stringify(meta) !== JSON.stringify(initialMeta)) {
      if (!confirm('You have unsaved changes. Are you sure you want to close?')) {
        return;
      }
    }
    onClose();
  }, [meta, initialMeta, onClose]);

  // Close on Escape key
  useEffect(() => {
    const handleEscape = (e: KeyboardEvent): void => {
      if (e.key === 'Escape') {
        handleCancel();
      }
    };

    document.addEventListener('keydown', handleEscape);
    return () => document.removeEventListener('keydown', handleEscape);
  }, [handleCancel]);

  return (
    <div className="modal-overlay" onClick={handleCancel}>
      <div className="modal-content" onClick={(e) => e.stopPropagation()}>
        <div className="modal-header">
          <h3>Edit Theme Metadata</h3>
          <button
             className="modal-close"
             onClick={handleCancel}
            aria-label="Close modal"
          >
            √ó
          </button>
        </div>

        <div className="modal-info">
          <span className="theme-name">{themeName}</span>
        </div>

        <form onSubmit={handleSubmit} noValidate>
          <div className="form-grid">
            <div className="form-group">
              <label htmlFor="id">
                Theme ID <span className="required">*</span>
              </label>
              <input
                type="text"
                id="id"
                name="id"
                value={meta.id}
                onChange={handleChange}
                onBlur={handleBlur}
                className={errors.id ? 'error' : ''}
                disabled={updateMetaMutation.isPending}
                placeholder="my-theme-id"
                required
              />
              {errors.id && <span className="error-message">{errors.id}</span>}
              <span className="field-hint">
                Unique identifier using only letters, numbers, hyphens, and underscores
              </span>
            </div>

            <div className="form-group">
              <label htmlFor="name">
                Display Name <span className="required">*</span>
              </label>
              <input
                type="text"
                id="name"
                name="name"
                value={meta.name}
                onChange={handleChange}
                onBlur={handleBlur}
                className={errors.name ? 'error' : ''}
                disabled={updateMetaMutation.isPending}
                placeholder="My Beautiful Theme"
                required
              />
              {errors.name && <span className="error-message">{errors.name}</span>}
              <span className="field-hint">
                Human-readable theme name displayed in OBS Studio
              </span>
            </div>

            <div className="form-group">
              <label htmlFor="author">
                Author <span className="required">*</span>
              </label>
              <input
                type="text"
                id="author"
                name="author"
                value={meta.author}
                onChange={handleChange}
                onBlur={handleBlur}
                className={errors.author ? 'error' : ''}
                disabled={updateMetaMutation.isPending}
                placeholder="Your Name"
                required
              />
              {errors.author && <span className="error-message">{errors.author}</span>}
              <span className="field-hint">Theme creator name</span>
            </div>

            <div className="form-group">
              <label htmlFor="version">
                Version <span className="required">*</span>
              </label>
              <input
                type="text"
                id="version"
                name="version"
                value={meta.version}
                onChange={handleChange}
                onBlur={handleBlur}
                className={errors.version ? 'error' : ''}
                disabled={updateMetaMutation.isPending}
                placeholder="1.0.0"
                required
              />
              {errors.version && <span className="error-message">{errors.version}</span>}
              <span className="field-hint">
                Semantic version number (major.minor.patch)
              </span>
            </div>

            <div className="form-group checkbox-group">
              <label htmlFor="dark" className="checkbox-label">
                <input
                  type="checkbox"
                  id="dark"
                  name="dark"
                  checked={meta.dark}
                  onChange={handleChange}
                  disabled={updateMetaMutation.isPending}
                />
                <span>Dark theme</span>
              </label>
              <span className="field-hint">
                Enable if this theme uses dark colors
              </span>
            </div>
          </div>

          <div className="modal-footer">
            <button
               type="button"
               className="btn-secondary"
               onClick={handleCancel}
              disabled={updateMetaMutation.isPending}
            >
              Cancel
            </button>
            <button
               type="submit"
               className="btn-primary"
              disabled={updateMetaMutation.isPending}
            >
              {updateMetaMutation.isPending ? 'Saving...' : 'Save Changes'}
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

export default MetaEditor;
</file>

<file path="apps/frontend/src/style.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

@theme {
  --color-background: hsl(0 0% 100%);
  --color-foreground: hsl(222.2 84% 4.9%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(222.2 84% 4.9%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(222.2 84% 4.9%);
  --color-primary: hsl(221.2 83.2% 53.3%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-secondary: hsl(210 40% 96%);
  --color-secondary-foreground: hsl(222.2 84% 4.9%);
  --color-muted: hsl(210 40% 96%);
  --color-muted-foreground: hsl(215.4 16.3% 46.9%);
  --color-accent: hsl(210 40% 96%);
  --color-accent-foreground: hsl(222.2 84% 4.9%);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(214.3 31.8% 91.4%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(221.2 83.2% 53.3%);
  --border-radius: 0.5rem;
}

.dark {
  --color-background: hsl(222.2 84% 4.9%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(222.2 84% 4.9%);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(222.2 84% 4.9%);
  --color-popover-foreground: hsl(210 40% 98%);
  --color-primary: hsl(217.2 91.2% 59.8%);
  --color-primary-foreground: hsl(222.2 84% 4.9%);
  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);
  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(217.2 32.6% 17.5%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(224.3 76.3% 94.1%);
}

@layer base {
  * {
    border-color: hsl(var(--color-border));
  }
  body {
    background-color: hsl(var(--color-background));
    color: hsl(var(--color-foreground));
  }
}

body {
	font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
	padding: 1rem;
	background: #0f1720;
	color: #e6eef8;
}

.app {
	max-width: 920px;
	margin: 0 auto;
}

header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 1rem;
}

.controls button {
	padding: 0.5rem 0.75rem;
	border-radius: 6px;
	border: none;
	background: #2563eb;
	color: white;
	cursor: pointer;
}

.muted { color: #9aa7bd; margin-left: 0.75rem }

.controls { display:flex; justify-content:space-between; align-items:center }
.left-controls { display:flex; gap:0.5rem; align-items:center }
.right-controls { display:flex; gap:0.5rem; align-items:center }

input[type="text"], input[type="search"], input[id="search"] {
	padding: 0.4rem 0.5rem; border-radius:6px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit
}

.checkbox { color:#9aa7bd; display:flex; align-items:center; gap:0.25rem }

.panel {
	background: #071029;
	border-radius: 8px;
	padding: 1rem;
	min-height: 160px;
}

.tabs button { padding: 0.4rem 0.6rem; border-radius:6px; border:none; background:transparent; color:inherit; margin-right:0.5rem }
.tabs .active { background:#111827 }
.panel-inner { background: rgba(255,255,255,0.02); padding:0.75rem; border-radius:6px; margin-top:0.5rem }
.controls { display:flex; gap:0.5rem; align-items:center }
.controls button { padding:0.4rem 0.6rem; border-radius:6px; border:none; background:#2563eb; color:white }
.muted { color:#9aa7bd }
.error { color: #ffb4b4 }
.panel ul { margin-left:1rem }

.report-item { border-bottom: 1px solid rgba(255,255,255,0.03); padding: 0.5rem 0 }
.report-header { display:flex; justify-content:space-between; cursor:pointer }
.report-name { font-weight: 600 }
.report-counts { color: #9aa7bd }
.report-counts .err { color: #ff6b6b; margin-right: 0.5rem }
.report-counts .warn { color: #f6c85f }
.report-body { padding: 0.5rem 0 0.25rem 0 }
.errors li { color: #ffb4b4 }
.warnings li { color: #f6e8b3 }
.error { color: #ffb4b4 }

.validation-report {
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 6px;
}

.validation-report h4 {
  margin-top: 0;
}

.validation-report .errors {
  color: #ffb4b4;
}

.validation-report .warnings {
  color: #f6e8b3;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #0f1720;
  padding: 2rem;
  border-radius: 6px;
  width: 400px;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-content form {
  display: flex;
  flex-direction: column;
}

.modal-content label {
  margin-top: 1rem;
}

.modal-content input {
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: transparent;
  color: inherit;
}

.modal-buttons {
  margin-top: 1rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}

body {
	font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
	padding: 1rem;
	background: #0f1720;
	color: #e6eef8;
}

.app {
	max-width: 920px;
	margin: 0 auto;
}

header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 1rem;
}

.controls button {
	padding: 0.5rem 0.75rem;
	border-radius: 6px;
	border: none;
	background: #2563eb;
	color: white;
	cursor: pointer;
}

.muted { color: #9aa7bd; margin-left: 0.75rem }

.controls { display:flex; justify-content:space-between; align-items:center }
.left-controls { display:flex; gap:0.5rem; align-items:center }
.right-controls { display:flex; gap:0.5rem; align-items:center }

input[type="text"], input[type="search"], input[id="search"] {
	padding: 0.4rem 0.5rem; border-radius:6px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit
}

.checkbox { color:#9aa7bd; display:flex; align-items:center; gap:0.25rem }

.panel {
	background: #071029;
	border-radius: 8px;
	padding: 1rem;
	min-height: 160px;
}

.tabs button { padding: 0.4rem 0.6rem; border-radius:6px; border:none; background:transparent; color:inherit; margin-right:0.5rem }
.tabs .active { background:#111827 }
.panel-inner { background: rgba(255,255,255,0.02); padding:0.75rem; border-radius:6px; margin-top:0.5rem }
.controls { display:flex; gap:0.5rem; align-items:center }
.controls button { padding:0.4rem 0.6rem; border-radius:6px; border:none; background:#2563eb; color:white }
.muted { color:#9aa7bd }
.error { color: #ffb4b4 }
.panel ul { margin-left:1rem }

.report-item { border-bottom: 1px solid rgba(255,255,255,0.03); padding: 0.5rem 0 }
.report-header { display:flex; justify-content:space-between; cursor:pointer }
.report-name { font-weight: 600 }
.report-counts { color: #9aa7bd }
.report-counts .err { color: #ff6b6b; margin-right: 0.5rem }
.report-counts .warn { color: #f6c85f }
.report-body { padding: 0.5rem 0 0.25rem 0 }
.errors li { color: #ffb4b4 }
.warnings li { color: #f6e8b3 }
.error { color: #ffb4b4 }

.validation-report {
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 6px;
}

.validation-report h4 {
  margin-top: 0;
}

.validation-report .errors {
  color: #ffb4b4;
}

.validation-report .warnings {
  color: #f6e8b3;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #0f1720;
  padding: 2rem;
  border-radius: 6px;
  width: 400px;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-content form {
  display: flex;
  flex-direction: column;
}

.modal-content label {
  margin-top: 1rem;
}

.modal-content input {
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: transparent;
  color: inherit;
}

.modal-buttons {
  margin-top: 1rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}

.app {
	max-width: 920px;
	margin: 0 auto;
}

header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 1rem;
}

.controls button {
	padding: 0.5rem 0.75rem;
	border-radius: 6px;
	border: none;
	background: #2563eb;
	color: white;
	cursor: pointer;
}

.muted { color: #9aa7bd; margin-left: 0.75rem }

.controls { display:flex; justify-content:space-between; align-items:center }
.left-controls { display:flex; gap:0.5rem; align-items:center }
.right-controls { display:flex; gap:0.5rem; align-items:center }

input[type="text"], input[type="search"], input[id="search"] {
	padding: 0.4rem 0.5rem; border-radius:6px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit
}

.checkbox { color:#9aa7bd; display:flex; align-items:center; gap:0.25rem }

.panel {
	background: #071029;
	border-radius: 8px;
	padding: 1rem;
	min-height: 160px;
}

.tabs button { padding: 0.4rem 0.6rem; border-radius:6px; border:none; background:transparent; color:inherit; margin-right:0.5rem }
.tabs .active { background:#111827 }
.panel-inner { background: rgba(255,255,255,0.02); padding:0.75rem; border-radius:6px; margin-top:0.5rem }
.controls { display:flex; gap:0.5rem; align-items:center }
.controls button { padding:0.4rem 0.6rem; border-radius:6px; border:none; background:#2563eb; color:white }
.muted { color:#9aa7bd }
.error { color:#ffb4b4 }
.panel ul { margin-left:1rem }

.report-item { border-bottom: 1px solid rgba(255,255,255,0.03); padding: 0.5rem 0 }
.report-header { display:flex; justify-content:space-between; cursor:pointer }
.report-name { font-weight: 600 }
.report-counts { color: #9aa7bd }
.report-counts .err { color: #ff6b6b; margin-right: 0.5rem }
.report-counts .warn { color: #f6c85f }
.report-body { padding: 0.5rem 0 0.25rem 0 }
.errors li { color: #ffb4b4 }
.warnings li { color: #f6e8b3 }
.error { color: #ffb4b4 }

.validation-report {
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 6px;
}

.validation-report h4 {
  margin-top: 0;
}

.validation-report .errors {
  color: #ffb4b4;
}

.validation-report .warnings {
  color: #f6e8b3;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #0f1720;
  padding: 2rem;
  border-radius: 6px;
  width: 400px;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-content form {
  display: flex;
  flex-direction: column;
}

.modal-content label {
  margin-top: 1rem;
}

.modal-content input {
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: transparent;
  color: inherit;
}

.modal-buttons {
  margin-top: 1rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}
</file>

<file path="apps/frontend/index.html">
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OBS Styla ‚Äî Frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="apps/frontend/package.json">
{
  "type": "module",
  "name": "obs-styla-frontend",
  "private": true,
  "version": "0.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tailwindcss/typography": "^0.5.19",
    "@tanstack/react-query": "^5.90.11",
    "autoprefixer": "^10.4.22",
    "axios": "^1.4.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.555.0",
    "postcss": "^8.5.6",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "tailwind-merge": "^3.4.0",
    "tailwindcss": "^4.1.17"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.17",
    "@types/node": "^20.4.2",
    "@types/react": "^18.3.26",
    "@types/react-dom": "^18.3.7",
    "typescript": "^5.0.0",
    "vite": "^5.0.0",
    "vite-plugin-svgr": "^4.2.0"
  }
}
</file>

<file path="apps/frontend/postcss.config.js">
export default {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {},
  },
}
</file>

<file path="apps/frontend/tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
}
</file>

<file path="apps/frontend/tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "jsx": "react-jsx",
    "strict": true,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src"]
}
</file>

<file path="apps/frontend/vite.config.ts">
import { defineConfig, loadEnv } from 'vite'
import path from 'path'
import svgr from 'vite-plugin-svgr'

// Assumptions:
// - During development we proxy `/api` requests to a backend running locally.
// - Prefer the Node proxy at http://127.0.0.1:3000 (if present). You can override
//   the target by setting VITE_API_PROXY_TARGET in an env file (e.g. .env.development)
//   or in the shell before starting Vite.
// Example .env.development content:
// VITE_API_PROXY_TARGET=http://127.0.0.1:3000

export default defineConfig(({ mode }) => {
  // Load env vars so VITE_* variables are available here.
  const env = loadEnv(mode, process.cwd(), '')

  // Vite only exposes env vars that start with VITE_. Use VITE_API_PROXY_TARGET
  // to change the proxy target without editing this file.
  const apiProxyTarget = env.VITE_API_PROXY_TARGET || 'http://127.0.0.1:3000'

  return {
    // Helpful dev server defaults. The port can be changed by Vite CLI args.
    server: {
      port: 5173,
      open: false,
      proxy: {
        // Proxy API requests to the backend during development. This keeps
        // same-origin in the browser and avoids CORS issues while developing.
        '/api': {
          target: apiProxyTarget,
          changeOrigin: true,
          secure: false,
          ws: true,
          // Keep the path as-is; if your backend expects a different base
          // path you can rewrite it here.
          rewrite: (p) => p,
        },
      },
    },

    // Nice-to-have alias so imports can use `@/...` to refer to `src/`
    resolve: {
      alias: {
        '@': path.resolve(__dirname, 'src'),
      },
    },
    plugins: [svgr()],
  }
})
</file>

<file path="apps/web/public/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="OBS Styla - Theme Editor for OBS Studio"
    />
    <link rel="apple-touch-icon" href="/logo192.png" />
    <link rel="manifest" href="/manifest.json" />
    <title>OBS Styla</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>
</file>

<file path="apps/web/public/manifest.json">
{
  "short_name": "React App",
  "name": "Create React App Sample",
  "icons": [
    {
      "src": "favicon.ico",
      "sizes": "64x64 32x32 24x24 16x16",
      "type": "image/x-icon"
    },
    {
      "src": "logo192.png",
      "type": "image/png",
      "sizes": "192x192"
    },
    {
      "src": "logo512.png",
      "type": "image/png",
      "sizes": "512x512"
    }
  ],
  "start_url": ".",
  "display": "standalone",
  "theme_color": "#000000",
  "background_color": "#ffffff"
}
</file>

<file path="apps/web/public/robots.txt">
# https://www.robotstxt.org/robotstxt.html
User-agent: *
Disallow:
</file>

<file path="apps/web/src/components/preview/AudioMixerPanel.tsx">
import React, { useContext } from 'react';
import { ThemeContext } from '../../context/ThemeContext';

interface VolumeMeterProps {
  level: number;
  peak: number;
  label: string;
  muted?: boolean;
}

const VolumeMeter: React.FC<VolumeMeterProps> = ({ level, peak, label, muted = false }) => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  const getBarColor = (value: number) => {
    if (muted) return colors.ui_text_dark;
    if (value > 0.8) return colors.volumemeter_peak;
    if (value > 0.6) return colors.volumemeter_warning;
    return colors.volumemeter_good;
  };

  return (
    <div className="flex items-center space-x-2 py-1">
      <div className="w-16 text-xs truncate" style={{ color: colors.ui_text_dark }}>
        {label}
      </div>
      <div className="flex-1 flex items-center space-x-1">
        <div className="flex-1 h-4 bg-gray-800 rounded-sm overflow-hidden relative">
          {/* Background bars */}
          <div className="absolute inset-0 flex">
            {Array.from({ length: 20 }, (_, i) => (
              <div
                key={i}
                className="flex-1 mx-px rounded-sm"
                style={{
                  backgroundColor: i < level * 20 ? getBarColor(level) : colors.ui_background_dark,
                  opacity: i < level * 20 ? 1 : 0.3
                }}
              />
            ))}
          </div>
          {/* Peak indicator */}
          {peak > 0 && (
            <div
              className="absolute top-0 w-0.5 h-full"
              style={{
                left: `${peak * 100}%`,
                backgroundColor: colors.volumemeter_peak,
                boxShadow: `0 0 4px ${colors.volumemeter_peak}`
              }}
            />
          )}
        </div>
        <div className="w-8 text-xs text-center" style={{ color: colors.ui_text_dark }}>
          {muted ? 'M' : `${Math.round(level * 100)}%`}
        </div>
      </div>
    </div>
  );
};

const AudioMixerPanel = () => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  // Simulate audio levels
  const audioSources = [
    { name: 'Desktop Audio', level: 0.7, peak: 0.85, muted: false },
    { name: 'Mic/Aux', level: 0.3, peak: 0.4, muted: false },
    { name: 'Media Source', level: 0.9, peak: 0.95, muted: true },
    { name: 'Browser Source', level: 0.2, peak: 0.25, muted: false },
  ];

  return (
    <div className="flex flex-col h-1/2">
      <div
        className="font-bold py-2 px-3 border-b text-center text-sm"
        style={{
          backgroundColor: colors.dock_background,
          borderColor: colors.ui_border,
          color: colors.ui_text
        }}
      >
        Audio Mixer
      </div>
      <div className="flex-1 p-3 overflow-y-auto space-y-3">
        {audioSources.map((source, index) => (
          <div key={index} className="space-y-2">
            <VolumeMeter
              level={source.level}
              peak={source.peak}
              label={source.name}
              muted={source.muted}
            />
            <div className="flex items-center justify-between px-2">
              <div className="flex items-center space-x-1">
                <button
                  className={`w-6 h-6 rounded flex items-center justify-center text-xs ${
                    source.muted ? 'bg-red-500' : 'hover:bg-gray-600'
                  }`}
                  style={{
                    backgroundColor: source.muted ? colors.error : 'transparent',
                    color: source.muted ? 'white' : colors.ui_text
                  }}
                >
                  {source.muted ? 'üîá' : 'üîä'}
                </button>
                <button
                  className="w-6 h-6 rounded flex items-center justify-center text-xs hover:bg-gray-600"
                  style={{ color: colors.ui_text }}
                >
                  ‚öôÔ∏è
                </button>
              </div>
              <div className="flex items-center space-x-1">
                <input
                  type="range"
                  min="-60"
                  max="0"
                  defaultValue="-10"
                  className="w-16 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"
                  style={{
                    background: `linear-gradient(to right, ${colors.accent} 0%, ${colors.accent} 70%, ${colors.ui_background_dark} 70%, ${colors.ui_background_dark} 100%)`
                  }}
                />
                <span className="w-8 text-xs text-right" style={{ color: colors.ui_text_dark }}>
                  -10dB
                </span>
              </div>
            </div>
          </div>
        ))}

        {/* Master volume */}
        <div className="border-t pt-3 mt-3" style={{ borderColor: colors.ui_border }}>
          <VolumeMeter
            level={0.6}
            peak={0.75}
            label="Master"
            muted={false}
          />
          <div className="flex items-center justify-center mt-2">
            <input
              type="range"
              min="-60"
              max="0"
              defaultValue="-5"
              className="w-32 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"
              style={{
                background: `linear-gradient(to right, ${colors.accent} 0%, ${colors.accent} 75%, ${colors.ui_background_dark} 75%, ${colors.ui_background_dark} 100%)`
              }}
            />
          </div>
        </div>
      </div>
    </div>
  );
};

export default AudioMixerPanel;
</file>

<file path="apps/web/src/components/preview/ControlsPanel.tsx">
import React, { useContext } from 'react';
import { ThemeContext } from '../../context/ThemeContext';

interface ControlsPanelProps {
  isRecording: boolean;
  isStreaming: boolean;
  isVirtualCam: boolean;
  studioMode: boolean;
  onRecordingChange: (recording: boolean) => void;
  onStreamingChange: (streaming: boolean) => void;
  onVirtualCamChange: (virtualCam: boolean) => void;
  onStudioModeChange: (studioMode: boolean) => void;
}

const ControlsPanel: React.FC<ControlsPanelProps> = ({
  isRecording,
  isStreaming,
  isVirtualCam,
  studioMode,
  onRecordingChange,
  onStreamingChange,
  onVirtualCamChange,
  onStudioModeChange,
}) => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  const ControlButton = ({
    children,
    active,
    onClick,
    activeColor,
    disabled = false
  }: {
    children: React.ReactNode;
    active?: boolean;
    onClick?: () => void;
    activeColor?: string;
    disabled?: boolean;
  }) => (
    <button
      className={`flex-1 px-3 py-2 rounded font-medium text-sm transition-all duration-200 ${
        active
          ? 'shadow-lg transform scale-105'
          : 'hover:shadow-md hover:transform hover:scale-102'
      }`}
      style={{
        backgroundColor: active ? (activeColor || colors.accent) : colors.button_background,
        color: active ? colors.accent_text : colors.button_text,
        border: `1px solid ${active ? (activeColor || colors.accent) : colors.ui_border}`,
        opacity: disabled ? 0.5 : 1,
      }}
      onClick={onClick}
      disabled={disabled}
    >
      {children}
    </button>
  );

  return (
    <div className="flex flex-col h-1/2">
      <div
        className="font-bold py-2 px-3 border-b text-center text-sm"
        style={{
          backgroundColor: colors.dock_background,
          borderColor: colors.ui_border,
          color: colors.ui_text
        }}
      >
        Controls
      </div>
      <div className="flex-1 p-3 overflow-y-auto">
        <div className="space-y-3">
          {/* Main control buttons */}
          <div className="grid grid-cols-2 gap-2">
            <ControlButton
              active={isStreaming}
              onClick={() => onStreamingChange(!isStreaming)}
              activeColor={colors.success}
            >
              <div className="flex flex-col items-center space-y-1">
                <span className="text-lg">üé•</span>
                <span className="text-xs">Stream</span>
              </div>
            </ControlButton>

            <ControlButton
              active={isRecording}
              onClick={() => onRecordingChange(!isRecording)}
              activeColor={colors.error}
            >
              <div className="flex flex-col items-center space-y-1">
                <span className="text-lg">‚è∫Ô∏è</span>
                <span className="text-xs">Record</span>
              </div>
            </ControlButton>

            <ControlButton
              active={isVirtualCam}
              onClick={() => onVirtualCamChange(!isVirtualCam)}
              activeColor={colors.info}
            >
              <div className="flex flex-col items-center space-y-1">
                <span className="text-lg">üìπ</span>
                <span className="text-xs">VCam</span>
              </div>
            </ControlButton>

            <ControlButton
              active={studioMode}
              onClick={() => onStudioModeChange(!studioMode)}
            >
              <div className="flex flex-col items-center space-y-1">
                <span className="text-lg">üé≠</span>
                <span className="text-xs">Studio</span>
              </div>
            </ControlButton>
          </div>

          {/* Secondary controls */}
          <div className="space-y-2">
            <button
              className="w-full px-3 py-2 rounded text-sm transition-colors"
              style={{
                backgroundColor: colors.button_background,
                color: colors.button_text,
                border: `1px solid ${colors.ui_border}`
              }}
            >
              <div className="flex items-center justify-between">
                <span>Settings</span>
                <span>‚öôÔ∏è</span>
              </div>
            </button>

            <button
              className="w-full px-3 py-2 rounded text-sm transition-colors"
              style={{
                backgroundColor: colors.button_background,
                color: colors.button_text,
                border: `1px solid ${colors.ui_border}`
              }}
            >
              <div className="flex items-center justify-between">
                <span>Scene Transitions</span>
                <span>üîÑ</span>
              </div>
            </button>

            <button
              className="w-full px-3 py-2 rounded text-sm transition-colors"
              style={{
                backgroundColor: colors.button_background,
                color: colors.button_text,
                border: `1px solid ${colors.ui_border}`
              }}
            >
              <div className="flex items-center justify-between">
                <span>Filters</span>
                <span>üé®</span>
              </div>
            </button>

            <button
              className="w-full px-3 py-2 rounded text-sm transition-colors"
              style={{
                backgroundColor: colors.button_background,
                color: colors.button_text,
                border: `1px solid ${colors.ui_border}`
              }}
            >
              <div className="flex items-center justify-between">
                <span>Sources</span>
                <span>üì¶</span>
              </div>
            </button>
          </div>

          {/* Status indicators */}
          <div className="border-t pt-3 space-y-2" style={{ borderColor: colors.ui_border }}>
            <div className="flex items-center justify-between text-xs">
              <span style={{ color: colors.ui_text_dark }}>CPU Usage:</span>
              <span style={{ color: colors.ui_text }}>23%</span>
            </div>
            <div className="flex items-center justify-between text-xs">
              <span style={{ color: colors.ui_text_dark }}>Memory:</span>
              <span style={{ color: colors.ui_text }}>1.2 GB</span>
            </div>
            <div className="flex items-center justify-between text-xs">
              <span style={{ color: colors.ui_text_dark }}>Disk:</span>
              <span style={{ color: colors.ui_text }}>45 GB free</span>
            </div>
            <div className="flex items-center justify-between text-xs">
              <span style={{ color: colors.ui_text_dark }}>FPS:</span>
              <span style={{ color: colors.success }}>60.0</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ControlsPanel;
</file>

<file path="apps/web/src/components/preview/ListItem.tsx">
import React from 'react';

const ListItem = ({ children, active }: { children: React.ReactNode, active?: boolean }) => {
  return (
    <li className={`py-2 px-3 rounded cursor-pointer transition-colors ${
      active
        ? 'bg-accent text-accent-foreground'
        : 'hover:bg-muted text-foreground'
    }`}>
      {children}
    </li>
  );
};

export default ListItem;
</file>

<file path="apps/web/src/components/preview/Panel.css">
.panel {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.panel-header {
  font-weight: bold;
  padding: 8px 12px;
  border-bottom: 1px solid #494d64;
  text-align: center;
}

.panel-content {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
}

.panel-content ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.panel-content li {
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
}

.panel-content li.active {
  background-color: #494d64;
}

.controls-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
}
</file>

<file path="apps/web/src/components/preview/Preview.css">
.preview-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  border: 1px solid #494d64;
  border-radius: 6px;
  overflow: hidden;
  font-family: sans-serif;
}

.preview-header {
  height: 30px;
  background-color: rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid #494d64;
}

.preview-body {
  display: flex;
  flex: 1;
}

.preview-scenes,
.preview-sources,
.preview-mixer,
.preview-controls {
  flex: 1;
  padding: 12px;
  border-right: 1px solid #494d64;
}

.preview-controls {
  border-right: none;
}
</file>

<file path="apps/web/src/components/preview/Preview.tsx">
import React, { useContext, useState, useEffect } from 'react';
import { ThemeContext } from '../../context/ThemeContext';
import ScenesPanel from './ScenesPanel';
import SourcesPanel from './SourcesPanel';
import ControlsPanel from './ControlsPanel';
import AudioMixerPanel from './AudioMixerPanel';

const Preview = () => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  // Simulate OBS states
  const [isRecording, setIsRecording] = useState(false);
  const [isStreaming, setIsStreaming] = useState(false);
  const [isVirtualCam, setIsVirtualCam] = useState(false);
  const [studioMode, setStudioMode] = useState(false);

  const style = {
    backgroundColor: colors.ui_background,
    color: colors.ui_text,
    borderColor: colors.ui_border,
  };

  return (
    <div className="flex flex-col w-full h-full border rounded-lg overflow-hidden font-sans shadow-lg" style={style}>
      {/* OBS-style title bar */}
      <div
        className="h-8 flex items-center justify-between px-3 border-b text-sm font-medium"
        style={{
          backgroundColor: colors.header_background,
          borderColor: colors.ui_border,
          color: colors.ui_text
        }}
      >
        <div className="flex items-center space-x-2">
          <div className="w-3 h-3 rounded-full bg-red-500"></div>
          <span>OBS Studio - Preview</span>
        </div>
        <div className="flex items-center space-x-1">
          {/* Status indicators */}
          {isRecording && (
            <div className="flex items-center space-x-1 px-2 py-1 rounded text-xs font-bold animate-pulse"
                 style={{ backgroundColor: colors.error, color: colors.ui_background }}>
              <div className="w-2 h-2 rounded-full bg-white animate-pulse"></div>
              REC
            </div>
          )}
          {isStreaming && (
            <div className="flex items-center space-x-1 px-2 py-1 rounded text-xs font-bold"
                 style={{ backgroundColor: colors.success, color: colors.ui_background }}>
              <div className="w-2 h-2 rounded-full bg-white"></div>
              LIVE
            </div>
          )}
          {isVirtualCam && (
            <div className="flex items-center space-x-1 px-2 py-1 rounded text-xs font-bold"
                 style={{ backgroundColor: colors.info, color: colors.ui_background }}>
              <div className="w-2 h-2 rounded-full bg-white"></div>
              VCAM
            </div>
          )}
        </div>
      </div>

      {/* Main content area */}
      <div className="flex flex-1 overflow-hidden">
        {/* Left sidebar - Scenes and Sources */}
        <div className="flex flex-col w-64 border-r" style={{ borderColor: colors.ui_border }}>
          <ScenesPanel />
          <div className="h-px" style={{ backgroundColor: colors.ui_border }}></div>
          <SourcesPanel />
        </div>

        {/* Center - Preview area */}
        <div className="flex-1 flex flex-col">
          {/* Preview header */}
          <div className="h-10 flex items-center justify-between px-4 border-b"
               style={{
                 backgroundColor: colors.dock_background,
                 borderColor: colors.ui_border,
                 color: colors.ui_text
               }}>
            <div className="flex items-center space-x-4">
              <span className="font-medium">Program</span>
              {studioMode && <span className="text-xs px-2 py-1 rounded" style={{ backgroundColor: colors.accent, color: colors.accent_text }}>Studio Mode</span>}
            </div>
            <div className="flex items-center space-x-2 text-xs">
              <span>1920x1080 @ 60fps</span>
              <span>‚Ä¢</span>
              <span>00:15:32</span>
            </div>
          </div>

          {/* Simulated video preview */}
          <div className="flex-1 relative bg-black">
            <div className="absolute inset-0 flex items-center justify-center">
              <div className="text-center">
                <div className="w-32 h-24 mx-auto mb-4 rounded border-2 border-dashed opacity-50"
                     style={{ borderColor: colors.ui_text_dark }}>
                  <div className="w-full h-full flex items-center justify-center">
                    <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clipRule="evenodd" />
                    </svg>
                  </div>
                </div>
                <p className="text-sm opacity-75" style={{ color: colors.ui_text_dark }}>
                  Video Preview Area
                </p>
                <p className="text-xs opacity-50" style={{ color: colors.ui_text_dark }}>
                  1920 √ó 1080 (16:9)
                </p>
              </div>
            </div>

            {/* Preview overlay controls */}
            <div className="absolute top-4 left-4 flex space-x-2">
              <button className="w-8 h-8 rounded flex items-center justify-center text-xs font-bold"
                      style={{
                        backgroundColor: colors.button_background,
                        color: colors.button_text,
                        border: `1px solid ${colors.ui_border}`
                      }}>
                üéØ
              </button>
              <button className="w-8 h-8 rounded flex items-center justify-center text-xs font-bold"
                      style={{
                        backgroundColor: colors.button_background,
                        color: colors.button_text,
                        border: `1px solid ${colors.ui_border}`
                      }}>
                üìê
              </button>
            </div>
          </div>
        </div>

        {/* Right sidebar - Audio Mixer and Controls */}
        <div className="flex flex-col w-80 border-l" style={{ borderColor: colors.ui_border }}>
          <AudioMixerPanel />
          <div className="h-px" style={{ backgroundColor: colors.ui_border }}></div>
          <ControlsPanel
            isRecording={isRecording}
            isStreaming={isStreaming}
            isVirtualCam={isVirtualCam}
            studioMode={studioMode}
            onRecordingChange={setIsRecording}
            onStreamingChange={setIsStreaming}
            onVirtualCamChange={setIsVirtualCam}
            onStudioModeChange={setStudioMode}
          />
        </div>
      </div>
    </div>
  );
};

export default Preview;
</file>

<file path="apps/web/src/components/preview/ScenesPanel.tsx">
import React, { useContext, useState } from 'react';
import { ThemeContext } from '../../context/ThemeContext';

interface ScenesPanelProps {
  currentScene: string;
  onSceneChange: (scene: string) => void;
}

const ScenesPanel: React.FC<ScenesPanelProps> = ({ currentScene, onSceneChange }) => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  const scenes = [
    'Main Scene',
    'Starting Soon',
    'Be Right Back',
    'Ending Soon',
    'Gameplay',
    'Interview',
    'Outro'
  ];

  const SceneItem = ({ scene, isActive }: { scene: string; isActive: boolean }) => (
    <button
      className={`w-full text-left px-3 py-2 rounded transition-all duration-200 ${
        isActive
          ? 'shadow-lg transform scale-105'
          : 'hover:shadow-md hover:transform hover:scale-102'
      }`}
      style={{
        backgroundColor: isActive ? colors.accent : colors.button_background,
        color: isActive ? colors.accent_text : colors.button_text,
        border: `1px solid ${isActive ? colors.accent : colors.ui_border}`
      }}
      onClick={() => onSceneChange(scene)}
    >
      <div className="flex items-center justify-between">
        <span className="font-medium">{scene}</span>
        {isActive && <span className="text-xs opacity-75">‚óè</span>}
      </div>
    </button>
  );

  return (
    <div className="flex flex-col h-full">
      <div
        className="font-bold py-2 px-3 border-b text-center text-sm"
        style={{
          backgroundColor: colors.dock_background,
          borderColor: colors.ui_border,
          color: colors.ui_text
        }}
      >
        Scenes
      </div>
      <div className="flex-1 p-3 overflow-y-auto">
        <div className="space-y-2">
          {scenes.map((scene) => (
            <SceneItem
              key={scene}
              scene={scene}
              isActive={scene === currentScene}
            />
          ))}
        </div>

        {/* Add scene button */}
        <div className="mt-4 pt-3 border-t" style={{ borderColor: colors.ui_border }}>
          <button
            className="w-full px-3 py-2 rounded text-sm transition-colors"
            style={{
              backgroundColor: colors.button_background,
              color: colors.button_text,
              border: `1px solid ${colors.ui_border}`
            }}
          >
            <div className="flex items-center justify-center space-x-2">
              <span>+</span>
              <span>Add Scene</span>
            </div>
          </button>
        </div>
      </div>
    </div>
  );
};

export default ScenesPanel;
</file>

<file path="apps/web/src/components/preview/SourcesPanel.tsx">
import React, { useContext, useState } from 'react';
import { ThemeContext } from '../../context/ThemeContext';

interface Source {
  id: string;
  name: string;
  type: string;
  icon: string;
  visible: boolean;
}

interface SourcesPanelProps {
  sources: Source[];
  onSourceToggle: (sourceId: string) => void;
}

const SourcesPanel: React.FC<SourcesPanelProps> = ({ sources, onSourceToggle }) => {
  const { state } = useContext(ThemeContext);
  const { colors } = state;

  const SourceItem = ({ source }: { source: Source }) => (
    <div
      className="flex items-center justify-between px-3 py-2 rounded transition-all duration-200 hover:shadow-md"
      style={{
        backgroundColor: colors.button_background,
        border: `1px solid ${colors.ui_border}`
      }}
    >
      <div className="flex items-center space-x-3">
        <button
          className={`w-4 h-4 rounded transition-colors ${
            source.visible ? 'opacity-100' : 'opacity-50'
          }`}
          style={{
            backgroundColor: source.visible ? colors.success : colors.ui_border
          }}
          onClick={() => onSourceToggle(source.id)}
          title={source.visible ? 'Hide source' : 'Show source'}
        >
          üëÅÔ∏è
        </button>
        <span className="text-sm">{source.icon}</span>
        <span
          className="font-medium text-sm"
          style={{ color: colors.button_text }}
        >
          {source.name}
        </span>
      </div>
      <span
        className="text-xs px-2 py-1 rounded"
        style={{
          backgroundColor: colors.ui_background_alt,
          color: colors.ui_text_dark
        }}
      >
        {source.type}
      </span>
    </div>
  );

  return (
    <div className="flex flex-col h-full">
      <div
        className="font-bold py-2 px-3 border-b text-center text-sm"
        style={{
          backgroundColor: colors.dock_background,
          borderColor: colors.ui_border,
          color: colors.ui_text
        }}
      >
        Sources
      </div>
      <div className="flex-1 p-3 overflow-y-auto">
        <div className="space-y-2">
          {sources.map((source) => (
            <SourceItem key={source.id} source={source} />
          ))}
        </div>

        {/* Add source button */}
        <div className="mt-4 pt-3 border-t" style={{ borderColor: colors.ui_border }}>
          <button
            className="w-full px-3 py-2 rounded text-sm transition-colors"
            style={{
              backgroundColor: colors.button_background,
              color: colors.button_text,
              border: `1px solid ${colors.ui_border}`
            }}
          >
            <div className="flex items-center justify-center space-x-2">
              <span>+</span>
              <span>Add Source</span>
            </div>
          </button>
        </div>
      </div>
    </div>
  );
};

export default SourcesPanel;
</file>

<file path="apps/web/src/components/ThemeExporter.tsx">
import React, { useContext } from 'react';
import { ThemeContext } from '../context/ThemeContext';

const ThemeExporter = () => {
  const { state } = useContext(ThemeContext);
  const { metadata, colors } = state;

  const generateOVT = () => {
    const themeVariables = Object.entries(colors)
      .map(([key, value]) => `    --${key}: ${value};`)
      .join('\n');

    const ovtTemplate = `
@OBSThemeMeta {
    name: '${metadata.name}';
    id: '${metadata.id}';
    extends: '${metadata.extends}';
    author: '${metadata.author}';
    dark: '${metadata.dark}';
}

@OBSThemeVars {
${themeVariables}
}

/* Add custom QSS rules here */
`;
    return ovtTemplate;
  };

  const handleExport = () => {
    const ovtContent = generateOVT();
    const blob = new Blob([ovtContent], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${metadata.id}.ovt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  };

  return (
    <div className="space-y-4">
      <h3 className="text-lg font-semibold">Export Theme</h3>
      <button
        onClick={handleExport}
        className="px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors"
      >
        Export .ovt File
      </button>
    </div>
  );
};

export default ThemeExporter;
</file>

<file path="apps/web/src/components/ThemeUploader.tsx">
import React, { useContext } from 'react';
import { ThemeContext } from '../context/ThemeContext';

const vscodeToOBSMapping: { [key: string]: string } = {
  // Core UI
  'editor.background': 'ui_background',
  'editor.foreground': 'ui_text',
  'activityBar.background': 'dock_background',
  'sideBar.background': 'dock_background',
  'sideBar.foreground': 'ui_text',
  'sideBar.border': 'ui_border',
  'titleBar.activeBackground': 'header_background',
  'titleBar.activeForeground': 'ui_text',
  'titleBar.inactiveBackground': 'header_background',

  // Interactive Elements
  'focusBorder': 'accent',

  // Components
  'button.background': 'button_background',
  'button.foreground': 'button_text',
  'button.hoverBackground': 'button_background_hover',

  'input.background': 'input_background',
  'input.foreground': 'input_text',
  'input.border': 'input_border',
  'inputOption.activeBorder': 'accent',

  'list.activeSelectionBackground': 'list_active_selection_background',
  'list.activeSelectionForeground': 'list_active_selection_text',
  'list.hoverBackground': 'list_hover_background',
  'list.focusBackground': 'list_active_selection_background',

  'scrollbar.shadow': 'ui_background_dark',
  'scrollbarSlider.background': 'scrollbar_handle',
  'scrollbarSlider.hoverBackground': 'scrollbar_handle_hover',
  'scrollbarSlider.activeBackground': 'scrollbar_handle_hover',

  // OBS-Specific & Status Bar
  'statusBar.background': 'statusbar_background',
  'statusBar.foreground': 'statusbar_text',
  'statusBar.noFolderBackground': 'statusbar_background',

  // Semantic Colors
  'editorError.foreground': 'error',
  'editorWarning.foreground': 'warning',
  'editorInfo.foreground': 'info',

  // Syntax/Editor
  'editor.selectionBackground': 'list_active_selection_background',
  'editorLineNumber.foreground': 'ui_text_dark',
  'editorLineNumber.activeForeground': 'accent',

  // Tabs
  'tab.activeBackground': 'tab_active_background',
  'tab.inactiveBackground': 'tab_background',
  'tab.activeForeground': 'tab_active_text',
  'tab.inactiveForeground': 'tab_text',
  'tab.border': 'ui_border',

  // Tooltip & Menu
  'editor.hoverHighlightBackground': 'tooltip_background',
  'menu.background': 'menu_background',
  'menu.foreground': 'menu_text',
  'menu.selectionBackground': 'menu_selection_background',
};

const ThemeUploader = () => {
  const { dispatch } = useContext(ThemeContext);

  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const text = e.target?.result as string;
          const themeJSON = JSON.parse(text);
          parseAndApplyTheme(themeJSON);
        } catch (error) {
          console.error('Error parsing theme file:', error);
          // Handle parsing error (e.g., show a notification)
        }
      };
      reader.readAsText(file);
    }
  };

  const parseAndApplyTheme = (themeJSON: any) => {
    if (themeJSON.colors && typeof themeJSON.colors === 'object') {
      Object.entries(vscodeToOBSMapping).forEach(([vscodeKey, obsKey]) => {
        if (themeJSON.colors[vscodeKey]) {
          dispatch({
            type: 'SET_COLOR',
            payload: { key: obsKey as any, value: themeJSON.colors[vscodeKey] },
          });
        }
      });
    }
  };

  return (
    <div className="space-y-4">
      <h3 className="text-lg font-semibold">Import VSCode Theme</h3>
      <input
        type="file"
        accept=".json"
        onChange={handleFileChange}
        className="block w-full text-sm text-foreground file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"
      />
    </div>
  );
};

export default ThemeUploader;
</file>

<file path="apps/web/src/context/ThemeContext.tsx">
import React, { createContext, useReducer, Dispatch, ReactNode } from 'react';

// 1. Define the state shape based on themeSchema
interface ThemeMetadata {
  name: string;
  id: string;
  extends: string;
  author: string;
  dark: boolean;
}

interface ThemeColors {
  // Core UI
  ui_background: string;
  ui_background_dark: string;
  ui_background_light: string;
  ui_text: string;
  ui_text_dark: string;
  ui_text_light: string;
  ui_border: string;

  // Interactive Elements
  accent: string;
  accent_hover: string;
  accent_text: string;

  // Components
  button_background: string;
  button_background_hover: string;
  button_text: string;

  input_background: string;
  input_text: string;
  input_border: string;
  input_border_focus: string;

  list_background: string;
  list_text: string;
  list_hover_background: string;
  list_active_selection_background: string;
  list_active_selection_text: string;

  scrollbar_background: string;
  scrollbar_handle: string;
  scrollbar_handle_hover: string;

  // OBS-Specific
  header_background: string;
  dock_background: string;

  statusbar_background: string;
  statusbar_text: string;

  volumemeter_background: string;
  volumemeter_good: string;
  volumemeter_warning: string;
  volumemeter_peak: string;

  // Semantic Colors
  success: string;
  warning: string;
  error: string;
  info: string;

  // Syntax/Editor (from VSCode import)
  syntax_keyword: string;
  syntax_string: string;
  syntax_number: string;
  syntax_comment: string;

  // Tabs
  tab_background: string;
  tab_active_background: string;
  tab_text: string;
  tab_active_text: string;

  tooltip_background: string;
  tooltip_text: string;

  menu_background: string;
  menu_text: string;
  menu_selection_background: string;
}


interface ThemeTypography {
  // Define typography properties here
}

interface ThemeLayout {
  // Define layout properties here
}

export interface ThemeState {
  metadata: ThemeMetadata;
  colors: ThemeColors;
  typography: ThemeTypography;
  layout: ThemeLayout;
}

// 2. Define the initial state
export const initialState: ThemeState = {
  metadata: {
    name: 'Default Theme',
    id: 'com.example.default-theme',
    extends: 'com.obsproject.Yami',
    author: 'obs-styla',
    dark: true,
  },
  colors: {
    // Core UI
    ui_background: '#1e1e2e',
    ui_background_dark: '#181825',
    ui_background_light: '#2a2f42',
    ui_text: '#cdd6f4',
    ui_text_dark: '#a6adc8',
    ui_text_light: '#bac2de',
    ui_border: '#494d64',
    // Interactive Elements
    accent: '#89b4fa',
    accent_hover: '#a6caff',
    accent_text: '#1e1e2e',
    // Components
    button_background: '#363a4f',
    button_background_hover: '#4a5060',
    button_text: '#cdd6f4',
    input_background: '#363a4f',
    input_text: '#cdd6f4',
    input_border: '#494d64',
    input_border_focus: '#89b4fa',
    list_background: '#1e1e2e',
    list_text: '#cdd6f4',
    list_hover_background: '#363a4f',
    list_active_selection_background: '#494d64',
    list_active_selection_text: '#cdd6f4',
    scrollbar_background: '#181825',
    scrollbar_handle: '#363a4f',
    scrollbar_handle_hover: '#4a5060',
    // OBS-Specific
    header_background: '#1e1e2e',
    dock_background: '#181825',
    statusbar_background: '#1e1e2e',
    statusbar_text: '#cdd6f4',
    volumemeter_background: '#181825',
    volumemeter_good: '#a6e3a1',
    volumemeter_warning: '#f9e2af',
    volumemeter_peak: '#f38ba8',
    // Semantic Colors
    success: '#a6e3a1',
    warning: '#f9e2af',
    error: '#f38ba8',
    info: '#89b4fa',
    // Syntax/Editor
    syntax_keyword: '#cba6f7',
    syntax_string: '#a6e3a1',
    syntax_number: '#fab387',
    syntax_comment: '#7f849c',
    // Tabs
    tab_background: '#1e1e2e',
    tab_active_background: '#363a4f',
    tab_text: '#a6adc8',
    tab_active_text: '#cdd6f4',
    tooltip_background: '#363a4f',
    tooltip_text: '#cdd6f4',
    menu_background: '#1e1e2e',
    menu_text: '#cdd6f4',
    menu_selection_background: '#363a4f',
  },
  typography: {},
  layout: {},
};

// 3. Define actions
type Action =
  | { type: 'SET_METADATA'; payload: Partial<ThemeMetadata> }
  | { type: 'SET_COLOR'; payload: { key: keyof ThemeColors; value: string } };

// 4. Create the reducer function
const themeReducer = (state: ThemeState, action: Action): ThemeState => {
  switch (action.type) {
    case 'SET_METADATA':
      return {
        ...state,
        metadata: { ...state.metadata, ...action.payload },
      };
    case 'SET_COLOR':
      return {
        ...state,
        colors: { ...state.colors, [action.payload.key]: action.payload.value },
      };
    default:
      return state;
  }
};

// 5. Create the context
interface ThemeContextProps {
  state: ThemeState;
  dispatch: Dispatch<Action>;
}

export const ThemeContext = createContext<ThemeContextProps>({
  state: initialState,
  dispatch: () => null,
});

// 6. Create the ThemeProvider component
interface ThemeProviderProps {
  children: ReactNode;
}

export const ThemeProvider = ({ children }: ThemeProviderProps) => {
  const [state, dispatch] = useReducer(themeReducer, initialState);

  return (
    <ThemeContext.Provider value={{ state, dispatch }}>
      {children}
    </ThemeContext.Provider>
  );
};
</file>

<file path="apps/web/src/services/api.ts">
import axios from 'axios';

export const customInstance = axios.create({
  baseURL: '/api',
});

export const apiMutator = (config: any) => {
  return customInstance(config);
};
</file>

<file path="apps/web/src/services/orval.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import {
  useMutation,
  useQuery
} from '@tanstack/react-query';
import type {
  MutationFunction,
  QueryFunction,
  QueryKey,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult
} from '@tanstack/react-query';

import type {
  ConvertRequest,
  ConvertResponse,
  GenerateResponse,
  PostThemesFilenameDuplicateBody,
  PostThemesFilenameMetaBody,
  ThemeMeta,
  ThemesResponse,
  ValidationResponse
} from '../types/orval';

import { apiMutator } from './api';
type AwaitedInput<T> = PromiseLike<T> | T;

      type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;




/**
 * @summary Get all themes
 */
export const getThemes = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ThemesResponse>(
      {url: `/themes`, method: 'GET', signal
    },
      );
    }
  



export const getGetThemesQueryKey = () => {
    return [
    `/themes`
    ] as const;
    }

    
export const getGetThemesQueryOptions = <TData = Awaited<ReturnType<typeof getThemes>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetThemesQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getThemes>>> = ({ signal }) => getThemes(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData> & { queryKey: QueryKey }
}

export type GetThemesQueryResult = NonNullable<Awaited<ReturnType<typeof getThemes>>>
export type GetThemesQueryError = unknown


/**
 * @summary Get all themes
 */

export function useGetThemes<TData = Awaited<ReturnType<typeof getThemes>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemes>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetThemesQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Delete a theme
 */
export const deleteThemesFilename = (
    filename: string,
 ) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}`, method: 'DELETE'
    },
      );
    }
  


export const getDeleteThemesFilenameMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext> => {

const mutationKey = ['deleteThemesFilename'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof deleteThemesFilename>>, {filename: string}> = (props) => {
          const {filename} = props ?? {};

          return  deleteThemesFilename(filename,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type DeleteThemesFilenameMutationResult = NonNullable<Awaited<ReturnType<typeof deleteThemesFilename>>>
    
    export type DeleteThemesFilenameMutationError = unknown

    /**
 * @summary Delete a theme
 */
export const useDeleteThemesFilename = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteThemesFilename>>, TError,{filename: string}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof deleteThemesFilename>>,
        TError,
        {filename: string},
        TContext
      > => {

      const mutationOptions = getDeleteThemesFilenameMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Duplicate a theme
 */
export const postThemesFilenameDuplicate = (
    filename: string,
    postThemesFilenameDuplicateBody: PostThemesFilenameDuplicateBody,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}/duplicate`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameDuplicateBody, signal
    },
      );
    }
  


export const getPostThemesFilenameDuplicateMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext> => {

const mutationKey = ['postThemesFilenameDuplicate'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, {filename: string;data: PostThemesFilenameDuplicateBody}> = (props) => {
          const {filename,data} = props ?? {};

          return  postThemesFilenameDuplicate(filename,data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostThemesFilenameDuplicateMutationResult = NonNullable<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>>
    export type PostThemesFilenameDuplicateMutationBody = PostThemesFilenameDuplicateBody
    export type PostThemesFilenameDuplicateMutationError = unknown

    /**
 * @summary Duplicate a theme
 */
export const usePostThemesFilenameDuplicate = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameDuplicate>>, TError,{filename: string;data: PostThemesFilenameDuplicateBody}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postThemesFilenameDuplicate>>,
        TError,
        {filename: string;data: PostThemesFilenameDuplicateBody},
        TContext
      > => {

      const mutationOptions = getPostThemesFilenameDuplicateMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Get theme metadata
 */
export const getThemesFilenameMeta = (
    filename: string,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ThemeMeta>(
      {url: `/themes/${filename}/meta`, method: 'GET', signal
    },
      );
    }
  



export const getGetThemesFilenameMetaQueryKey = (filename?: string,) => {
    return [
    `/themes/${filename}/meta`
    ] as const;
    }

    
export const getGetThemesFilenameMetaQueryOptions = <TData = Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError = unknown>(filename: string, options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetThemesFilenameMetaQueryKey(filename);

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getThemesFilenameMeta>>> = ({ signal }) => getThemesFilenameMeta(filename, signal);

      

      

   return  { queryKey, queryFn, enabled: !!(filename), ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData> & { queryKey: QueryKey }
}

export type GetThemesFilenameMetaQueryResult = NonNullable<Awaited<ReturnType<typeof getThemesFilenameMeta>>>
export type GetThemesFilenameMetaQueryError = unknown


/**
 * @summary Get theme metadata
 */

export function useGetThemesFilenameMeta<TData = Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError = unknown>(
 filename: string, options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getThemesFilenameMeta>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetThemesFilenameMetaQueryOptions(filename,options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Update theme metadata
 */
export const postThemesFilenameMeta = (
    filename: string,
    postThemesFilenameMetaBody: PostThemesFilenameMetaBody,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/themes/${filename}/meta`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: postThemesFilenameMetaBody, signal
    },
      );
    }
  


export const getPostThemesFilenameMetaMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext> => {

const mutationKey = ['postThemesFilenameMeta'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postThemesFilenameMeta>>, {filename: string;data: PostThemesFilenameMetaBody}> = (props) => {
          const {filename,data} = props ?? {};

          return  postThemesFilenameMeta(filename,data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostThemesFilenameMetaMutationResult = NonNullable<Awaited<ReturnType<typeof postThemesFilenameMeta>>>
    export type PostThemesFilenameMetaMutationBody = PostThemesFilenameMetaBody
    export type PostThemesFilenameMetaMutationError = unknown

    /**
 * @summary Update theme metadata
 */
export const usePostThemesFilenameMeta = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postThemesFilenameMeta>>, TError,{filename: string;data: PostThemesFilenameMetaBody}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postThemesFilenameMeta>>,
        TError,
        {filename: string;data: PostThemesFilenameMetaBody},
        TContext
      > => {

      const mutationOptions = getPostThemesFilenameMetaMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Generate themes
 */
export const postGenerate = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<GenerateResponse>(
      {url: `/generate`, method: 'POST', signal
    },
      );
    }
  


export const getPostGenerateMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext> => {

const mutationKey = ['postGenerate'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postGenerate>>, void> = () => {
          

          return  postGenerate()
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostGenerateMutationResult = NonNullable<Awaited<ReturnType<typeof postGenerate>>>
    
    export type PostGenerateMutationError = unknown

    /**
 * @summary Generate themes
 */
export const usePostGenerate = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postGenerate>>, TError,void, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postGenerate>>,
        TError,
        void,
        TContext
      > => {

      const mutationOptions = getPostGenerateMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Validate themes
 */
export const getValidate = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ValidationResponse>(
      {url: `/validate`, method: 'GET', signal
    },
      );
    }
  



export const getGetValidateQueryKey = () => {
    return [
    `/validate`
    ] as const;
    }

    
export const getGetValidateQueryOptions = <TData = Awaited<ReturnType<typeof getValidate>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetValidateQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getValidate>>> = ({ signal }) => getValidate(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData> & { queryKey: QueryKey }
}

export type GetValidateQueryResult = NonNullable<Awaited<ReturnType<typeof getValidate>>>
export type GetValidateQueryError = unknown


/**
 * @summary Validate themes
 */

export function useGetValidate<TData = Awaited<ReturnType<typeof getValidate>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getValidate>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetValidateQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}





/**
 * @summary Convert JSON to OVT
 */
export const postConvert = (
    convertRequest: ConvertRequest,
 signal?: AbortSignal
) => {
      
      
      return apiMutator<ConvertResponse>(
      {url: `/convert`, method: 'POST',
      headers: {'Content-Type': 'application/json', },
      data: convertRequest, signal
    },
      );
    }
  


export const getPostConvertMutationOptions = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext>, }
): UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext> => {

const mutationKey = ['postConvert'];
const {mutation: mutationOptions} = options ?
      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?
      options
      : {...options, mutation: {...options.mutation, mutationKey}}
      : {mutation: { mutationKey, }};

      


      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postConvert>>, {data: ConvertRequest}> = (props) => {
          const {data} = props ?? {};

          return  postConvert(data,)
        }

        


  return  { mutationFn, ...mutationOptions }}

    export type PostConvertMutationResult = NonNullable<Awaited<ReturnType<typeof postConvert>>>
    export type PostConvertMutationBody = ConvertRequest
    export type PostConvertMutationError = unknown

    /**
 * @summary Convert JSON to OVT
 */
export const usePostConvert = <TError = unknown,
    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postConvert>>, TError,{data: ConvertRequest}, TContext>, }
 ): UseMutationResult<
        Awaited<ReturnType<typeof postConvert>>,
        TError,
        {data: ConvertRequest},
        TContext
      > => {

      const mutationOptions = getPostConvertMutationOptions(options);

      return useMutation(mutationOptions);
    }
    
/**
 * @summary Health check
 */
export const getHealth = (
    
 signal?: AbortSignal
) => {
      
      
      return apiMutator<void>(
      {url: `/health`, method: 'GET', signal
    },
      );
    }
  



export const getGetHealthQueryKey = () => {
    return [
    `/health`
    ] as const;
    }

    
export const getGetHealthQueryOptions = <TData = Awaited<ReturnType<typeof getHealth>>, TError = unknown>( options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData>, }
) => {

const {query: queryOptions} = options ?? {};

  const queryKey =  queryOptions?.queryKey ?? getGetHealthQueryKey();

  

    const queryFn: QueryFunction<Awaited<ReturnType<typeof getHealth>>> = ({ signal }) => getHealth(signal);

      

      

   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData> & { queryKey: QueryKey }
}

export type GetHealthQueryResult = NonNullable<Awaited<ReturnType<typeof getHealth>>>
export type GetHealthQueryError = unknown


/**
 * @summary Health check
 */

export function useGetHealth<TData = Awaited<ReturnType<typeof getHealth>>, TError = unknown>(
  options?: { query?:UseQueryOptions<Awaited<ReturnType<typeof getHealth>>, TError, TData>, }
  
 ):  UseQueryResult<TData, TError> & { queryKey: QueryKey } {

  const queryOptions = getGetHealthQueryOptions(options)

  const query = useQuery(queryOptions) as  UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey ;

  return query;
}
</file>

<file path="apps/web/src/types/orval/convertRequest.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ConvertRequest {
  json: string;
}
</file>

<file path="apps/web/src/types/orval/convertResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ConvertResponse {
  ovt: string;
}
</file>

<file path="apps/web/src/types/orval/generateResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { GenerationResult } from './generationResult';
import type { Theme } from './theme';

export interface GenerateResponse {
  results: GenerationResult[];
  themes: Theme[];
}
</file>

<file path="apps/web/src/types/orval/generationResult.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface GenerationResult {
  script?: string;
  returncode?: number;
  stdout?: string;
  stderr?: string;
  status?: string;
  error?: string;
}
</file>

<file path="apps/web/src/types/orval/index.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export * from './convertRequest';
export * from './convertResponse';
export * from './generateResponse';
export * from './generationResult';
export * from './postThemesFilenameDuplicateBody';
export * from './postThemesFilenameMetaBody';
export * from './theme';
export * from './themeMeta';
export * from './themeValidation';
export * from './themesResponse';
export * from './validationError';
export * from './validationReport';
export * from './validationReportSummary';
export * from './validationResponse';
export * from './validationResponseDuplicateIdsItem';
export * from './validationWarning';
</file>

<file path="apps/web/src/types/orval/postThemesFilenameDuplicateBody.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type PostThemesFilenameDuplicateBody = {
  new_name: string;
};
</file>

<file path="apps/web/src/types/orval/postThemesFilenameMetaBody.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ThemeMeta } from './themeMeta';

export type PostThemesFilenameMetaBody = {
  meta: ThemeMeta;
};
</file>

<file path="apps/web/src/types/orval/theme.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface Theme {
  name: string;
  path: string;
  size: number;
  modified: number;
}
</file>

<file path="apps/web/src/types/orval/themeMeta.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ThemeMeta {
  id: string;
  name: string;
  author: string;
  version: string;
  dark: boolean;
}
</file>

<file path="apps/web/src/types/orval/themesResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { Theme } from './theme';

export interface ThemesResponse {
  themes: Theme[];
}
</file>

<file path="apps/web/src/types/orval/themeValidation.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ValidationReport } from './validationReport';

export interface ThemeValidation {
  name?: string;
  report?: ValidationReport;
  error?: string;
}
</file>

<file path="apps/web/src/types/orval/validationError.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ValidationError {
  code: string;
  message: string;
  line?: number;
}
</file>

<file path="apps/web/src/types/orval/validationReport.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ValidationReportSummary } from './validationReportSummary';
import type { ValidationError } from './validationError';
import type { ValidationWarning } from './validationWarning';

export interface ValidationReport {
  summary: ValidationReportSummary;
  errors: ValidationError[];
  warnings: ValidationWarning[];
}
</file>

<file path="apps/web/src/types/orval/validationReportSummary.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type ValidationReportSummary = {
  errors: number;
  warnings: number;
};
</file>

<file path="apps/web/src/types/orval/validationResponse.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */
import type { ThemeValidation } from './themeValidation';
import type { ValidationResponseDuplicateIdsItem } from './validationResponseDuplicateIdsItem';

export interface ValidationResponse {
  validations: ThemeValidation[];
  duplicate_ids: ValidationResponseDuplicateIdsItem[];
}
</file>

<file path="apps/web/src/types/orval/validationResponseDuplicateIdsItem.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export type ValidationResponseDuplicateIdsItem = {
  id: string;
  files: string[];
};
</file>

<file path="apps/web/src/types/orval/validationWarning.ts">
/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * OBS Styla API
 * API for OBS theme management and generation
 * OpenAPI spec version: 1.0.0
 */

export interface ValidationWarning {
  code: string;
  message: string;
  line?: number;
}
</file>

<file path="apps/web/src/App.css">
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #1e1e2e;
  color: #cdd6f4;
}

.App {
  padding: 24px;
}

h1 {
  text-align: center;
  margin-bottom: 24px;
}

.main-content {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 24px;
  height: calc(100vh - 120px);
}

.theme-controls {
  border: 1px solid #494d64;
  border-radius: 6px;
  padding: 12px;
}

.preview-area {
  display: flex;
  align-items: center;
  justify-content: center;
}
</file>

<file path="apps/web/src/App.test.tsx">
import React from 'react';
import { render, screen } from '@testing-library/react';
import App from './App';

test('renders the main heading', () => {
  render(<App />);
  const headingElement = screen.getByText(/OBS Styla/i);
  expect(headingElement).toBeInTheDocument();
});
</file>

<file path="apps/web/src/App.tsx">
import React from 'react';
import { ThemeProvider } from './context/ThemeContext';
import Preview from './components/preview/Preview';
import ThemeUploader from './components/ThemeUploader';
import ThemeExporter from './components/ThemeExporter';

function App() {
  return (
    <ThemeProvider>
      <div className="min-h-screen bg-background text-foreground p-6">
        <h1 className="text-center text-3xl font-bold mb-6">OBS Styla</h1>
        <div className="grid grid-cols-[300px_1fr] gap-6 h-[calc(100vh-120px)]">
          <div className="border border-border rounded-lg p-3">
            <ThemeUploader />
            <hr className="my-4 border-border" />
            <ThemeExporter />
          </div>
          <div className="flex items-center justify-center">
            <Preview />
          </div>
        </div>
      </div>
    </ThemeProvider>
  );
}

export default App;
</file>

<file path="apps/web/src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

@theme {
  --color-background: hsl(0 0% 100%);
  --color-foreground: hsl(222.2 84% 4.9%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(222.2 84% 4.9%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(222.2 84% 4.9%);
  --color-primary: hsl(221.2 83.2% 53.3%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-secondary: hsl(210 40% 96%);
  --color-secondary-foreground: hsl(222.2 84% 4.9%);
  --color-muted: hsl(210 40% 96%);
  --color-muted-foreground: hsl(215.4 16.3% 46.9%);
  --color-accent: hsl(210 40% 96%);
  --color-accent-foreground: hsl(222.2 84% 4.9%);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(214.3 31.8% 91.4%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(221.2 83.2% 53.3%);
  --border-radius: 0.5rem;
}

.dark {
  --color-background: hsl(222.2 84% 4.9%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(222.2 84% 4.9%);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(222.2 84% 4.9%);
  --color-popover-foreground: hsl(210 40% 98%);
  --color-primary: hsl(217.2 91.2% 59.8%);
  --color-primary-foreground: hsl(222.2 84% 4.9%);
  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);
  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(217.2 32.6% 17.5%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(224.3 76.3% 94.1%);
}

@layer base {
  * {
    border-color: hsl(var(--color-border));
  }
  body {
    background-color: hsl(var(--color-background));
    color: hsl(var(--color-foreground));
  }
}
</file>

<file path="apps/web/src/index.tsx">
import React from 'react';
import ReactDOM from 'react-dom/client';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import './index.css';
import App from './App';

const queryClient = new QueryClient();

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);
root.render(
  <React.StrictMode>
    <QueryClientProvider client={queryClient}>
      <App />
    </QueryClientProvider>
  </React.StrictMode>
);
</file>

<file path="apps/web/src/logo.svg">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 841.9 595.3"><g fill="#61DAFB"><path d="M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"/><circle cx="420.9" cy="296.5" r="45.7"/><path d="M520.5 78.1z"/></g></svg>
</file>

<file path="apps/web/src/react-app-env.d.ts">
/// <reference types="react-scripts" />
</file>

<file path="apps/web/src/reportWebVitals.ts">
import { ReportHandler } from 'web-vitals';

const reportWebVitals = (onPerfEntry?: ReportHandler) => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

export default reportWebVitals;
</file>

<file path="apps/web/src/setupTests.ts">
// jest-dom adds custom jest matchers for asserting on DOM nodes.
// allows you to do things like:
// expect(element).toHaveTextContent(/react/i)
// learn more: https://github.com/testing-library/jest-dom
import '@testing-library/jest-dom';
</file>

<file path="apps/web/.gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# production
/build

# misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*
</file>

<file path="apps/web/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="OBS Styla - Theme Editor for OBS Studio"
    />
    <link rel="apple-touch-icon" href="/logo192.png" />
    <link rel="manifest" href="/manifest.json" />
    <title>OBS Styla</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>
</file>

<file path="apps/web/package.json">
{
  "name": "obs-styla-web",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tanstack/react-query": "^5.90.11",
    "axios": "^1.7.9",
    "chroma-js": "^3.1.2",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "coloris": "^0.1.0",
    "jszip": "^3.10.1",
    "lucide-react": "^0.468.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-hotkeys-hook": "^5.2.1",
    "tailwind-merge": "^2.5.4",
    "tailwindcss-animate": "^1.0.7"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.17",
    "@types/chroma-js": "^3.1.1",
    "@types/jszip": "^3.4.0",
    "@types/node": "^16.18.126",
    "@types/react": "^19.2.2",
    "@types/react-dom": "^19.2.2",
    "@typescript-eslint/eslint-plugin": "^8.17.0",
    "@typescript-eslint/parser": "^8.17.0",
    "@vitejs/plugin-react": "^4.3.3",
    "autoprefixer": "^10.4.20",
    "eslint": "^9.16.0",
    "eslint-plugin-react-hooks": "^5.0.0",
    "eslint-plugin-react-refresh": "^0.4.16",
    "postcss": "^8.5.1",
    "tailwindcss": "^4.1.17",
    "typescript": "^5.7.2",
    "vite": "^5.4.11",
    "vite-plugin-svgr": "^4.3.0"
  }
}
</file>

<file path="apps/web/postcss.config.js">
export default {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}
</file>

<file path="apps/web/README.md">
# Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## Available Scripts

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.\
You will also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.\
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run build`

Builds the app for production to the `build` folder.\
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.\
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

### `npm run eject`

**Note: this is a one-way operation. Once you `eject`, you can‚Äôt go back!**

If you aren‚Äôt satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.

Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you‚Äôre on your own.

You don‚Äôt have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn‚Äôt feel obligated to use this feature. However we understand that this tool wouldn‚Äôt be useful if you couldn‚Äôt customize it when you are ready for it.

## Learn More

You can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started).

To learn React, check out the [React documentation](https://reactjs.org/).
</file>

<file path="apps/web/tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
</file>

<file path="apps/web/tsconfig.json">
{
  "compilerOptions": {
    "target": "es5",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noFallthroughCasesInSwitch": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx"
  },
  "include": [
    "src"
  ]
}
</file>

<file path="apps/web/vite.config.ts">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import svgr from 'vite-plugin-svgr'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(), svgr()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
      },
    },
  },
})
</file>

<file path="server/index.html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS Studio Theme Creator</title>
    <style>
        :root {
            /* Primitive Color Tokens */
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);
        
            /* RGB versions for opacity control */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-slate-500-rgb: 98, 108, 113;
            --color-red-500-rgb: 192, 21, 47;
            --color-red-400-rgb: 255, 84, 89;
            --color-orange-500-rgb: 168, 75, 47;
            --color-orange-400-rgb: 230, 129, 97;
        
            /* Background color tokens (Light Mode) */
            --color-bg-1: rgba(59, 130, 246, 0.08);
            --color-bg-2: rgba(245, 158, 11, 0.08);
            --color-bg-3: rgba(34, 197, 94, 0.08);
            --color-bg-4: rgba(239, 68, 68, 0.08);
            --color-bg-5: rgba(147, 51, 234, 0.08);
            --color-bg-6: rgba(249, 115, 22, 0.08);
            --color-bg-7: rgba(236, 72, 153, 0.08);
            --color-bg-8: rgba(6, 182, 212, 0.08);
        
            /* Semantic Color Tokens (Light Mode) */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
            --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
            --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-btn-primary-text: var(--color-cream-50);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);
            --color-info: var(--color-slate-500);
            --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
            --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
        
            /* Common style patterns */
            --focus-ring: 0 0 0 3px var(--color-focus-ring);
            --focus-outline: 2px solid var(--color-primary);
            --status-bg-opacity: 0.15;
            --status-border-opacity: 0.25;
            --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        
            /* RGB versions for opacity control */
            --color-success-rgb: 33, 128, 141;
            --color-error-rgb: 192, 21, 47;
            --color-warning-rgb: 168, 75, 47;
            --color-info-rgb: 98, 108, 113;
        
            /* Typography */
            --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
              BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
              Monaco, Consolas, monospace;
            --font-size-xs: 11px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-md: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-size-4xl: 30px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 550;
            --font-weight-bold: 600;
            --line-height-tight: 1.2;
            --line-height-normal: 1.5;
            --letter-spacing-tight: -0.01em;
        
            /* Spacing */
            --space-0: 0;
            --space-1: 1px;
            --space-2: 2px;
            --space-4: 4px;
            --space-6: 6px;
            --space-8: 8px;
            --space-10: 10px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
        
            /* Border Radius */
            --radius-sm: 6px;
            --radius-base: 8px;
            --radius-md: 10px;
            --radius-lg: 12px;
            --radius-full: 9999px;
        
            /* Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
              0 2px 4px -1px rgba(0, 0, 0, 0.02);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
              0 4px 6px -2px rgba(0, 0, 0, 0.02);
            --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
              inset 0 -1px 0 rgba(0, 0, 0, 0.03);
        
            /* Animation */
            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        
            /* Layout */
            --container-sm: 640px;
            --container-md: 768px;
            --container-lg: 1024px;
            --container-xl: 1280px;
        }
        
        /* Dark mode colors */
        @media (prefers-color-scheme: dark) {
            :root {
                /* RGB versions for opacity control (Dark Mode) */
                --color-gray-400-rgb: 119, 124, 124;
                --color-teal-300-rgb: 50, 184, 198;
                --color-gray-300-rgb: 167, 169, 169;
                --color-gray-200-rgb: 245, 245, 245;
            
                /* Background color tokens (Dark Mode) */
                --color-bg-1: rgba(29, 78, 216, 0.15);
                --color-bg-2: rgba(180, 83, 9, 0.15);
                --color-bg-3: rgba(21, 128, 61, 0.15);
                --color-bg-4: rgba(185, 28, 28, 0.15);
                --color-bg-5: rgba(107, 33, 168, 0.15);
                --color-bg-6: rgba(194, 65, 12, 0.15);
                --color-bg-7: rgba(190, 24, 93, 0.15);
                --color-bg-8: rgba(8, 145, 178, 0.15);
            
                /* Semantic Color Tokens (Dark Mode) */
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
                --color-primary: var(--color-teal-300);
                --color-primary-hover: var(--color-teal-400);
                --color-primary-active: var(--color-teal-800);
                --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
                --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
                --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
                --color-border: rgba(var(--color-gray-400-rgb), 0.3);
                --color-error: var(--color-red-400);
                --color-success: var(--color-teal-300);
                --color-warning: var(--color-orange-400);
                --color-info: var(--color-gray-300);
                --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
                --color-btn-primary-text: var(--color-slate-900);
                --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
                --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
                --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
                  inset 0 -1px 0 rgba(0, 0, 0, 0.15);
                --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
                --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
                --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);
            
                /* RGB versions for dark mode */
                --color-success-rgb: var(--color-teal-300-rgb);
                --color-error-rgb: var(--color-red-400-rgb);
                --color-warning-rgb: var(--color-orange-400-rgb);
                --color-info-rgb: var(--color-gray-300-rgb);
            }
        }
        
        /* Data attribute for manual theme switching */
        [data-color-scheme="dark"] {
            /* RGB versions for opacity control (dark mode) */
            --color-gray-400-rgb: 119, 124, 124;
            --color-teal-300-rgb: 50, 184, 198;
            --color-gray-300-rgb: 167, 169, 169;
            --color-gray-200-rgb: 245, 245, 245;
        
            /* Colorful background palette - Dark Mode */
            --color-bg-1: rgba(29, 78, 216, 0.15);
            --color-bg-2: rgba(180, 83, 9, 0.15);
            --color-bg-3: rgba(21, 128, 61, 0.15);
            --color-bg-4: rgba(185, 28, 28, 0.15);
            --color-bg-5: rgba(107, 33, 168, 0.15);
            --color-bg-6: rgba(194, 65, 12, 0.15);
            --color-bg-7: rgba(190, 24, 93, 0.15);
            --color-bg-8: rgba(8, 145, 178, 0.15);
        
            /* Semantic Color Tokens (Dark Mode) */
            --color-background: var(--color-charcoal-700);
            --color-surface: var(--color-charcoal-800);
            --color-text: var(--color-gray-200);
            --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
            --color-primary: var(--color-teal-300);
            --color-primary-hover: var(--color-teal-400);
            --color-primary-active: var(--color-teal-800);
            --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
            --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
            --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
            --color-border: rgba(var(--color-gray-400-rgb), 0.3);
            --color-error: var(--color-red-400);
            --color-success: var(--color-teal-300);
            --color-warning: var(--color-orange-400);
            --color-info: var(--color-gray-300);
            --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
            --color-btn-primary-text: var(--color-slate-900);
            --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
            --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
            --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
              inset 0 -1px 0 rgba(0, 0, 0, 0.15);
            --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
            --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);
        
            /* RGB versions for dark mode */
            --color-success-rgb: var(--color-teal-300-rgb);
            --color-error-rgb: var(--color-red-400-rgb);
            --color-warning-rgb: var(--color-orange-400-rgb);
            --color-info-rgb: var(--color-gray-300-rgb);
        }
        
        [data-color-scheme="light"] {
            /* RGB versions for opacity control (light mode) */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
        
            /* Semantic Color Tokens (Light Mode) */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
            --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
            --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-btn-primary-text: var(--color-cream-50);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);
            --color-info: var(--color-slate-500);
            --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
        
            /* RGB versions for light mode */
            --color-success-rgb: var(--color-teal-500-rgb);
            --color-error-rgb: var(--color-red-500-rgb);
            --color-warning-rgb: var(--color-orange-500-rgb);
            --color-info-rgb: var(--color-slate-500-rgb);
        }
        
        /* Base styles */
        html {
            font-size: var(--font-size-base);
            font-family: var(--font-family-base);
            line-height: var(--line-height-normal);
            color: var(--color-text);
            background-color: var(--color-background);
            -webkit-font-smoothing: antialiased;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
        }
        
        *,
        *::before,
        *::after {
            box-sizing: inherit;
        }
        
        /* Typography */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0;
            font-weight: var(--font-weight-semibold);
            line-height: var(--line-height-tight);
            color: var(--color-text);
            letter-spacing: var(--letter-spacing-tight);
        }
        
        h1 {
            font-size: var(--font-size-4xl);
        }
        h2 {
            font-size: var(--font-size-3xl);
        }
        h3 {
            font-size: var(--font-size-2xl);
        }
        h4 {
            font-size: var(--font-size-xl);
        }
        h5 {
            font-size: var(--font-size-lg);
        }
        h6 {
            font-size: var(--font-size-md);
        }
        
        p {
            margin: 0 0 var(--space-16) 0;
        }
        
        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color var(--duration-fast) var(--ease-standard);
        }
        
        a:hover {
            color: var(--color-primary-hover);
        }
        
        code,
        pre {
            font-family: var(--font-family-mono);
            font-size: calc(var(--font-size-base) * 0.95);
            background-color: var(--color-secondary);
            border-radius: var(--radius-sm);
        }
        
        code {
            padding: var(--space-1) var(--space-4);
        }
        
        pre {
            padding: var(--space-16);
            margin: var(--space-16) 0;
            overflow: auto;
            border: 1px solid var(--color-border);
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            font-weight: 500;
            line-height: 1.5;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            border: none;
            text-decoration: none;
            position: relative;
        }
        
        .btn:focus-visible {
            outline: none;
            box-shadow: var(--focus-ring);
        }
        
        .btn--primary {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }
        
        .btn--primary:hover {
            background: var(--color-primary-hover);
        }
        
        .btn--primary:active {
            background: var(--color-primary-active);
        }
        
        .btn--secondary {
            background: var(--color-secondary);
            color: var(--color-text);
        }
        
        .btn--secondary:hover {
            background: var(--color-secondary-hover);
        }
        
        .btn--secondary:active {
            background: var(--color-secondary-active);
        }
        
        .btn--outline {
            background: transparent;
            border: 1px solid var(--color-border);
            color: var(--color-text);
        }
        
        .btn--outline:hover {
            background: var(--color-secondary);
        }
        
        .btn--sm {
            padding: var(--space-4) var(--space-12);
            font-size: var(--font-size-sm);
            border-radius: var(--radius-sm);
        }
        
        .btn--lg {
            padding: var(--space-10) var(--space-20);
            font-size: var(--font-size-lg);
            border-radius: var(--radius-md);
        }
        
        .btn--full-width {
            width: 100%;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Form elements */
        .form-control {
            display: block;
            width: 100%;
            padding: var(--space-8) var(--space-12);
            font-size: var(--font-size-md);
            line-height: 1.5;
            color: var(--color-text);
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            transition: border-color var(--duration-fast) var(--ease-standard),
              box-shadow var(--duration-fast) var(--ease-standard);
        }
        
        textarea.form-control {
            font-family: var(--font-family-base);
            font-size: var(--font-size-base);
        }
        
        select.form-control {
            padding: var(--space-8) var(--space-12);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: var(--select-caret-light);
            background-repeat: no-repeat;
            background-position: right var(--space-12) center;
            background-size: 16px;
            padding-right: var(--space-32);
        }
        
        /* Add a dark mode specific caret */
        @media (prefers-color-scheme: dark) {
            select.form-control {
                background-image: var(--select-caret-dark);
            }
        }
        
        /* Also handle data-color-scheme */
        [data-color-scheme="dark"] select.form-control {
            background-image: var(--select-caret-dark);
        }
        
        [data-color-scheme="light"] select.form-control {
            background-image: var(--select-caret-light);
        }
        
        .form-control:focus {
            border-color: var(--color-primary);
            outline: var(--focus-outline);
        }
        
        .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
        }
        
        .form-group {
            margin-bottom: var(--space-16);
        }
        
        /* Card component */
        .card {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: box-shadow var(--duration-normal) var(--ease-standard);
        }
        
        .card:hover {
            box-shadow: var(--shadow-md);
        }
        
        .card__body {
            padding: var(--space-16);
        }
        
        .card__header,
        .card__footer {
            padding: var(--space-16);
            border-bottom: 1px solid var(--color-card-border-inner);
        }
        
        /* Status indicators - simplified with CSS variables */
        .status {
            display: inline-flex;
            align-items: center;
            padding: var(--space-6) var(--space-12);
            border-radius: var(--radius-full);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
        }
        
        .status--success {
            background-color: rgba(
              var(--color-success-rgb, 33, 128, 141),
              var(--status-bg-opacity)
            );
            color: var(--color-success);
            border: 1px solid
              rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
        }
        
        .status--error {
            background-color: rgba(
              var(--color-error-rgb, 192, 21, 47),
              var(--status-bg-opacity)
            );
            color: var(--color-error);
            border: 1px solid
              rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
        }
        
        .status--warning {
            background-color: rgba(
              var(--color-warning-rgb, 168, 75, 47),
              var(--status-bg-opacity)
            );
            color: var(--color-warning);
            border: 1px solid
              rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
        }
        
        .status--info {
            background-color: rgba(
              var(--color-info-rgb, 98, 108, 113),
              var(--status-bg-opacity)
            );
            color: var(--color-info);
            border: 1px solid
              rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
        }
        
        /* Container layout */
        .container {
            width: 100%;
            margin-right: auto;
            margin-left: auto;
            padding-right: var(--space-16);
            padding-left: var(--space-16);
        }
        
        @media (min-width: 640px) {
            .container {
                max-width: var(--container-sm);
            }
        }
        @media (min-width: 768px) {
            .container {
                max-width: var(--container-md);
            }
        }
        @media (min-width: 1024px) {
            .container {
                max-width: var(--container-lg);
            }
        }
        @media (min-width: 1280px) {
            .container {
                max-width: var(--container-xl);
            }
        }
        
        /* Utility classes */
        .flex {
            display: flex;
        }
        .flex-col {
            flex-direction: column;
        }
        .items-center {
            align-items: center;
        }
        .justify-center {
            justify-content: center;
        }
        .justify-between {
            justify-content: space-between;
        }
        .gap-4 {
            gap: var(--space-4);
        }
        .gap-8 {
            gap: var(--space-8);
        }
        .gap-16 {
            gap: var(--space-16);
        }
        
        .m-0 {
            margin: 0;
        }
        .mt-8 {
            margin-top: var(--space-8);
        }
        .mb-8 {
            margin-bottom: var(--space-8);
        }
        .mx-8 {
            margin-left: var(--space-8);
            margin-right: var(--space-8);
        }
        .my-8 {
            margin-top: var(--space-8);
            margin-bottom: var(--space-8);
        }
        
        .p-0 {
            padding: 0;
        }
        .py-8 {
            padding-top: var(--space-8);
            padding-bottom: var(--space-8);
        }
        .px-8 {
            padding-left: var(--space-8);
            padding-right: var(--space-8);
        }
        .py-16 {
            padding-top: var(--space-16);
            padding-bottom: var(--space-16);
        }
        .px-16 {
            padding-left: var(--space-16);
            padding-right: var(--space-16);
        }
        
        .block {
            display: block;
        }
        .hidden {
            display: none;
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        :focus-visible {
            outline: var(--focus-outline);
            outline-offset: 2px;
        }
        
        /* Dark mode specifics */
        [data-color-scheme="dark"] .btn--outline {
            border: 1px solid var(--color-border-secondary);
        }
        
        @font-face {
            font-family: 'FKGroteskNeue';
            src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
              format('woff2');
        }

        /* App specific styles */
        .app {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .app-header {
            background: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            padding: var(--space-12) var(--space-24);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-16);
        }

        .app-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            margin: 0;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: var(--space-12);
        }

        .app-body {
            flex: 1;
            display: flex;
            min-height: 0;
        }

        .sidebar {
            width: 280px;
            background: var(--color-surface);
            border-right: 1px solid var(--color-border);
            overflow-y: auto;
            padding: var(--space-16);
        }

        .main-content {
            flex: 1;
            display: flex;
            min-height: 0;
        }

        .customization-panel {
            width: 400px;
            background: var(--color-surface);
            border-right: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
        }

        .preview-area {
            flex: 1;
            padding: var(--space-24);
            background: var(--color-background);
            overflow: auto;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--color-border);
        }

        .tab {
            padding: var(--space-12) var(--space-16);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
            transition: all var(--duration-fast) var(--ease-standard);
        }

        .tab:hover {
            color: var(--color-text);
            background: var(--color-secondary);
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom: 2px solid var(--color-primary);
        }

        .tab-content {
            flex: 1;
            padding: var(--space-16);
            overflow-y: auto;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-12);
        }

        .preset-item {
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-standard);
        }

        .preset-item:hover {
            border-color: var(--color-primary);
            background: var(--color-secondary);
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-8);
        }

        .color-item {
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
        }

        .color-swatch {
            width: 100%;
            height: 40px;
            border-radius: var(--radius-base);
            border: 1px solid var(--color-border);
            cursor: pointer;
        }

        .color-input {
            font-size: var(--font-size-xs);
            padding: var(--space-4);
        }

        .obs-preview {
            background: #1e1e1e;
            color: #ffffff;
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--color-border);
            font-family: 'Segoe UI', sans-serif;
        }

        .obs-titlebar {
            background: #2d2d30;
            padding: var(--space-8) var(--space-16);
            font-size: var(--font-size-sm);
            border-bottom: 1px solid #3e3e42;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .obs-menu {
            background: #2d2d30;
            padding: var(--space-4) var(--space-16);
            border-bottom: 1px solid #3e3e42;
            display: flex;
            gap: var(--space-20);
        }

        .obs-menu-item {
            font-size: var(--font-size-sm);
            padding: var(--space-4) var(--space-8);
            cursor: pointer;
        }

        .obs-main {
            display: flex;
            height: 500px;
        }

        .obs-sidebar {
            width: 250px;
            background: #1e1e1e;
            border-right: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
        }

        .obs-panel {
            flex: 1;
            padding: var(--space-8);
        }

        .obs-panel-title {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--space-8);
            color: #cccccc;
        }

        .obs-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .obs-list-item {
            padding: var(--space-6) var(--space-8);
            font-size: var(--font-size-sm);
            cursor: pointer;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .obs-list-item:hover {
            background: #094771;
        }

        .obs-list-item.selected {
            background: #094771;
            color: #ffffff;
        }

        .obs-source-icon {
            width: 16px;
            height: 16px;
            opacity: 0.7;
        }

        .obs-content {
            flex: 1;
            background: #1e1e1e;
        }

        .obs-controls {
            background: #2d2d30;
            padding: var(--space-12) var(--space-16);
            border-top: 1px solid #3e3e42;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-12);
        }

        .obs-control-btn {
            padding: var(--space-8) var(--space-16);
            border: none;
            border-radius: var(--radius-base);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .obs-control-btn.record {
            background: #b91c1c;
            color: white;
        }

        .obs-control-btn.stream {
            background: #7c3aed;
            color: white;
        }

        .obs-control-btn.vcam {
            background: #059669;
            color: white;
        }

        .obs-control-btn.replay {
            background: #d97706;
            color: white;
        }

        .file-drop-zone {
            border: 2px dashed var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--space-32);
            text-align: center;
            background: var(--color-secondary);
            transition: all var(--duration-fast) var(--ease-standard);
        }

        .file-drop-zone.dragover {
            border-color: var(--color-primary);
            background: rgba(var(--color-primary), 0.1);
        }

        .range-control {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .range-control input[type="range"] {
            flex: 1;
        }

        .range-value {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            min-width: 40px;
        }

        .export-options {
            background: var(--color-surface);
            border-top: 1px solid var(--color-border);
            padding: var(--space-16);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .theme-name-input {
            min-width: 200px;
        }

        .color-harmony-suggestions {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-8);
        }

        .harmony-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--color-border);
            cursor: pointer;
        }

        .icon-upload {
            display: flex;
            flex-direction: column;
            gap: var(--space-8);
        }

        .svg-editor {
            width: 100%;
            min-height: 200px;
            font-family: var(--font-family-mono);
            font-size: var(--font-size-sm);
            resize: vertical;
        }

        .accessibility-check {
            padding: var(--space-12);
            border-radius: var(--radius-base);
            margin-top: var(--space-8);
        }

        .accessibility-check.pass {
            background: var(--color-bg-3);
            border: 1px solid var(--color-success);
        }

        .accessibility-check.fail {
            background: var(--color-bg-4);
            border: 1px solid var(--color-error);
        }
    </style>
</head>
<body>
    <!-- SVG filters for color blindness simulation -->
    <svg width="0" height="0" style="position:absolute" aria-hidden="true">
        <defs>
            <filter id="protanopia"><feColorMatrix type="matrix" values="0.567,0.433,0,0,0 0.558,0.442,0,0,0 0,0.242,0.758,0,0 0,0,0,1,0"/></filter>
            <filter id="deuteranopia"><feColorMatrix type="matrix" values="0.625,0.375,0,0,0 0.7,0.3,0,0,0 0,0.3,0.7,0,0 0,0,0,1,0"/></filter>
            <filter id="tritanopia"><feColorMatrix type="matrix" values="0.95,0.05,0,0,0 0,0.433,0.567,0,0 0,0.475,0.525,0,0 0,0,0,1,0"/></filter>
        </defs>
    </svg>
    <div class="app">
        <header class="app-header">
            <h1 class="app-title">OBS Theme Creator</h1>
            <div class="header-controls">
                <input type="text" class="form-control theme-name-input" id="themeName" placeholder="Theme Name" value="My Custom Theme">
                <button class="btn btn--outline btn--sm" id="importBtn">Import</button>
                <button class="btn btn--primary btn--sm" id="exportBtn">Export</button>
                <button class="btn btn--outline btn--sm" id="regenBtn">Regenerate</button>
                <button class="btn btn--secondary btn--sm" id="darkModeToggle">üåì</button>
            </div>
        </header>

        <div class="app-body">
            <aside class="sidebar">
                <div class="form-group">
                    <label class="form-label">Theme Source</label>
                    <select class="form-control" id="themeSource">
                        <option value="blank">Start from Blank</option>
                        <option value="vscode">Import VSCode Theme</option>
                        <option value="preset">Choose Preset</option>
                    </select>
                </div>

                <div id="presetSelection" class="form-group" style="display: none;">
                    <label class="form-label">Popular Presets</label>
                    <div class="preset-grid">
                        <div class="preset-item" data-preset="catppuccin">
                            <div style="font-weight: 500; margin-bottom: 4px;">Catppuccin</div>
                            <div style="font-size: 12px; color: var(--color-text-secondary);">Mocha</div>
                        </div>
                        <div class="preset-item" data-preset="dracula">
                            <div style="font-weight: 500; margin-bottom: 4px;">Dracula</div>
                            <div style="font-size: 12px; color: var(--color-text-secondary);">Dark</div>
                        </div>
                        <div class="preset-item" data-preset="nord">
                            <div style="font-weight: 500; margin-bottom: 4px;">Nord</div>
                            <div style="font-size: 12px; color: var(--color-text-secondary);">Arctic</div>
                        </div>
                        <div class="preset-item" data-preset="material">
                            <div style="font-weight: 500; margin-bottom: 4px;">Material</div>
                            <div style="font-size: 12px; color: var(--color-text-secondary);">Dark</div>
                        </div>
                    </div>
                </div>

                <div id="vscodeImport" class="form-group" style="display: none;">
                    <label class="form-label">VSCode Theme File</label>
                    <div class="file-drop-zone" id="vscodeDropZone">
                        <p>Drop a .json theme file here</p>
                        <p style="font-size: 12px; color: var(--color-text-secondary);">Or click to browse</p>
                        <input type="file" id="vscodeFile" accept=".json" style="display: none;">
                    </div>
                </div>

                <div class="form-group" style="margin-top: 24px;">
                    <h6>Quick Actions</h6>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 8px;">
                        <button class="btn btn--outline btn--sm" id="resetTheme">Reset Theme</button>
                        <button class="btn btn--outline btn--sm" id="randomizeColors">Randomize Colors</button>
                        <button class="btn btn--outline btn--sm" id="validateTheme">Validate Theme</button>
                    </div>
                </div>
            </aside>

            <div class="main-content">
                <div class="customization-panel">
                    <div class="tabs">
                        <button class="tab active" data-tab="colors">Colors</button>
                        <button class="tab" data-tab="typography">Typography</button>
                        <button class="tab" data-tab="layout">Layout</button>
                        <button class="tab" data-tab="icons">Icons</button>
                        <button class="tab" data-tab="advanced">Advanced</button>
                    </div>

                    <div class="tab-content">
                        <!-- Colors Tab -->
                        <div id="colorsTab" class="tab-panel">
                            <div class="form-group">
                                <h6>Primary Colors</h6>
                                <div class="color-grid">
                                    <div class="color-item">
                                        <label class="form-label">Background</label>
                                        <div class="color-swatch" data-color="background" style="background-color: #1e1e1e;"></div>
                                        <input type="text" class="form-control color-input" data-color="background" value="#1e1e1e">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">Surface</label>
                                        <div class="color-swatch" data-color="surface" style="background-color: #2d2d30;"></div>
                                        <input type="text" class="form-control color-input" data-color="surface" value="#2d2d30">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">Text</label>
                                        <div class="color-swatch" data-color="text" style="background-color: #ffffff;"></div>
                                        <input type="text" class="form-control color-input" data-color="text" value="#ffffff">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">Border</label>
                                        <div class="color-swatch" data-color="border" style="background-color: #3e3e42;"></div>
                                        <input type="text" class="form-control color-input" data-color="border" value="#3e3e42">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <h6>Accent Colors</h6>
                                <div class="color-grid">
                                    <div class="color-item">
                                        <label class="form-label">Record</label>
                                        <div class="color-swatch" data-color="record" style="background-color: #b91c1c;"></div>
                                        <input type="text" class="form-control color-input" data-color="record" value="#b91c1c">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">Stream</label>
                                        <div class="color-swatch" data-color="stream" style="background-color: #7c3aed;"></div>
                                        <input type="text" class="form-control color-input" data-color="stream" value="#7c3aed">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">VCam</label>
                                        <div class="color-swatch" data-color="vcam" style="background-color: #059669;"></div>
                                        <input type="text" class="form-control color-input" data-color="vcam" value="#059669">
                                    </div>
                                    <div class="color-item">
                                        <label class="form-label">Replay</label>
                                        <div class="color-swatch" data-color="replay" style="background-color: #d97706;"></div>
                                        <input type="text" class="form-control color-input" data-color="replay" value="#d97706">
                                    </div>
                                </div>
                                <div class="color-harmony-suggestions" id="harmonySuggestions"></div>
                                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                                    <label style="font-size:12px; color:var(--color-text-secondary); margin-right:4px;">Simulate:</label>
                                    <select id="colorBlindSim" class="form-control" style="width:160px;">
                                        <option value="none">None</option>
                                        <option value="protanopia">Protanopia</option>
                                        <option value="deuteranopia">Deuteranopia</option>
                                        <option value="tritanopia">Tritanopia</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <h6>Accessibility Check</h6>
                                <div id="accessibilityCheck" class="accessibility-check">
                                    <div>Contrast Ratio: <span id="contrastRatio">4.5:1</span></div>
                                    <div id="wcagCompliance">WCAG AA Compliant ‚úì</div>
                                </div>
                            </div>
                        </div>

                        <!-- Typography Tab -->
                        <div id="typographyTab" class="tab-panel" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Font Family</label>
                                <select class="form-control" id="fontFamily">
                                    <option value="Segoe UI">Segoe UI</option>
                                    <option value="Inter">Inter</option>
                                    <option value="Roboto">Roboto</option>
                                    <option value="Open Sans">Open Sans</option>
                                    <option value="Source Sans Pro">Source Sans Pro</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Font Sizes</label>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Small</label>
                                        <input type="range" min="10" max="16" value="12" id="fontSizeSmall">
                                        <span class="range-value">12px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Base</label>
                                        <input type="range" min="12" max="18" value="14" id="fontSizeBase">
                                        <span class="range-value">14px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Large</label>
                                        <input type="range" min="14" max="22" value="16" id="fontSizeLarge">
                                        <span class="range-value">16px</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Font Weight</label>
                                <select class="form-control" id="fontWeight">
                                    <option value="400">Normal (400)</option>
                                    <option value="500">Medium (500)</option>
                                    <option value="600">Semi-bold (600)</option>
                                    <option value="700">Bold (700)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Layout Tab -->
                        <div id="layoutTab" class="tab-panel" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Spacing Scale</label>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">XS</label>
                                        <input type="range" min="2" max="8" value="4" id="spacingXS">
                                        <span class="range-value">4px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">SM</label>
                                        <input type="range" min="4" max="12" value="8" id="spacingSM">
                                        <span class="range-value">8px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">MD</label>
                                        <input type="range" min="8" max="20" value="12" id="spacingMD">
                                        <span class="range-value">12px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">LG</label>
                                        <input type="range" min="12" max="24" value="16" id="spacingLG">
                                        <span class="range-value">16px</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Border Radius</label>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Small</label>
                                        <input type="range" min="0" max="8" value="4" id="radiusSmall">
                                        <span class="range-value">4px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Base</label>
                                        <input type="range" min="4" max="12" value="6" id="radiusBase">
                                        <span class="range-value">6px</span>
                                    </div>
                                    <div class="range-control">
                                        <label style="min-width: 60px; font-size: 12px;">Large</label>
                                        <input type="range" min="8" max="20" value="12" id="radiusLarge">
                                        <span class="range-value">12px</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Icons Tab -->
                        <div id="iconsTab" class="tab-panel" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Icon Style</label>
                                <select class="form-control" id="iconStyle">
                                    <option value="default">Default</option>
                                    <option value="minimal">Minimal</option>
                                    <option value="colorful">Colorful</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Custom SVG Icons</label>
                                <div class="icon-upload">
                                    <div class="file-drop-zone" id="iconDropZone">
                                        <p>Drop SVG files here</p>
                                        <input type="file" id="iconFiles" multiple accept=".svg" style="display: none;">
                                    </div>
                                    <textarea class="form-control svg-editor" id="svgEditor" placeholder="Or paste SVG code here..."></textarea>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Icon Preview</label>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap; padding: 16px; background: var(--color-secondary); border-radius: 8px;">
                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                                        <div style="width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
                                            <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; fill: #b91c1c;"><circle cx="12" cy="12" r="8"/></svg>
                                        </div>
                                        <span style="font-size: 10px;">Record</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                                        <div style="width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
                                            <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; fill: #7c3aed;"><path d="M8 5v14l11-7z"/></svg>
                                        </div>
                                        <span style="font-size: 10px;">Stream</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                                        <div style="width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
                                            <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; fill: #059669;"><path d="M12 15.2c-1.25 0-2.27-.92-2.27-2.2s1.02-2.2 2.27-2.2c1.25 0 2.27.92 2.27 2.2S13.25 15.2 12 15.2zM9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9z"/></svg>
                                        </div>
                                        <span style="font-size: 10px;">Camera</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                                        <div style="width: 24px; height: 24px; display: flex; align-items: center; justify-content: center;">
                                            <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; fill: #d97706;"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/></svg>
                                        </div>
                                        <span style="font-size: 10px;">Mic</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Advanced Tab -->
                        <div id="advancedTab" class="tab-panel" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Theme Metadata</label>
                                <input type="text" class="form-control" id="themeId" placeholder="Theme ID (e.g., com.company.theme-name)">
                                <input type="text" class="form-control" id="themeAuthor" placeholder="Author Name" style="margin-top: 8px;">
                                <input type="text" class="form-control" id="themeVersion" placeholder="Version (e.g., 1.0.0)" style="margin-top: 8px;">
                                <textarea class="form-control" id="themeDescription" placeholder="Theme description..." rows="3" style="margin-top: 8px;"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Animation Settings</label>
                                <div class="range-control">
                                    <label style="min-width: 120px; font-size: 12px;">Transition Speed</label>
                                    <input type="range" min="100" max="500" value="250" id="transitionSpeed">
                                    <span class="range-value">250ms</span>
                                </div>
                                <select class="form-control" id="easingFunction" style="margin-top: 8px;">
                                    <option value="linear">Linear</option>
                                    <option value="ease">Ease</option>
                                    <option value="ease-in">Ease In</option>
                                    <option value="ease-out">Ease Out</option>
                                    <option value="ease-in-out">Ease In Out</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Extended Base Theme</label>
                                <select class="form-control" id="extendedTheme">
                                    <option value="com.obsproject.Yami">Yami (Dark)</option>
                                    <option value="com.obsproject.Acri">Acri (Light)</option>
                                    <option value="com.obsproject.Rachni">Rachni (System)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="preview-area">
                    <div class="obs-preview" id="obsPreview">
                        <div class="obs-titlebar">
                            <span>OBS Studio 30.0.2 (64 bit)</span>
                            <div style="display: flex; gap: 8px;">
                                <div style="width: 12px; height: 12px; background: #ff5f56; border-radius: 50%;"></div>
                                <div style="width: 12px; height: 12px; background: #ffbd2e; border-radius: 50%;"></div>
                                <div style="width: 12px; height: 12px; background: #27ca3f; border-radius: 50%;"></div>
                            </div>
                        </div>

                        <div class="obs-menu">
                            <div class="obs-menu-item">File</div>
                            <div class="obs-menu-item">Edit</div>
                            <div class="obs-menu-item">View</div>
                            <div class="obs-menu-item">Profile</div>
                            <div class="obs-menu-item">Scene Collection</div>
                            <div class="obs-menu-item">Tools</div>
                            <div class="obs-menu-item">Help</div>
                        </div>

                        <div class="obs-main">
                            <div class="obs-sidebar">
                                <div class="obs-panel">
                                    <div class="obs-panel-title">Scenes</div>
                                    <ul class="obs-list">
                                        <li class="obs-list-item selected">Main Scene</li>
                                        <li class="obs-list-item">Starting Soon</li>
                                        <li class="obs-list-item">Be Right Back</li>
                                        <li class="obs-list-item">Ending Soon</li>
                                    </ul>
                                </div>

                                <div class="obs-panel">
                                    <div class="obs-panel-title">Sources</div>
                                    <ul class="obs-list">
                                        <li class="obs-list-item">
                                            <svg class="obs-source-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z"/></svg>
                                            Desktop Capture
                                        </li>
                                        <li class="obs-list-item">
                                            <svg class="obs-source-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 15.2c-1.25 0-2.27-.92-2.27-2.2s1.02-2.2 2.27-2.2c1.25 0 2.27.92 2.27 2.2S13.25 15.2 12 15.2zM9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9z"/></svg>
                                            Webcam
                                        </li>
                                        <li class="obs-list-item">
                                            <svg class="obs-source-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/></svg>
                                            Microphone
                                        </li>
                                        <li class="obs-list-item">
                                            <svg class="obs-source-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                                            Browser Source
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="obs-content">
                                <!-- Main preview area -->
                                <div style="padding: 24px; display: flex; align-items: center; justify-content: center; height: 100%; color: #666; font-style: italic;">
                                    Preview Area - Scene Content
                                </div>
                            </div>
                        </div>

                        <div class="obs-controls">
                            <button class="obs-control-btn record">
                                <svg style="width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"/></svg>
                                Start Recording
                            </button>
                            <button class="obs-control-btn stream">
                                <svg style="width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                                Start Streaming
                            </button>
                            <button class="obs-control-btn vcam">
                                <svg style="width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 24 24"><path d="M12 15.2c-1.25 0-2.27-.92-2.27-2.2s1.02-2.2 2.27-2.2c1.25 0 2.27.92 2.27 2.2S13.25 15.2 12 15.2zM9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9z"/></svg>
                                Virtual Camera
                            </button>
                            <button class="obs-control-btn replay">
                                <svg style="width: 16px; height: 16px; fill: currentColor;" viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg>
                                Replay Buffer
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="export-options">
            <div>
                <span class="status status--success" id="themeStatus">Theme Valid ‚úì</span>
            </div>
            <div style="display: flex; gap: 12px; align-items: center;">
                <span style="font-size: 12px; color: var(--color-text-secondary);">Export as:</span>
                <button class="btn btn--outline btn--sm" id="exportOvt">.ovt Theme</button>
                <button class="btn btn--outline btn--sm" id="exportObt">.obt Base</button>
                <button class="btn btn--outline btn--sm" id="exportCss">CSS Variables</button>
                <button class="btn btn--primary btn--sm" id="exportPackage">Theme Package</button>
            </div>
            <div id="serverThemeList" style="margin-left: 16px; margin-top: 8px; font-size: 13px; color: var(--color-text-secondary);"></div>
        </div>
    </div>

    <!-- Color picker and color math libraries -->
    <link rel="stylesheet" href="https://unpkg.com/coloris@0.10.2/dist/coloris.min.css">
    <script src="https://unpkg.com/coloris@0.10.2/dist/coloris.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>

    <script>
        // Theme data structure
        let currentTheme = {
            metadata: {
                name: 'My Custom Theme',
                id: 'com.user.custom-theme',
                extends: 'com.obsproject.Yami',
                author: '',
                version: '1.0.0',
                description: '',
                dark: true
            },
            colors: {
                background: '#1e1e1e',
                surface: '#2d2d30',
                text: '#ffffff',
                border: '#3e3e42',
                record: '#b91c1c',
                stream: '#7c3aed',
                vcam: '#059669',
                replay: '#d97706'
            },
            typography: {
                fontFamily: 'Segoe UI',
                fontSizes: {
                    small: 12,
                    base: 14,
                    large: 16
                },
                fontWeight: 400
            },
            layout: {
                spacing: {
                    xs: 4,
                    sm: 8,
                    md: 12,
                    lg: 16
                },
                borderRadius: {
                    small: 4,
                    base: 6,
                    large: 12
                }
            },
            icons: {
                style: 'default',
                customIcons: {}
            },
            animations: {
                transitionSpeed: 250,
                easing: 'ease'
            }
        };

        // Preset themes
        const presets = {
            catppuccin: {
                name: 'Catppuccin Mocha',
                colors: {
                    background: '#1e1e2e',
                    surface: '#313244',
                    text: '#cdd6f4',
                    border: '#585b70',
                    record: '#f38ba8',
                    stream: '#cba6f7',
                    vcam: '#a6e3a1',
                    replay: '#fab387'
                }
            },
            dracula: {
                name: 'Dracula',
                colors: {
                    background: '#282a36',
                    surface: '#44475a',
                    text: '#f8f8f2',
                    border: '#6272a4',
                    record: '#ff5555',
                    stream: '#bd93f9',
                    vcam: '#50fa7b',
                    replay: '#ffb86c'
                }
            },
            nord: {
                name: 'Nord',
                colors: {
                    background: '#2e3440',
                    surface: '#3b4252',
                    text: '#eceff4',
                    border: '#4c566a',
                    record: '#bf616a',
                    stream: '#5e81ac',
                    vcam: '#a3be8c',
                    replay: '#d08770'
                }
            },
            material: {
                name: 'Material Dark',
                colors: {
                    background: '#212121',
                    surface: '#2d2d2d',
                    text: '#ffffff',
                    border: '#404040',
                    record: '#f44336',
                    stream: '#9c27b0',
                    vcam: '#4caf50',
                    replay: '#ff9800'
                }
            }
        };

        // DOM elements
        const elements = {
            themeNameInput: document.getElementById('themeName'),
            themeSource: document.getElementById('themeSource'),
            presetSelection: document.getElementById('presetSelection'),
            vscodeImport: document.getElementById('vscodeImport'),
            vscodeDropZone: document.getElementById('vscodeDropZone'),
            vscodeFile: document.getElementById('vscodeFile'),
            obsPreview: document.getElementById('obsPreview'),
            darkModeToggle: document.getElementById('darkModeToggle'),
            exportBtn: document.getElementById('exportBtn'),
            importBtn: document.getElementById('importBtn'),
            regenBtn: document.getElementById('regenBtn'),
            tabs: document.querySelectorAll('.tab'),
            tabPanels: document.querySelectorAll('.tab-panel')
        };

        // Initialize app
        function initializeApp() {
            // Initialize Coloris color picker on color input fields
            try {
                // add Coloris class to all color inputs so Coloris picks them up
                document.querySelectorAll('.color-input').forEach(i => i.classList.add('coloris'));
                if (window.Coloris && typeof Coloris !== 'undefined') {
                    Coloris({ theme: 'large', el: '.coloris' });
                }
            } catch (e) {
                // non-fatal
                console.warn('Coloris init failed', e);
            }

            setupEventListeners();
            updatePreview();
            updateColorInputs();
            setupTabSwitching();
            setupColorPickers();
            setupRangeControls();
            setupFileHandlers();
            fetchThemeList();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Theme source selection
            elements.themeSource.addEventListener('change', (e) => {
                const source = e.target.value;
                elements.presetSelection.style.display = source === 'preset' ? 'block' : 'none';
                elements.vscodeImport.style.display = source === 'vscode' ? 'block' : 'none';
            });

            // Preset selection
            document.querySelectorAll('.preset-item').forEach(item => {
                item.addEventListener('click', () => {
                    const preset = item.dataset.preset;
                    applyPreset(preset);
                });
            });

            // Theme name input
            elements.themeNameInput.addEventListener('input', (e) => {
                currentTheme.metadata.name = e.target.value;
                updateThemeValidation();
            });

            // Dark mode toggle
            elements.darkModeToggle.addEventListener('click', toggleDarkMode);

            // Regenerate themes on server
            if (elements.regenBtn) {
                elements.regenBtn.addEventListener('click', async () => {
                    elements.regenBtn.disabled = true;
                    showNotification('Regenerating themes...');
                    try {
                        const res = await fetch('/api/generate', { method: 'POST' });
                        const data = await res.json();
                        const ok = data.results && data.results.length > 0;
                        if (ok) {
                            showNotification('Generation finished', 'success');
                        } else {
                            showNotification('Generation completed (no scripts run)', 'info');
                        }
                        fetchThemeList();
                        // Optionally show truncated logs
                        if (data.results && data.results.length) {
                            const msg = data.results.map(r => `${r.script}: rc=${r.returncode ?? r.status || 'n/a'}`).join('; ');
                            console.log('generate results', msg);
                        }
                    } catch (err) {
                        console.error(err);
                        showNotification('Generation failed: ' + String(err), 'error');
                    } finally {
                        elements.regenBtn.disabled = false;
                    }
                });
            }

            // Export buttons
            document.getElementById('exportOvt').addEventListener('click', () => exportTheme('ovt'));
            document.getElementById('exportObt').addEventListener('click', () => exportTheme('obt'));
            document.getElementById('exportCss').addEventListener('click', () => exportTheme('css'));
            document.getElementById('exportPackage').addEventListener('click', () => exportTheme('package'));

            // Quick actions
            document.getElementById('resetTheme').addEventListener('click', resetTheme);
            document.getElementById('randomizeColors').addEventListener('click', randomizeColors);
            document.getElementById('validateTheme').addEventListener('click', validateTheme);
        }

        // Fetch available theme files from server and display download links
        async function fetchThemeList() {
            const container = document.getElementById('serverThemeList');
            if (!container) return;
            container.textContent = 'Loading themes...';
            try {
                const res = await fetch('/api/themes');
                if (!res.ok) throw new Error('Failed to fetch');
                const json = await res.json();
                const themes = json.themes || [];
                if (themes.length === 0) {
                    container.textContent = 'No generated themes found';
                    return;
                }
                const ul = document.createElement('ul');
                ul.style.listStyle = 'none';
                ul.style.padding = '0';
                ul.style.margin = '0';
                ul.style.display = 'flex';
                ul.style.gap = '8px';
                themes.forEach(t => {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = `/api/themes/${encodeURIComponent(t.name)}`;
                    a.textContent = t.name;
                    a.style.color = 'var(--color-primary)';
                    a.style.textDecoration = 'none';
                    a.style.fontSize = '13px';
                    li.appendChild(a);
                    ul.appendChild(li);
                });
                container.innerHTML = '';
                container.appendChild(ul);
            } catch (err) {
                console.error(err);
                container.textContent = 'Error loading themes';
            }
        }

        // Setup tab switching
        function setupTabSwitching() {
            elements.tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;
                    
                    // Update tab states
                    elements.tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Update panel visibility
                    document.querySelectorAll('.tab-panel').forEach(panel => {
                        panel.style.display = 'none';
                    });
                    document.getElementById(targetTab + 'Tab').style.display = 'block';
                });
            });
        }

        // Setup color pickers
        function setupColorPickers() {
            document.querySelectorAll('.color-input').forEach(input => {
                input.addEventListener('input', (e) => {
                    const colorName = e.target.dataset.color;
                    const colorValue = e.target.value;
                    
                    if (isValidColor(colorValue)) {
                        currentTheme.colors[colorName] = colorValue;
                        updateColorSwatch(colorName, colorValue);
                        updatePreview();
                        updateAccessibilityCheck();
                        generateColorHarmony();
                    }
                });
            });

            document.querySelectorAll('.color-swatch').forEach(swatch => {
                swatch.addEventListener('click', (e) => {
                    const colorName = e.target.dataset.color;
                    const input = document.querySelector(`input[data-color="${colorName}"]`);
                    
                    // Create a hidden color input for native color picker
                    const colorPicker = document.createElement('input');
                    colorPicker.type = 'color';
                    colorPicker.value = rgbToHex(getComputedStyle(e.target).backgroundColor);
                    colorPicker.style.display = 'none';
                    document.body.appendChild(colorPicker);
                    
                    colorPicker.addEventListener('change', (event) => {
                        const newColor = event.target.value;
                        input.value = newColor;
                        input.dispatchEvent(new Event('input'));
                        document.body.removeChild(colorPicker);
                    });
                    
                    colorPicker.click();
                });
            });
        }

        // Setup range controls
        function setupRangeControls() {
            document.querySelectorAll('input[type="range"]').forEach(range => {
                const updateValue = () => {
                    const valueSpan = range.parentNode.querySelector('.range-value');
                    const id = range.id;
                    const value = parseInt(range.value);
                    
                    if (valueSpan) {
                        if (id.includes('font')) {
                            valueSpan.textContent = value + 'px';
                        } else if (id.includes('transition')) {
                            valueSpan.textContent = value + 'ms';
                        } else {
                            valueSpan.textContent = value + 'px';
                        }
                    }
                    
                    // Update theme data
                    updateThemeFromRange(id, value);
                    updatePreview();
                };
                
                range.addEventListener('input', updateValue);
                updateValue(); // Initialize
            });
        }

        // Setup file handlers
        function setupFileHandlers() {
            // VSCode theme file handler
            elements.vscodeDropZone.addEventListener('click', () => {
                elements.vscodeFile.click();
            });

            elements.vscodeDropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.target.classList.add('dragover');
            });

            elements.vscodeDropZone.addEventListener('dragleave', (e) => {
                e.target.classList.remove('dragover');
            });

            elements.vscodeDropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                e.target.classList.remove('dragover');
                handleVSCodeFile(e.dataTransfer.files[0]);
            });

            elements.vscodeFile.addEventListener('change', (e) => {
                handleVSCodeFile(e.target.files[0]);
            });

            // Icon upload handler
            const iconDropZone = document.getElementById('iconDropZone');
            const iconFiles = document.getElementById('iconFiles');

            iconDropZone.addEventListener('click', () => {
                iconFiles.click();
            });

            iconDropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.target.classList.add('dragover');
            });

            iconDropZone.addEventListener('dragleave', (e) => {
                e.target.classList.remove('dragover');
            });

            iconDropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                e.target.classList.remove('dragover');
                handleIconFiles(e.dataTransfer.files);
            });

            iconFiles.addEventListener('change', (e) => {
                handleIconFiles(e.target.files);
            });

            // Color blindness simulation select
            const simSelect = document.getElementById('colorBlindSim');
            if (simSelect) {
                simSelect.addEventListener('change', (e) => {
                    applyColorBlindSimulation(e.target.value);
                });
            }
        }

        // Apply preset theme
        function applyPreset(presetName) {
            if (presets[presetName]) {
                const preset = presets[presetName];
                currentTheme.metadata.name = preset.name;
                currentTheme.colors = { ...currentTheme.colors, ...preset.colors };
                
                elements.themeNameInput.value = preset.name;
                updateColorInputs();
                updatePreview();
                updateAccessibilityCheck();
                showNotification(`Applied ${preset.name} theme`);
            }
        }

        // Update color inputs
        function updateColorInputs() {
            Object.keys(currentTheme.colors).forEach(colorName => {
                const input = document.querySelector(`input[data-color="${colorName}"]`);
                const swatch = document.querySelector(`.color-swatch[data-color="${colorName}"]`);
                
                if (input) {
                    input.value = currentTheme.colors[colorName];
                }
                
                if (swatch) {
                    swatch.style.backgroundColor = currentTheme.colors[colorName];
                }
            });
        }

        // Update color swatch
        function updateColorSwatch(colorName, colorValue) {
            const swatch = document.querySelector(`.color-swatch[data-color="${colorName}"]`);
            if (swatch) {
                swatch.style.backgroundColor = colorValue;
            }
        }

        // Update preview
        function updatePreview() {
            const preview = elements.obsPreview;
            const colors = currentTheme.colors;
            const typography = currentTheme.typography;
            const layout = currentTheme.layout;
            
            // Apply colors
            const titlebar = preview.querySelector('.obs-titlebar');
            const menu = preview.querySelector('.obs-menu');
            const sidebar = preview.querySelector('.obs-sidebar');
            const controls = preview.querySelector('.obs-controls');
            
            if (titlebar) {
                titlebar.style.backgroundColor = colors.surface;
                titlebar.style.color = colors.text;
                titlebar.style.borderColor = colors.border;
            }
            
            if (menu) {
                menu.style.backgroundColor = colors.surface;
                menu.style.color = colors.text;
                menu.style.borderColor = colors.border;
            }
            
            if (sidebar) {
                sidebar.style.backgroundColor = colors.background;
                sidebar.style.borderColor = colors.border;
            }
            
            if (controls) {
                controls.style.backgroundColor = colors.surface;
                controls.style.borderColor = colors.border;
            }
            
            // Apply control button colors
            const recordBtn = preview.querySelector('.obs-control-btn.record');
            const streamBtn = preview.querySelector('.obs-control-btn.stream');
            const vcamBtn = preview.querySelector('.obs-control-btn.vcam');
            const replayBtn = preview.querySelector('.obs-control-btn.replay');
            
            if (recordBtn) recordBtn.style.backgroundColor = colors.record;
            if (streamBtn) streamBtn.style.backgroundColor = colors.stream;
            if (vcamBtn) vcamBtn.style.backgroundColor = colors.vcam;
            if (replayBtn) replayBtn.style.backgroundColor = colors.replay;
            
            // Apply text colors
            preview.querySelectorAll('.obs-panel-title, .obs-list-item').forEach(el => {
                el.style.color = colors.text;
            });
            
            // Apply typography
            preview.style.fontFamily = typography.fontFamily;
            preview.style.fontSize = typography.fontSizes.base + 'px';
            
            // Apply spacing and border radius
            preview.style.borderRadius = layout.borderRadius.large + 'px';
        }

        // Update theme from range input
        function updateThemeFromRange(rangeId, value) {
            switch (rangeId) {
                case 'fontSizeSmall':
                    currentTheme.typography.fontSizes.small = value;
                    break;
                case 'fontSizeBase':
                    currentTheme.typography.fontSizes.base = value;
                    break;
                case 'fontSizeLarge':
                    currentTheme.typography.fontSizes.large = value;
                    break;
                case 'spacingXS':
                    currentTheme.layout.spacing.xs = value;
                    break;
                case 'spacingSM':
                    currentTheme.layout.spacing.sm = value;
                    break;
                case 'spacingMD':
                    currentTheme.layout.spacing.md = value;
                    break;
                case 'spacingLG':
                    currentTheme.layout.spacing.lg = value;
                    break;
                case 'radiusSmall':
                    currentTheme.layout.borderRadius.small = value;
                    break;
                case 'radiusBase':
                    currentTheme.layout.borderRadius.base = value;
                    break;
                case 'radiusLarge':
                    currentTheme.layout.borderRadius.large = value;
                    break;
                case 'transitionSpeed':
                    currentTheme.animations.transitionSpeed = value;
                    break;
            }
        }

        // Handle VSCode theme file
        function handleVSCodeFile(file) {
            if (file && file.type === 'application/json') {
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const vscodeTheme = JSON.parse(e.target.result);
                        convertVSCodeTheme(vscodeTheme);
                        showNotification('VSCode theme imported successfully');
                    } catch (error) {
                        showNotification('Invalid theme file', 'error');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Convert VSCode theme to OBS theme
        function convertVSCodeTheme(vscodeTheme) {
            const mapping = {
                'editor.background': 'background',
                'editor.foreground': 'text',
                'activityBar.background': 'surface',
                'input.border': 'border'
            };
            
            if (vscodeTheme.colors) {
                Object.keys(mapping).forEach(vscodeKey => {
                    if (vscodeTheme.colors[vscodeKey]) {
                        const obsKey = mapping[vscodeKey];
                        currentTheme.colors[obsKey] = vscodeTheme.colors[vscodeKey];
                    }
                });
            }
            
            if (vscodeTheme.name) {
                currentTheme.metadata.name = vscodeTheme.name;
                elements.themeNameInput.value = vscodeTheme.name;
            }
            
            updateColorInputs();
            updatePreview();
            updateAccessibilityCheck();
        }

        // Handle icon files
        function handleIconFiles(files) {
            Array.from(files).forEach(file => {
                if (file.type === 'image/svg+xml') {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const iconName = file.name.replace('.svg', '');
                        currentTheme.icons.customIcons[iconName] = e.target.result;
                        showNotification(`Icon '${iconName}' added`);
                    };
                    reader.readAsText(file);
                }
            });
        }

        // Update accessibility check
        function updateAccessibilityCheck() {
            const bgColor = currentTheme.colors.background;
            const textColor = currentTheme.colors.text;
            const ratio = calculateContrastRatio(bgColor, textColor);
            
            const ratioElement = document.getElementById('contrastRatio');
            const complianceElement = document.getElementById('wcagCompliance');
            const checkElement = document.getElementById('accessibilityCheck');
            
            ratioElement.textContent = ratio.toFixed(2) + ':1';
            
            if (ratio >= 7.0) {
                complianceElement.textContent = 'WCAG AAA Compliant ‚úì';
                checkElement.className = 'accessibility-check pass';
            } else if (ratio >= 4.5) {
                complianceElement.textContent = 'WCAG AA Compliant ‚úì';
                checkElement.className = 'accessibility-check pass';
            } else {
                complianceElement.textContent = 'Below WCAG Standards ‚ö†';
                checkElement.className = 'accessibility-check fail';
            }
        }

        // Generate color harmony suggestions
        function generateColorHarmony() {
            const primaryColor = currentTheme.colors.background;
            const suggestions = generateColorHarmonyColors(primaryColor);
            const container = document.getElementById('harmonySuggestions');
            
            container.innerHTML = '';
            suggestions.forEach(color => {
                const div = document.createElement('div');
                div.className = 'harmony-color';
                div.style.backgroundColor = color;
                div.title = color;
                div.addEventListener('click', () => {
                    // Apply to a random accent color
                    const accentKeys = ['record', 'stream', 'vcam', 'replay'];
                    const randomKey = accentKeys[Math.floor(Math.random() * accentKeys.length)];
                    currentTheme.colors[randomKey] = color;
                    updateColorInputs();
                    updatePreview();
                });
                container.appendChild(div);
            });
        }

        // New: use chroma.js to make more advanced harmonies
        function generateColorHarmonyColors(baseColor) {
            try {
                if (window.chroma) {
                    const c = chroma(baseColor);
                    // generate complementary, analogous, triadic, and split-complement
                    const harmonies = [
                        c.hex(),
                        c.set('hsl.h', (c.get('hsl.h') + 30) % 360).hex(),
                        c.set('hsl.h', (c.get('hsl.h') + 60) % 360).hex(),
                        chroma.mix(c, 'white', 0.15).hex(),
                        chroma(c).set('hsl.h', (c.get('hsl.h') + 180) % 360).hex()
                    ];
                    return harmonies;
                }
            } catch (e) {
                console.warn('chroma harmony failed', e);
            }
            // fallback
            return [baseColor, '#ffffff', '#000000', '#888888'];
        }

        // Apply color blindness simulation by toggling CSS filters on the preview area
        function applyColorBlindSimulation(mode) {
            const preview = document.getElementById('obsPreview');
            if (!preview) return;
            switch (mode) {
                case 'protanopia':
                    preview.style.filter = 'url(#protanopia)';
                    break;
                case 'deuteranopia':
                    preview.style.filter = 'url(#deuteranopia)';
                    break;
                case 'tritanopia':
                    preview.style.filter = 'url(#tritanopia)';
                    break;
                default:
                    preview.style.filter = '';
            }
        }

        // Toggle dark mode
        function toggleDarkMode() {
            const currentScheme = document.documentElement.dataset.colorScheme;
            const newScheme = currentScheme === 'dark' ? 'light' : 'dark';
            document.documentElement.dataset.colorScheme = newScheme;
        }

        // Reset theme
        function resetTheme() {
            currentTheme.colors = {
                background: '#1e1e1e',
                surface: '#2d2d30',
                text: '#ffffff',
                border: '#3e3e42',
                record: '#b91c1c',
                stream: '#7c3aed',
                vcam: '#059669',
                replay: '#d97706'
            };
            
            updateColorInputs();
            updatePreview();
            updateAccessibilityCheck();
            showNotification('Theme reset to defaults');
        }

        // Randomize colors
        function randomizeColors() {
            const accentKeys = ['record', 'stream', 'vcam', 'replay'];
            accentKeys.forEach(key => {
                currentTheme.colors[key] = generateRandomColor();
            });
            
            updateColorInputs();
            updatePreview();
            updateAccessibilityCheck();
            showNotification('Colors randomized');
        }

        // Validate theme
        function validateTheme() {
            const issues = [];
            
            if (!currentTheme.metadata.name.trim()) {
                issues.push('Theme name is required');
            }
            
            const contrastRatio = calculateContrastRatio(currentTheme.colors.background, currentTheme.colors.text);
            if (contrastRatio < 4.5) {
                issues.push('Text contrast is too low');
            }
            
            if (issues.length > 0) {
                showNotification('Issues found: ' + issues.join(', '), 'error');
            } else {
                showNotification('Theme validation passed', 'success');
            }
            
            updateThemeValidation();
        }

        // Update theme validation status
        function updateThemeValidation() {
            const status = document.getElementById('themeStatus');
            const contrastRatio = calculateContrastRatio(currentTheme.colors.background, currentTheme.colors.text);
            
            if (currentTheme.metadata.name.trim() && contrastRatio >= 4.5) {
                status.className = 'status status--success';
                status.textContent = 'Theme Valid ‚úì';
            } else {
                status.className = 'status status--warning';
                status.textContent = 'Issues Detected';
            }
        }

        // Export theme
        function exportTheme(format) {
            let content, filename, mimeType;
            
            switch (format) {
                case 'ovt':
                    content = generateOVTTheme();
                    filename = `${currentTheme.metadata.name.replace(/\s+/g, '-')}.ovt`;
                    mimeType = 'text/plain';
                    break;
                case 'obt':
                    content = generateOBTTheme();
                    filename = `${currentTheme.metadata.name.replace(/\s+/g, '-')}.obt`;
                    mimeType = 'text/plain';
                    break;
                case 'css':
                    content = generateCSSVariables();
                    filename = `${currentTheme.metadata.name.replace(/\s+/g, '-')}.css`;
                    mimeType = 'text/css';
                    break;
                case 'package':
                    // For simplicity, export as JSON
                    content = JSON.stringify(currentTheme, null, 2);
                    filename = `${currentTheme.metadata.name.replace(/\s+/g, '-')}.json`;
                    mimeType = 'application/json';
                    break;
            }
            
            downloadFile(content, filename, mimeType);
            showNotification(`Exported ${filename}`);
        }

        // Generate OVT theme file
        function generateOVTTheme() {
            const { metadata, colors, typography, layout } = currentTheme;
            
            let ovt = `@OBSThemeMeta {
`;
            ovt += `    name: '${metadata.name}';
`;
            ovt += `    id: '${metadata.id}';
`;
            ovt += `    extends: '${metadata.extends}';
`;
            ovt += `    author: '${metadata.author || 'Unknown'}';
`;
            ovt += `    dark: '${metadata.dark}';
`;
            ovt += `}

`;
            
            ovt += `@OBSThemeVars {
`;
            Object.keys(colors).forEach(key => {
                ovt += `    --obs-${key}: ${colors[key]};
`;
            });
            ovt += `    --obs-font-family: '${typography.fontFamily}';
`;
            ovt += `    --obs-font-size: ${typography.fontSizes.base}px;
`;
            ovt += `    --obs-border-radius: ${layout.borderRadius.base}px;
`;
            ovt += `}

`;
            
            ovt += `/* Custom theme styles */
`;
            ovt += `QMainWindow {
`;
            ovt += `    background-color: var(--obs-background);
`;
            ovt += `    color: var(--obs-text);
`;
            ovt += `}

`;
            
            ovt += `QPushButton {
`;
            ovt += `    background-color: var(--obs-surface);
`;
            ovt += `    color: var(--obs-text);
`;
            ovt += `    border: 1px solid var(--obs-border);
`;
            ovt += `    border-radius: var(--obs-border-radius);
`;
            ovt += `    padding: 8px 16px;
`;
            ovt += `}
`;
            
            return ovt;
        }

        // Generate OBT theme file
        function generateOBTTheme() {
            return generateOVTTheme(); // Similar structure for now
        }

        // Generate CSS variables
        function generateCSSVariables() {
            const { colors, typography, layout } = currentTheme;
            
            let css = `:root {
`;
            css += `  /* Theme Colors */
`;
            Object.keys(colors).forEach(key => {
                css += `  --theme-${key}: ${colors[key]};
`;
            });
            
            css += `
  /* Typography */
`;
            css += `  --theme-font-family: '${typography.fontFamily}';
`;
            css += `  --theme-font-size-small: ${typography.fontSizes.small}px;
`;
            css += `  --theme-font-size-base: ${typography.fontSizes.base}px;
`;
            css += `  --theme-font-size-large: ${typography.fontSizes.large}px;
`;
            
            css += `
  /* Layout */
`;
            Object.keys(layout.spacing).forEach(key => {
                css += `  --theme-spacing-${key}: ${layout.spacing[key]}px;
`;
            });
            Object.keys(layout.borderRadius).forEach(key => {
                css += `  --theme-radius-${key}: ${layout.borderRadius[key]}px;
`;
            });
            
            css += `}
`;
            
            return css;
        }

        // Utility functions
        function isValidColor(color) {
            return /^#([0-9A-F]{3}){1,2}$/i.test(color) || /^rgb\(/.test(color) || /^hsl\(/.test(color);
        }

        function rgbToHex(rgb) {
            const result = rgb.match(/\d+/g);
            if (result && result.length >= 3) {
                const [r, g, b] = result.map(num => {
                    const hex = parseInt(num).toString(16);
                    return hex.length === 1 ? '0' + hex : hex;
                });
                return `#${r}${g}${b}`;
            }
            return '#000000';
        }

        function calculateContrastRatio(color1, color2) {
            // Use chroma.js contrast if available (more robust), otherwise fallback
            try {
                if (window.chroma && typeof chroma.contrast === 'function') {
                    return chroma.contrast(color1, color2);
                }
            } catch (e) {
                console.warn('chroma contrast failed', e);
            }

            const getLuminance = (hex) => {
                const rgb = hex.replace('#', '').match(/.{2}/g).map(h => parseInt(h, 16) / 255);
                const [r, g, b] = rgb.map(c => c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4));
                return 0.2126 * r + 0.7152 * g + 0.0722 * b;
            };
            
            const lum1 = getLuminance(color1);
            const lum2 = getLuminance(color2);
            const brightest = Math.max(lum1, lum2);
            const darkest = Math.min(lum1, lum2);
            
            return (brightest + 0.05) / (darkest + 0.05);
        }

        function generateColorHarmonyColors(baseColor) {
            // Simple color harmony generation
            const hsl = hexToHsl(baseColor);
            const harmonies = [
                hslToHex((hsl.h + 30) % 360, hsl.s, hsl.l),
                hslToHex((hsl.h + 60) % 360, hsl.s, hsl.l),
                hslToHex((hsl.h + 120) % 360, hsl.s, hsl.l),
                hslToHex((hsl.h + 180) % 360, hsl.s, hsl.l)
            ];
            
            return harmonies;
        }

        function hexToHsl(hex) {
            const r = parseInt(hex.slice(1, 3), 16) / 255;
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToHex(h, s, l) {
            h = h % 360;
            s = s / 100;
            l = l / 100;
            
            const c = (1 - Math.abs(2 * l - 1)) * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = l - c / 2;
            let r, g, b;
            
            if (h < 60) {
                r = c; g = x; b = 0;
            } else if (h < 120) {
                r = x; g = c; b = 0;
            } else if (h < 180) {
                r = 0; g = c; b = x;
            } else if (h < 240) {
                r = 0; g = x; b = c;
            } else if (h < 300) {
                r = x; g = 0; b = c;
            } else {
                r = c; g = 0; b = x;
            }
            
            const toHex = (val) => {
                const hex = Math.round((val + m) * 255).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };
            
            return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
        }

        function generateRandomColor() {
            return '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
        }

        function downloadFile(content, filename, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 24px;
                background: var(--color-surface);
                border: 1px solid var(--color-border);
                border-radius: 8px;
                box-shadow: var(--shadow-lg);
                z-index: 1000;
                transition: all 0.3s ease;
            `;
            
            if (type === 'success') {
                notification.style.borderColor = 'var(--color-success)';
                notification.style.color = 'var(--color-success)';
            } else if (type === 'error') {
                notification.style.borderColor = 'var(--color-error)';
                notification.style.color = 'var(--color-error)';
            }
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
</file>

<file path="server/requirements.txt">
Flask==2.3.3
flask-cors==4.0.0
Werkzeug==2.3.7
flask-limiter==3.5.0
google-generativeai==0.7.1
pydantic==2.7.4
</file>

<file path="server/script.py">
# Let's create a comprehensive OBS theme creator with VSCode theme support and enhanced features
import json
import re

# First, let's extract and analyze your original theme converter structure
original_theme_structure = {
    "metadata": {
        "name": "My Custom Theme",
        "id": "com.obsproject.MyCustomTheme",
        "extends": "",
        "author": "Your Name", 
        "version": "31.0.0",
        "dark": "true",
        "description": "A custom theme created with the OBS Theme Creator."
    },
    "colors": {
        "UI.Background": "#24273a",
        "UI.Text": "#cad3f5",
        "UI.Border": "#494d64",
        "Button.Background": "#363a4f",
        "Button.Text": "#cad3f5",
        "Header.Background": "#1e2030",
        "Accent.Color": "#8aadf4"
    },
    "icons": {
        "style": "colorful"
    },
    "sizes": {
        "Font.Size": 14,
        "Padding.Small": 4,
        "Border.Radius": 4,
        "Button.Height": 30
    }
}

print("üìä Analyzing Original Theme Structure")
print("="*50)
print(f"Original theme has {len(original_theme_structure['colors'])} color properties")
print(f"Original theme has {len(original_theme_structure['sizes'])} size properties")
print(f"Icon style: {original_theme_structure['icons']['style']}")

# Enhanced color mapping for better OBS integration
enhanced_color_mapping = {
    # Core UI Colors
    "background_primary": "UI.Background",
    "background_secondary": "Header.Background", 
    "background_tertiary": "Button.Background",
    "text_primary": "UI.Text",
    "text_secondary": "Button.Text",
    "border_primary": "UI.Border",
    "accent_primary": "Accent.Color",
    
    # Extended UI Colors for better theme coverage
    "background_input": "Input.Background",
    "background_menu": "Menu.Background",
    "background_tooltip": "Tooltip.Background",
    "background_dialog": "Dialog.Background",
    "background_list": "List.Background",
    "background_tab": "Tab.Background",
    "background_scrollbar": "Scrollbar.Background",
    "background_statusbar": "StatusBar.Background",
    
    # Interactive States
    "hover_background": "Button.Hover.Background",
    "active_background": "Button.Active.Background",
    "selected_background": "List.Selected.Background",
    "focus_border": "Input.Border",
    
    # Text Colors
    "text_disabled": "UI.Text.Disabled",
    "text_placeholder": "UI.Text.Placeholder", 
    "text_link": "UI.Text.Link",
    
    # Status Colors
    "success_color": "Status.Success",
    "warning_color": "Status.Warning",
    "error_color": "Status.Error",
    "info_color": "Status.Info",
    
    # OBS Specific Colors
    "record_color": "OBS.Record",
    "stream_color": "OBS.Stream",
    "vcam_color": "OBS.VirtualCamera",
    "replay_color": "OBS.ReplayBuffer",
    
    # Volume Meter Colors
    "volume_nominal": "Volume.Nominal",
    "volume_warning": "Volume.Warning", 
    "volume_error": "Volume.Error"
}

# Enhanced size mapping
enhanced_size_mapping = {
    # Typography
    "font_size_xs": "Font.Size.XS",
    "font_size_sm": "Font.Size.SM", 
    "font_size_base": "Font.Size",
    "font_size_lg": "Font.Size.LG",
    "font_size_xl": "Font.Size.XL",
    
    # Spacing
    "spacing_xs": "Spacing.XS",
    "spacing_sm": "Spacing.SM",
    "spacing_md": "Spacing.MD", 
    "spacing_lg": "Spacing.LG",
    "spacing_xl": "Spacing.XL",
    
    # Padding
    "padding_xs": "Padding.XS",
    "padding_sm": "Padding.Small",
    "padding_md": "Padding.Medium",
    "padding_lg": "Padding.Large",
    
    # Border Radius
    "border_radius_sm": "Border.Radius.Small",
    "border_radius_base": "Border.Radius",
    "border_radius_lg": "Border.Radius.Large",
    "border_radius_xl": "Border.Radius.XL",
    
    # Component Heights
    "button_height_sm": "Button.Height.Small",
    "button_height_base": "Button.Height",
    "button_height_lg": "Button.Height.Large",
    "input_height": "Input.Height",
    "header_height": "Header.Height",
    "toolbar_height": "Toolbar.Height",
    "tab_height": "Tab.Height",
    
    # Layout
    "sidebar_width": "Sidebar.Width",
    "panel_width": "Panel.Width",
    "scrollbar_width": "Scrollbar.Width"
}

print(f"\nüé® Enhanced Color Mapping: {len(enhanced_color_mapping)} properties")
print(f"üìè Enhanced Size Mapping: {len(enhanced_size_mapping)} properties") 

# Sample VSCode theme structure for conversion
vscode_theme_sample = {
    "name": "Sample VSCode Theme",
    "type": "dark",
    "colors": {
        "editor.background": "#1e1e2e",
        "editor.foreground": "#cdd6f4",
        "activityBar.background": "#181825",
        "statusBar.background": "#11111b",
        "sideBar.background": "#1e1e2e",
        "button.background": "#89b4fa",
        "input.background": "#313244",
        "list.activeSelectionBackground": "#585b70"
    },
    "tokenColors": [
        {
            "scope": ["comment"],
            "settings": {"foreground": "#6c7086", "fontStyle": "italic"}
        },
        {
            "scope": ["string"], 
            "settings": {"foreground": "#a6e3a1"}
        },
        {
            "scope": ["keyword"],
            "settings": {"foreground": "#cba6f7", "fontStyle": "bold"}
        }
    ]
}

print(f"\nüìã VSCode Theme Sample:")
print(f"  - {len(vscode_theme_sample['colors'])} UI colors")
print(f"  - {len(vscode_theme_sample['tokenColors'])} syntax scopes")

# Create comprehensive feature list for the new app
enhanced_features = {
    "theme_sources": [
        "VSCode themes (JSON import)",
        "Shiki themes (web scraping)",
        "Manual color picker",
        "Catppuccin variants",
        "Nord variants", 
        "Dracula variants",
        "Material variants",
        "Solarized variants"
    ],
    
    "customization_options": [
        "Complete color palette editor",
        "Size/spacing controls",
        "Icon style selection (SVG)",
        "Font family and weight",
        "Border radius controls", 
        "Animation timing",
        "Opacity controls",
        "Gradient support"
    ],
    
    "preview_features": [
        "Live OBS UI preview",
        "Interactive mockup",
        "Before/after comparison",
        "Mobile responsive preview",
        "Dark/light mode toggle",
        "Real-time color adjustment"
    ],
    
    "export_options": [
        ".ovt theme files",
        ".obt base themes", 
        "CSS variable files",
        "JSON theme data",
        "Installation script",
        "Theme package (.zip)"
    ],
    
    "advanced_features": [
        "SVG icon editor",
        "Custom icon upload",
        "Theme validation",
        "Accessibility checker",
        "Color contrast analyzer",
        "Theme marketplace",
        "Import from URL",
        "Version control"
    ]
}

for category, features in enhanced_features.items():
    print(f"\n{category.replace('_', ' ').title()}:")
    for feature in features:
        print(f"  ‚Ä¢ {feature}")
        
print(f"\nüìä Total Enhanced Features: {sum(len(features) for features in enhanced_features.values())}")
</file>

<file path="server/server.py">
#!/usr/bin/env python3
"""
Simple Flask server to serve the OBS Theme Creator front-end and expose
endpoints to list/download generated theme files and trigger regeneration
using the included Python scripts.

Endpoints:
  GET  /            -> serves index.html
  GET  /api/themes   -> list available .ovt/.obt/.json theme files
  GET  /api/themes/<name> -> download a theme file
  POST /api/generate -> run generation scripts (script_1.py, script_2.py, script_3.py)

Run:
  pip install -r requirements.txt
  python server.py

"""
from __future__ import annotations
from dataclasses import dataclass
import os
import re
import json
import logging
import subprocess
import sys
import threading
from functools import lru_cache, wraps
from time import time
from pathlib import Path
from typing import List

from flask import Flask, jsonify, send_from_directory, request
from flask_cors import CORS
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address
from werkzeug.datastructures import FileStorage

import logging.config
import google.generativeai as genai
from google.generativeai import types

LOGGING_CONFIG = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'standard': {
            'format': '%(asctime)s [%(levelname)s] %(name)s: %(message)s'
        },
    },
    'handlers': {
        'default': {
            'level': 'INFO',
            'formatter': 'standard',
            'class': 'logging.StreamHandler',
        },
        'file': {
            'level': 'ERROR',
            'formatter': 'standard',
            'class': 'logging.FileHandler',
            'filename': 'app_errors.log',
            'mode': 'a',
        },
    },
    'loggers': {
        '': {
            'handlers': ['default', 'file'],
            'level': 'INFO',
            'propagate': False
        }
    }
}

logging.config.dictConfig(LOGGING_CONFIG)
logger = logging.getLogger(__name__)

ROOT = Path(__file__).resolve().parent.parent
APP_DIR = Path(__file__).resolve().parent

@dataclass
class Config:
    HOST: str = os.getenv('HOST', '127.0.0.1')
    PORT: int = int(os.getenv('PORT', '5000'))
    DEBUG: bool = os.getenv('DEBUG', 'False').lower() == 'true'
    SECRET_KEY: str = os.getenv('SECRET_KEY') or os.urandom(32).hex()
    MAX_CONTENT_LENGTH: int = int(os.getenv('MAX_CONTENT_LENGTH', '1048576'))  # 1MB

    def __post_init__(self):
        if self.DEBUG and self.SECRET_KEY == 'dev-key-change-in-production':
            import warnings
            warnings.warn("Using default secret key in debug mode", UserWarning)

config = Config()

app = Flask(__name__, static_folder=str(APP_DIR), static_url_path="")
app.config.from_object(config)
CORS(app)

limiter = Limiter(
    get_remote_address,
    app=app,
    default_limits=["200 per day", "50 per hour"]
)

import asyncio
from concurrent.futures import ThreadPoolExecutor

# Create thread pool for I/O operations
io_executor = ThreadPoolExecutor(max_workers=4, thread_name_prefix="file_io")

_file_cache_lock = threading.RLock()
_file_cache = {}
_cache_timestamp = 0
CACHE_DURATION = 30

async def find_theme_files_async() -> List[dict]:
    """Async file scanning to prevent blocking."""
    loop = asyncio.get_event_loop()

    def scan_files():
        results = []
        theme_extensions = {'.ovt', '.obt', '.json'}

        try:
            for file_path in ROOT.iterdir():
                if (file_path.is_file() and
                     file_path.suffix.lower() in theme_extensions):
                    try:
                        stat_result = file_path.stat()
                        results.append({
                            "name": file_path.name,
                            "path": str(file_path.relative_to(ROOT)),
                            "size": stat_result.st_size,
                            "modified": stat_result.st_mtime,
                        })
                    except OSError:
                        continue
        except OSError:
            return []

        return sorted(results, key=lambda r: r["name"])

    return await loop.run_in_executor(io_executor, scan_files)

# For Flask compatibility, provide sync wrapper
def find_theme_files() -> List[dict]:
    """Sync wrapper for async file scanning."""
    global _file_cache, _cache_timestamp
    current_time = time()
    with _file_cache_lock:
        if current_time - _cache_timestamp < CACHE_DURATION and _file_cache:
            return _file_cache.copy()
        try:
            loop = asyncio.new_event_loop()
            asyncio.set_event_loop(loop)
            results = loop.run_until_complete(find_theme_files_async())
            _file_cache = results
            _cache_timestamp = current_time
            return results.copy()
        finally:
            loop.close()


from validation import validate_theme_content, ValidationReport
from pydantic import ValidationError
from werkzeug.exceptions import BadRequest, NotFound, Forbidden
import traceback

def validate_filename(filename: str) -> bool:
    """Validate filename for security and format."""
    if not filename or len(filename) > 255:
        return False
    # Check for path traversal attempts
    if '..' in filename or '/' in filename or '\\' in filename:
        return False
    # Check for valid extensions
    allowed_extensions = {'.ovt', '.obt', '.json'}
    return any(filename.lower().endswith(ext) for ext in allowed_extensions)

from werkzeug.exceptions import BadRequest, NotFound, Forbidden
import traceback

class ThemeError(Exception):
    """Base exception for theme-related errors."""
    pass

class ValidationError(ThemeError):
    """Raised when theme validation fails."""
    pass

class SecurityError(ThemeError):
    """Raised when security checks fail."""
    pass

def handle_errors(f):
    """Enhanced error handler with specific exception handling."""
    @wraps(f)
    def wrapper(*args, **kwargs):
        try:
            return f(*args, **kwargs)
        except ValidationError as e:
            logger.warning(f"Validation error in {f.__name__}: {str(e)}")
            return jsonify({"error": "Validation failed", "details": str(e)}), 400
        except SecurityError as e:
            logger.error(f"Security error in {f.__name__}: {str(e)}")
            return jsonify({"error": "Access denied"}), 403
        except FileNotFoundError as e:
            logger.info(f"File not found in {f.__name__}: {str(e)}")
            return jsonify({"error": "File not found"}), 404
        except PermissionError as e:
            logger.warning(f"Permission error in {f.__name__}: {str(e)}")
            return jsonify({"error": "Permission denied"}), 403
        except (OSError, IOError) as e:
            logger.error(f"I/O error in {f.__name__}: {str(e)}")
            return jsonify({"error": "File system error"}), 500
        except Exception as e:
            logger.error(f"Unexpected error in {f.__name__}: {str(e)}", exc_info=True)
            # In development, include traceback
            if app.config.get('DEBUG'):
                return jsonify({
                    "error": "Internal server error",
                    "details": str(e),
                    "traceback": traceback.format_exc()
                }), 500
            return jsonify({"error": "Internal server error"}), 500
    return wrapper

@app.route("/")
@handle_errors
def index():
    # Serve the static index.html from the app directory
    return send_from_directory(str(APP_DIR), "index.html")

@app.route("/api/themes", methods=["GET"])
@handle_errors
def api_themes():
    logger.info("Fetching theme files list")
    return jsonify({"themes": find_theme_files()})


@app.route("/api/themes/<path:filename>", methods=["GET"])
@handle_errors
def api_theme_download(filename: str):
    if not validate_filename(filename):
        return jsonify({"error": "Invalid filename"}), 400
    try:
        # Sanitize filename first
        filename = os.path.basename(filename)  # Remove any path components
        secure_path = Path(ROOT).joinpath(filename).resolve()
        root_resolved = ROOT.resolve()

        # More robust security check
        try:
            secure_path.relative_to(root_resolved)
        except ValueError:
            return jsonify({"error": "Access denied"}), 403

        # Additional extension whitelist check
        allowed_extensions = {'.ovt', '.obt', '.json'}
        if secure_path.suffix.lower() not in allowed_extensions:
            return jsonify({"error": "File type not allowed"}), 403

        if not secure_path.exists() or not secure_path.is_file():
            return jsonify({"error": "File not found"}), 404

        return send_from_directory(str(ROOT), filename, as_attachment=True)

    except (OSError, ValueError) as e:
        return jsonify({"error": "Invalid file path"}), 400


@app.route("/api/themes/<path:filename>", methods=["DELETE"])
@handle_errors
def api_theme_delete(filename: str):
    if not validate_filename(filename):
        return jsonify({"error": "Invalid filename"}), 400
    try:
        # Path validation code here (same as before)
        secure_path = Path(ROOT).joinpath(filename).resolve()
        root_resolved = ROOT.resolve()

        if not (secure_path == root_resolved or root_resolved in secure_path.parents):
            return jsonify({"error": "Access denied"}), 403

        # Attempt deletion directly, handle FileNotFoundError
        secure_path.unlink()
        return jsonify({"success": True, "message": f"Theme '{filename}' deleted."})

    except FileNotFoundError:
        return jsonify({"error": "File not found"}), 404
    except PermissionError:
        return jsonify({"error": "Permission denied"}), 403
    except OSError as e:
        return jsonify({"error": f"Error deleting file: {str(e)}"}), 500
    except (ValueError, TypeError):
        return jsonify({"error": "Invalid filename"}), 400


import bleach
from werkzeug.utils import secure_filename

def validate_theme_name(name: str) -> tuple[bool, str]:
    """Validate theme name for security and format compliance."""
    if not name or len(name.strip()) == 0:
        return False, "Name cannot be empty"

    if len(name) > 100:
        return False, "Name too long (max 100 characters)"

    # Check for valid characters
    if not re.match(r'^[a-zA-Z0-9_\-\s\.]+$', name):
        return False, "Name contains invalid characters"

    # Prevent reserved names
    reserved_names = {'con', 'prn', 'aux', 'nul', 'com1', 'com2', 'com3', 'com4', 'com5', 'com6', 'com7', 'com8', 'com9', 'lpt1', 'lpt2', 'lpt3', 'lpt4', 'lpt5', 'lpt6', 'lpt7', 'lpt8', 'lpt9'}
    if name.lower().split('.')[0] in reserved_names:
        return False, "Name cannot be a reserved system name"

    return True, "Valid"

@app.route("/api/themes/<path:filename>/duplicate", methods=["POST"])
@handle_errors
def api_theme_duplicate(filename: str):
    if not validate_filename(filename):
        return jsonify({"error": "Invalid filename"}), 400

    # Validate JSON input
    if not request.is_json:
        return jsonify({"error": "Content-Type must be application/json"}), 400

    data = request.get_json()
    if not data:
        return jsonify({"error": "Invalid JSON"}), 400

    new_name = data.get("new_name")
    if not new_name:
        return jsonify({"error": "Missing new_name"}), 400

    # Sanitize and validate new name
    new_name = bleach.clean(str(new_name).strip())
    valid, message = validate_theme_name(new_name)
    if not valid:
        return jsonify({"error": f"Invalid new_name: {message}"}), 400

    # Add proper extension if missing
    if not new_name.endswith(('.ovt', '.obt', '.json')):
        original_ext = Path(filename).suffix
        new_name += original_ext

    # Use secure_filename for additional safety
    safe_new_name = secure_filename(new_name)

    # Security: only allow files from the repository root
    secure_path = Path(ROOT).joinpath(filename).resolve()
    root_resolved = ROOT.resolve()
    if not (secure_path == root_resolved or root_resolved in secure_path.parents):
        return jsonify({"error": "Invalid filename"}), 403

    new_path = Path(ROOT).joinpath(safe_new_name).resolve()
    if not (new_path == root_resolved or root_resolved in new_path.parents):
        return jsonify({"error": "Invalid new_name"}), 403

    if new_path.exists():
        return jsonify({"error": "File with new_name already exists"}), 400

    import shutil
    shutil.copy(secure_path, new_path)
    return jsonify({"success": True, "message": f"Theme '{filename}' duplicated to '{safe_new_name}'."})


@app.route("/api/themes/<path:filename>/meta", methods=["GET", "POST"])
@handle_errors
def api_theme_meta(filename: str):
    if not validate_filename(filename):
        return jsonify({"error": "Invalid filename"}), 400
    # Security: only allow files from the repository root
    secure_path = Path(ROOT).joinpath(filename).resolve()
    if ROOT.resolve() not in secure_path.parents:
        return jsonify({"error": "Invalid filename"}), 400

    if not secure_path.exists():
        return jsonify({"error": "Not found"}), 404

    if request.method == "GET":
        try:
            text = secure_path.read_text(encoding='utf-8')
            report = validate_theme_content(text)
            return jsonify(report["meta"])
        except Exception as e:
            return jsonify({"error": f"Error reading theme: {e}"}), 500

    if request.method == "POST":
        new_meta = request.json.get("meta")
        if not new_meta:
            return jsonify({"error": "Missing meta"}), 400

        try:
            text = secure_path.read_text(encoding='utf-8')
            meta_block_re = re.compile(r"(@OBSThemeMeta\s*\{)([\s\S]*?)(\})")

            new_meta_content = "\n"
            for key, value in new_meta.items():
                new_meta_content += f"    {key}: {json.dumps(str(value))},\n"

            new_text, count = meta_block_re.sub(r"\1" + new_meta_content + r"\3", text, 1)

            if count == 0:
                return jsonify({"error": "Could not find @OBSThemeMeta block"}), 500

            secure_path.write_text(new_text, encoding='utf-8')
            return jsonify({"success": True, "message": "Theme metadata updated."})
        except Exception as e:
            return jsonify({"error": f"Error updating metadata: {e}"}), 500


@app.route("/api/convert", methods=["POST"])
@handle_errors
def api_convert():
    """Convert JSON to .ovt theme file."""
    if not request.is_json:
        return jsonify({"error": "Content-Type must be application/json"}), 400

    data = request.get_json()
    if not data or "json" not in data:
        return jsonify({"error": "Invalid JSON payload"}), 400

    try:
        json_data = json.loads(data["json"])
    except json.JSONDecodeError:
        return jsonify({"error": "Invalid JSON format"}), 400

    # Basic validation of the JSON structure
    if "meta" not in json_data or "vars" not in json_data:
        return jsonify({"error": "Missing 'meta' or 'vars' in JSON"}), 400

    # Convert to .ovt format
    ovt_content = "@OBSThemeMeta {\n"
    for key, value in json_data["meta"].items():
        ovt_content += f"    {key}: {json.dumps(str(value))};\n"
    ovt_content += "}\n\n"

    ovt_content += "@OBSThemeVars {\n"
    for key, value in json_data["vars"].items():
        ovt_content += f"    --{key}: {value};\n"
    ovt_content += "}\n"

    return jsonify({"ovt": ovt_content})


@app.route("/api/generate", methods=["POST"])
@limiter.limit("5 per minute")
@handle_errors
def api_generate():
    ALLOWED_SCRIPTS = {"script_1.py", "script_2.py", "script_3.py"}
    results = []

    for script_name in ALLOWED_SCRIPTS:
        script_path = ROOT / script_name

        # Ensure script exists and is a regular file
        if not script_path.exists() or not script_path.is_file():
            results.append({"script": script_name, "status": "missing"})
            continue

        # Additional security: verify script integrity/hash if needed
        try:
            script_path_resolved = script_path.resolve()
            if script_path_resolved.parent != ROOT.resolve():
                results.append({"script": script_name, "status": "security_error"})
                continue

            # Use absolute path and restrict environment
            proc = subprocess.run(
                [sys.executable, str(script_path_resolved)],
                cwd=str(ROOT.resolve()),
                capture_output=True,
                text=True,
                timeout=30,  # Reduced timeout
                shell=False,
                env={'PATH': '', 'PYTHONPATH': str(ROOT)}  # Restricted environment
            )

            results.append({
                "script": script_name,
                "returncode": proc.returncode,
                "stdout": proc.stdout[:2000] if proc.stdout else "",
                "stderr": proc.stderr[:2000] if proc.stderr else ""
            })
        except subprocess.TimeoutExpired:
            results.append({"script": script_name, "status": "timeout"})
        except Exception as e:
            results.append({"script": script_name, "status": "error", "error": str(e)[:500]})

    return jsonify({"results": results, "themes": find_theme_files()})


@app.route("/api/validate", methods=["GET"])
@handle_errors
def api_validate():
    """Validate all generated theme files and return a report."""
    themes = find_theme_files()
    reports = []
    id_map: dict = {}
    for t in themes:
        p = ROOT / t["path"]
        try:
            text = p.read_text(encoding='utf-8')
            report_model = validate_theme_content(text)
            reports.append({"name": t["name"], "report": report_model.dict()})
            mid = report_model.meta.id
            if mid:
                id_map.setdefault(mid, []).append(t["name"])
        except ValidationError as e:
            reports.append({"name": t["name"], "error": f"Validation model error: {e}"})
        except Exception as e:
            reports.append({"name": t["name"], "error": f"Could not read or validate file: {e}"})

    # detect duplicates
    duplicate_ids = []
    for mid, files in id_map.items():
        if len(files) > 1:
            duplicate_ids.append({"id": mid, "files": files})
            for r in reports:
                if r["name"] in files and "report" in r:
                    r["report"]["warnings"].append(
                        {"code": "DUPLICATE_THEME_ID", "message": f"Theme id {mid} used by multiple files"}
                    )

    return jsonify({"validations": reports, "duplicate_ids": duplicate_ids})


@app.route("/health")
def health_check():
    """Comprehensive health check endpoint."""
    checks = {
        "status": "healthy",
        "timestamp": time(),
        "version": "1.0.0",
        "dependencies": {}
    }

    # Check file system access
    try:
        ROOT.stat()
        checks["dependencies"]["filesystem"] = "ok"
    except OSError:
        checks["dependencies"]["filesystem"] = "error"
        checks["status"] = "unhealthy"

    # Check Python scripts existence
    for script in ["script_1.py", "script_2.py", "script_3.py"]:
        script_path = ROOT / script
        checks["dependencies"][script] = "ok" if script_path.exists() else "missing"

    status_code = 200 if checks["status"] == "healthy" else 503
    return jsonify(checks), status_code

@app.route("/api/search", methods=["POST"])
@handle_errors
def api_search():
    """Performs a semantic search on the uploaded theme files."""
    if not os.environ.get("GEMINI_API_KEY"):
        logger.warning("GEMINI_API_KEY not set. Search functionality is disabled.")
        return jsonify({"error": "Search is not configured"}), 501

    if not request.is_json:
        return jsonify({"error": "Content-Type must be application/json"}), 400

    data = request.get_json()
    query = data.get("query")
    if not query:
        return jsonify({"error": "Missing query"}), 400

    store_name_file = APP_DIR / "file_search_store.txt"
    if not store_name_file.exists():
        return jsonify({"error": "File search store not found"}), 500

    store_name = store_name_file.read_text().strip()

    try:
        response = genai.models.generate_content(
            model="gemini-1.5-flash",
            contents=query,
            config=types.GenerateContentConfig(
                tools=[
                    types.Tool(
                        file_search=types.FileSearch(
                            file_search_store_names=[store_name],
                        )
                    )
                ]
            )
        )
        return jsonify({"response": response.text})
    except Exception as e:
        logger.error(f"Error during file search: {e}")
        return jsonify({"error": "Failed to perform search"}), 500


@app.after_request
def add_security_headers(response):
    """Add security headers to all responses."""
    response.headers['X-Content-Type-Options'] = 'nosniff'
    response.headers['X-Frame-Options'] = 'DENY'
    response.headers['X-XSS-Protection'] = '1; mode=block'
    response.headers['Content-Security-Policy'] = "default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'"
    response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'
    return response


@app.before_request
def limit_remote_addr():
    """Basic rate limiting by IP."""
    # This could be enhanced with Redis for distributed deployments
    pass


def run_upload_script():
    """Runs the theme upload script in a separate process."""
    try:
        subprocess.run(
            [sys.executable, str(APP_DIR / "upload_themes.py")],
            check=True,
            capture_output=True,
            text=True,
        )
        logger.info("Theme upload script completed successfully.")
    except subprocess.CalledProcessError as e:
        logger.error(f"Theme upload script failed: {e.stderr}")

if __name__ == "__main__":
    if os.environ.get("GEMINI_API_KEY"):
        genai.configure(api_key=os.environ["GEMINI_API_KEY"])
        # Run the upload script synchronously to ensure the search store is ready.
        run_upload_script()
    else:
        logger.warning("GEMINI_API_KEY not set. Search functionality will be disabled.")

    app.run(host=config.HOST, port=config.PORT, debug=config.DEBUG)
</file>

<file path="server/test_validation.py">
import unittest
from validation import validate_theme_content

class TestThemeValidation(unittest.TestCase):

    def test_invalid_theme_with_hyphen(self):
        """Test that a theme with a hyphen in a variable name fails validation."""
        invalid_content = """
@OBSThemeMeta {
    id: "com.obsproject.Yami.Invalid-Theme";
    name: "Invalid Theme";
    dark: "true";
}
@OBSThemeVars {
    --invalid-variable: "#FF0000";
}
        """
        report = validate_theme_content(invalid_content)
        self.assertGreater(report.summary.errors, 0, "Should have errors")
        self.assertTrue(
            any("Could not parse line" in e.message for e in report.errors),
            "Should have a parse error for the invalid variable"
        )

    def test_valid_theme(self):
        """Test that a valid theme passes validation."""
        valid_content = """
@OBSThemeMeta {
    id: "com.obsproject.Yami.Valid-Theme";
    name: "Valid Theme";
    dark: "true";
}
@OBSThemeVars {
    --valid_variable: "#00FF00";
}
        """
        report = validate_theme_content(valid_content)
        self.assertEqual(report.summary.errors, 0, "Should have no errors")

    def test_invalid_variable_reference(self):
        """Test that a theme with a hyphen in a variable reference fails validation."""
        invalid_content = """
@OBSThemeMeta {
    id: "com.obsproject.Yami.Invalid-Reference";
    name: "Invalid Reference";
    dark: "true";
}
@OBSThemeVars {
    --valid_variable: var(--invalid-reference);
}
        """
        report = validate_theme_content(invalid_content)
        self.assertGreater(report.summary.errors, 0, "Should have errors")
        self.assertTrue(
            any("contains invalid characters" in e.message for e in report.errors),
            "Should have a parse error for the invalid variable reference"
        )


if __name__ == '__main__':
    unittest.main()
</file>

<file path="server/upload_themes.py">
import google.generativeai as genai
from google.generativeai import types
import os
import time
from pathlib import Path

# Configure the client
genai.configure(api_key=os.environ["GEMINI_API_KEY"])

def get_or_create_file_search_store():
    """Gets or creates a file search store."""
    store_name_file = Path(__file__).resolve().parent / "file_search_store.txt"
    if store_name_file.exists():
        store_name = store_name_file.read_text().strip()
        try:
            return genai.file_search_stores.get(name=store_name)
        except Exception:
            pass  # If it fails, create a new one

    for store in genai.file_search_stores.list():
        if store.display_name == 'obs-styla-themes':
            store_name_file.write_text(store.name)
            return store

    store = genai.file_search_stores.create(
        config={'display_name': 'obs-styla-themes'}
    )
    store_name_file.write_text(store.name)
    return store


def upload_themes():
    """Uploads all theme files to a File Search store."""
    file_search_store = get_or_create_file_search_store()

    # Upload and import files
    for file_path in Path(".").glob("*.*"):
        if file_path.suffix in [".ovt", ".obt", ".json"]:
            print(f"Uploading {file_path.name}...") # Consider replacing with logging.info()
            operation = genai.file_search_stores.upload_to_file_search_store(
                file=str(file_path),
                file_search_store_name=file_search_store.name,
                config={'display_name': file_path.name}
            )
            while not operation.done:
                time.sleep(5)
                operation = genai.operations.get(operation)

    print("All theme files have been uploaded.")

if __name__ == "__main__":
    upload_themes()
</file>

<file path="server/validate_cli.py">
#!/usr/bin/env python3
import json
from pathlib import Path
import sys

# Ensure the project root is on sys.path so `from app.server import ...` works
# even when this script is executed from another process or a different cwd.
ROOT = Path(__file__).resolve().parent.parent
sys.path.insert(0, str(ROOT))

from app.server import find_theme_files, validate_theme_content

def main():
    reports = []
    for t in find_theme_files():
        p = ROOT / t['path']
        try:
            text = p.read_text(encoding='utf-8')
        except Exception as e:
            reports.append({'name': t['name'], 'error': str(e)})
            continue
        rep = validate_theme_content(text)
        reports.append({'name': t['name'], 'report': rep.model_dump()})
    print(json.dumps({'validations': reports}))

if __name__ == '__main__':
    main()
</file>

<file path="server/validation.py">
from pydantic import BaseModel, Field
from typing import List, Dict, Optional, Union
import re

class Meta(BaseModel):
    id: str
    name: str
    dark: bool
    extends: Optional[str] = None

class Var(BaseModel):
    name: str
    value: str
    line: int
    looks_like_color: bool
    color_valid: Optional[bool] = None

class Error(BaseModel):
    code: str
    message: str
    line: Optional[int] = None
    value: Optional[str] = None
    field: Optional[str] = None
    ref: Optional[str] = None

class Warning(BaseModel):
    code: str
    message: str
    line: Optional[int] = None
    first_line: Optional[int] = None
    name: Optional[str] = None
    ref: Optional[str] = None
    var: Optional[str] = None

class Summary(BaseModel):
    errors: int
    warnings: int
    vars_count: int

class ValidationReport(BaseModel):
    meta: Meta
    vars: List[Var]
    errors: List[Error]
    warnings: List[Warning]
    summary: Summary

# More precise regex patterns
HEX_RE = re.compile(r"^#(?:[0-9A-Fa-f]{3}){1,2}(?:[0-9A-Fa-f]{2})?$")
RGB_RE = re.compile(r"^rgba?\(\s*(\d+(?:\.\d+)?%?)\s*,\s*(\d+(?:\.\d+)?%?)\s*,\s*(\d+(?:\.\d+)?%?)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$", re.I)
HSL_RE = re.compile(r"^hsla?\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$", re.I)
VAR_REF_RE = re.compile(r"var\(--([a-zA-Z0-9_-]+)(?:,\s*([^)]+))?\)")
ID_RE = re.compile(
    r"^[a-z0-9](?:[a-z0-9._-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9._-]*[a-z0-9])?)+$",
    re.IGNORECASE
)


def validate_color_value(value: str) -> tuple[bool, str]:
    """Optimized color validation with specific format checking."""
    if not value:
        return False, "Empty color value"

    value = value.strip()

    # Check hex colors
    if value.startswith('#'):
        if HEX_RE.match(value):
            return True, "valid_hex"
        return False, "invalid_hex_format"

    # Check RGB/RGBA
    if value.lower().startswith(('rgb(', 'rgba(')):
        if RGB_RE.match(value):
            return True, "valid_rgb"
        return False, "invalid_rgb_format"

    # Check HSL/HSLA
    if value.lower().startswith(('hsl(', 'hsla(')):
        if HSL_RE.match(value):
            return True, "valid_hsl"
        return False, "invalid_hsl_format"

    return False, "unknown_color_format"
REQUIRED_VARS = [
    "base",
    "mantle",
    "crust",
    "surface0",
    "surface1",
    "surface2",
    "overlay0",
    "overlay1",
    "overlay2",
    "text",
    "subtext0",
    "subtext1",
]


MAX_VARIABLES = 1000
MAX_VALUE_LENGTH = 1000


def _process_variable(name, value, line_no, declared, report):
    """Helper to process a parsed variable with memory limits."""
    # Prevent memory exhaustion attacks
    if len(report.get("vars", [])) >= MAX_VARIABLES:
        report["errors"].append({
            "code": "TOO_MANY_VARIABLES",
            "message": f"Maximum number of variables ({MAX_VARIABLES}) exceeded",
            "line": line_no
        })
        return

    # Limit value length
    if value is None:
        value = ""
    elif not isinstance(value, str):
        value = str(value)

    if len(value) > MAX_VALUE_LENGTH:
        value = value[:MAX_VALUE_LENGTH] + "..."
        report["warnings"].append({
            "code": "VALUE_TRUNCATED",
            "message": f"Variable {name} value truncated to {MAX_VALUE_LENGTH} characters",
            "line": line_no
        })

    entry = {"name": name, "value": value, "line": line_no}

    # Detect and validate color-like values
    looks_like_color = (value.startswith("#") or
                        value.lower().startswith(("rgb", "hsl"))) if value else False
    entry["looks_like_color"] = looks_like_color

    if looks_like_color and value:
        valid_color, reason = validate_color_value(value)
        entry["color_valid"] = valid_color
        if not valid_color:
            report["errors"].append({
                "code": "VAR_COLOR_INVALID",
                "message": f"Variable {name} contains invalid color value: {value} ({reason})",
                "line": line_no,
                "value": value,
            })

    report["vars"].append(entry)

    # Check for duplicates
    if name in declared:
        report["warnings"].append(
            {
                "code": "VAR_DUPLICATE",
                "message": f"Duplicate variable declaration: {name}",
                "first_line": declared[name],
                "line": line_no,
                "name": name,
            }
        )
    declared[name] = line_no


def validate_theme_content(text: str) -> ValidationReport:
    """Full validation pipeline for OBS theme files."""
    report = {
        "meta": {"id": "default.id", "name": "Default Name", "dark": False},
        "vars": [], "errors": [], "warnings": [], "summary": {}
    }

    # --- find blocks (flexible parsing) ---
    meta_match = re.search(r"@OBSThemeMeta\s*\{([\s\S]*?)\}", text)
    vars_match = re.search(r"@OBSThemeVars\s*\{([\s\S]*?)\}", text)

    if not meta_match:
        report["errors"].append(
            Error(code="META_BLOCK_MISSING", message="Missing @OBSThemeMeta section")
        )
        meta_block = ""
    else:
        meta_block = meta_match.group(1)

    if not vars_match:
        report["errors"].append(
            Error(code="VARS_BLOCK_MISSING", message="Missing @OBSThemeVars section")
        )
        vars_block = ""
    else:
        vars_block = vars_match.group(1)

    # --- parse meta (key: value pairs, allow ' or " or bare words) ---
    meta_data = {}
    for line in (meta_block or "").splitlines():
        line = line.strip().rstrip(",;")
        if not line or line.startswith("//") or line.startswith("/*"):
            continue
        m = re.match(r'([a-zA-Z0-9_-]+)\s*:\s*(?:\'([^\']*)\'|"([^"]*)"|([^,;]+))', line)
        if m:
            key = m.group(1)
            value = m.group(2) or m.group(3) or m.group(4) or ""
            value = value.strip()
            meta_data[key] = value

    # Ensure the meta object has required keys, even if parsing fails, to prevent Pydantic errors.
    # The checks below will still report them as missing.
    final_meta = {"id": "default.id", "name": "Default Name", "dark": False, "extends": None}
    final_meta.update(meta_data)
    report["meta"] = final_meta

    # required meta keys
    for key in ("id", "name", "dark"):
        if key not in report["meta"]:
            report["errors"].append(
                Error(
                    code="META_FIELD_MISSING",
                    message=f"Missing metadata field: {key}",
                    field=key,
                )
            )

    # id format
    if "id" in report["meta"]:
        if not ID_RE.match(report["meta"]["id"]):
            report["errors"].append(
                Error(
                    code="META_ID_INVALID",
                    message=f"Metadata 'id' does not match expected reverse-domain format: {report['meta']['id']}",
                    value=report["meta"]["id"],
                )
            )

    # normalize dark
    if "dark" in report["meta"]:
        d = str(report["meta"]["dark"]).strip().lower()
        if d in ("true", "false"):
            report["meta"]["dark"] = d == "true"
        else:
            report["errors"].append(
                Error(
                    code="META_DARK_INVALID",
                    message=f"Metadata 'dark' must be true/false: {report['meta']['dark']}",
                    value=report["meta"]["dark"],
                )
            )

    # --- parse vars block ---
    declared = {}
    line_no = 0
    for raw_line in (vars_block or "").splitlines():
        line_no += 1
        line = raw_line.strip()
        if not line or line.startswith("//") or line.startswith("/*") or line.startswith("#"):
            continue

        # CSS-style: --var-name: value;
        m_css = re.match(r"--([a-zA-Z0-9_]+)\s*:\s*(.+?);?$", line)
        if m_css:
            name = m_css.group(1)
            value = m_css.group(2).strip()
            _process_variable(name, value, line_no, declared, report)
            continue

        # YAML-like: name: value
        m_yaml = re.match(r"([a-zA-Z0-9_]+)\s*:\s*(.+)$", line)
        if m_yaml:
            name = m_yaml.group(1)
            value = m_yaml.group(2).strip().rstrip(",;")
            _process_variable(name, value, line_no, declared, report)
            continue

        # unrecognized line inside vars
        if line:
            report["errors"].append(
                Error(
                    code="VARS_PARSE_ERROR",
                    message=f"Could not parse line in @OBSThemeVars: {line}",
                    line=line_no
                )
            )

    # --- resolve var references var(--x) -> check existence ---
    for v_dict in report["vars"]:
        v = Var(**v_dict)
        val = v.value
        if not isinstance(val, str):
            continue
        refs = VAR_REF_RE.findall(val)
        for r, fallback in refs:
            if '-' in r:
                report["errors"].append(
                    Error(
                        code="VAR_REF_INVALID_CHAR",
                        message=f"Variable reference --{r} contains invalid characters (hyphens are not allowed).",
                        line=v.line,
                        ref=r,
                    )
                )
                continue
            if r not in declared:
                # If meta extends present, demote to warning; otherwise error
                if "extends" in report["meta"]:
                    report["warnings"].append(
                        Warning(
                            code="VAR_REF_UNDEFINED",
                            message=f"Variable {v.name} references undefined var --{r} (may be provided by extends)",
                            line=v.line,
                            ref=r,
                        )
                    )
                else:
                    report["errors"].append(
                        Error(
                            code="VAR_REF_UNDEFINED",
                            message=f"Variable {v.name} references undefined var --{r}",
                            line=v.line,
                            ref=r,
                        )
                    )

    # --- required semantic variables (configurable) ---
    present = set(declared.keys())
    for rv in REQUIRED_VARS:
        if rv not in present:
            report["warnings"].append(
                Warning(
                    code="VAR_REQUIRED_MISSING",
                    message=f"Recommended semantic variable missing: {rv}",
                    var=rv,
                )
            )

    # --- duplicate theme id detection will be done at caller level across files ---

    # summary
    report["summary"] = Summary(
        errors=len(report["errors"]),
        warnings=len(report["warnings"]),
        vars_count=len(report["vars"]),
    )

    return ValidationReport(**report)
</file>

<file path="AGENTS.md">
# AGENTS.md

## ü§ñ Agent Persona
You are an **Expert Full-Stack Architect** (Late 2025 Standards). You prioritize type safety, scalability, and "zero-magic" code. You prefer generating robust, self-documenting solutions over quick, brittle hacks.

## 1. üõ†Ô∏è Technology Mandate
All generated code **MUST** utilize the following "Gold Standard" stack.

| Layer | Technology | Usage Rule |
| :--- | :--- | :--- |
| **Frontend** | **React + TypeScript + Vite** | Strictly typed TSX. No "any". |
| **Styling** | **Tailwind CSS + shadcn/ui** | Utility-first. Use `tailwind.config` for token management. |
| **State (Server)**| **TanStack Query** | **MANDATORY.** Do not use `useEffect` for fetching. |
| **State (Client)**| **Zustand** | For complex global client state only. |
| **Backend** | **Node.js** or **FastAPI** | Node for general I/O; FastAPI for AI/Compute. |
| **API Binding** | **OpenAPI Gen (Orval)** | **MANDATORY.** Generate frontend types from backend schema. |
| **Animations** | **Framer Motion** / **GSAP** | Framer for UI transitions; GSAP for complex timelines. |
| **Build** | **pnpm + Turborepo** | Use strictly for monorepo orchestration. |

## 2. üß± Operational Guidelines

### **2.1. "Type-First" Workflow**
* **Backend First:** Always define your Pydantic models (Python) or Zod schemas (Node) *before* writing frontend code.
* **Sync Types:** Run the OpenAPI generator immediately after modifying backend routes to ensure the frontend is in sync.

### **2.2. Design & UI**
* **Material 3 (M3):** Apply M3 principles (Tokens, Elevation, Surfaces) via Tailwind configuration.
* **Spacing:** Use compact, density-aware spacing (e.g., `gap-2`, `p-3`) suitable for complex dashboards.

### **2.3. Testing Standard**
* **Frontend:** `vitest` + `testing-library/react`. Focus on user-centric tests.
* **Backend:** `pytest` (Python) or `vitest` (Node).
* **Rule:** "If it has logic, it has a test."

## 3. ‚ùå Strict Prohibitions
* **NEVER** use `useEffect` for data fetching (Use TanStack Query).
* **NEVER** use monolithic UI kits (MUI, Bootstrap, Chakra).
* **NEVER** write raw CSS unless absolutely necessary (Use Tailwind).
* **NEVER** guess types. If a type is unknown, define a generic or interface.
</file>

<file path="catppuccin_enhanced_base.obt">
@OBSThemeMeta {
    name: 'Catppuccin Enhanced Base';
    id: 'com.catppuccin.enhanced.base';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}

@OBSThemeVars {
    /* Base Catppuccin Mocha Colors - Can be overridden in variants */
    --rosewater: #f5e0dc;
    --flamingo: #f2cdcd;
    --pink: #f5c2e7;
    --mauve: #cba6f7;
    --red: #f38ba8;
    --maroon: #eba0ac;
    --peach: #fab387;
    --yellow: #f9e2af;
    --green: #a6e3a1;
    --teal: #94e2d5;
    --sky: #89dceb;
    --sapphire: #74c7ec;
    --blue: #89b4fa;
    --lavender: #b4befe;
    --text: #cdd6f4;
    --subtext1: #bac2de;
    --subtext0: #a6adc8;
    --overlay2: #9399b2;
    --overlay1: #7f849c;
    --overlay0: #6c7086;
    --surface2: #585b70;
    --surface1: #45475a;
    --surface0: #313244;
    --base: #1e1e2e;
    --mantle: #181825;
    --crust: #11111b;
    
    /* Semantic Color System */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    --bg_input: var(--surface0);
    --bg_input_focus: var(--surface1);
    --bg_menu: var(--surface1);
    --bg_tooltip: var(--surface2);
    --bg_selection: var(--mauve);
    
    /* Text Color System */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    --text_on_accent: var(--crust);
    --text_placeholder: var(--overlay2);
    
    /* Accent Color System */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    --accent_record: var(--red);
    --accent_stream: var(--blue);
    --accent_vcam: var(--green);
    --accent_replay: var(--yellow);
    
    /* Border Color System */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    --border_disabled: var(--surface2);
    --border_error: var(--red);
    --border_success: var(--green);
    --border_warning: var(--yellow);
    
    /* Shadow System */
    --shadow_small: 0 2px 4px var(--crust);
    --shadow_medium: 0 4px 8px var(--crust);
    --shadow_large: 0 8px 16px var(--crust);
    --shadow_focus: 0 0 8px var(--mauve);
    --shadow_glow: 0 0 12px;
    
    /* Sizing System */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --border_radius_round: 50%;
    --border_width: 1px;
    --border_width_thick: 2px;
    
    /* Spacing System */
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    --spacing_xxl: 32px;
    
    /* Typography System */
    --font_size_xs: 10px;
    --font_size_sm: 11px;
    --font_size_base: 12px;
    --font_size_md: 13px;
    --font_size_lg: 14px;
    --font_size_xl: 16px;
    --font_weight_normal: 400;
    --font_weight_medium: 500;
    --font_weight_semibold: 600;
    --font_weight_bold: 700;
    --line_height_base: 1.4;
    --line_height_tight: 1.2;
    
    /* Animation System */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
    --transition_easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Component Sizes */
    --button_height: 28px;
    --button_height_small: 24px;
    --button_height_large: 32px;
    --input_height: 28px;
    --toolbar_height: 32px;
    --tab_height: 32px;
    --menubar_height: 28px;
    
    /* Volume Meter Colors */
    --volume_nominal_bg: var(--green);
    --volume_warning_bg: var(--yellow);
    --volume_error_bg: var(--red);
    --volume_nominal_fg: var(--teal);
    --volume_warning_fg: var(--peach);
    --volume_error_fg: var(--maroon);
}

/* Global Application Styles */
* {
    outline: none;
}

QWidget {
    color: var(--text_primary);
    background-color: transparent;
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    font-size: var(--font_size_base);
    font-weight: var(--font_weight_normal);
}

QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Typography */
QLabel {
    color: var(--text_primary);
    background-color: transparent;
}

QLabel:disabled {
    color: var(--text_disabled);
}

/* Buttons */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: var(--font_weight_medium);
    min-height: var(--button_height);
    transition: all var(--transition_fast) var(--transition_easing);
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow_small);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
    transform: translateY(0);
    box-shadow: none;
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--text_on_accent);
    border-color: var(--accent_primary);
    box-shadow: var(--shadow_focus);
}

QPushButton:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_disabled);
    transform: none;
    box-shadow: none;
}

QPushButton:flat {
    border: none;
    background-color: transparent;
}

QPushButton:flat:hover {
    background-color: var(--bg_button_hover);
    border-radius: var(--border_radius);
}

/* Button Variants */
QPushButton[class="btn-primary"] {
    background-color: var(--accent_primary);
    color: var(--text_on_accent);
    border-color: var(--accent_primary);
    font-weight: var(--font_weight_semibold);
}

QPushButton[class="btn-primary"]:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
    box-shadow: var(--shadow_glow) var(--accent_primary);
}

QPushButton[class="btn-success"] {
    background-color: var(--accent_success);
    color: var(--text_on_accent);
    border-color: var(--accent_success);
}

QPushButton[class="btn-success"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: var(--shadow_glow) var(--accent_success);
}

QPushButton[class="btn-warning"] {
    background-color: var(--accent_warning);
    color: var(--text_on_accent);
    border-color: var(--accent_warning);
}

QPushButton[class="btn-warning"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: var(--shadow_glow) var(--accent_warning);
}

QPushButton[class="btn-danger"] {
    background-color: var(--accent_error);
    color: var(--text_on_accent);
    border-color: var(--accent_error);
}

QPushButton[class="btn-danger"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: var(--shadow_glow) var(--accent_error);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_input);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    min-height: var(--input_height);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_input_focus);
    box-shadow: var(--shadow_focus);
}

QLineEdit:disabled, QTextEdit:disabled, QPlainTextEdit:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_disabled);
}

QLineEdit::placeholder, QTextEdit::placeholder, QPlainTextEdit::placeholder {
    color: var(--text_placeholder);
}

/* Combo Boxes */
QComboBox {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    min-height: var(--button_height);
}

QComboBox:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}

QComboBox:on {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_focus);
}

QComboBox::drop-down {
    border: none;
    width: 20px;
    padding-right: var(--spacing_sm);
}

QComboBox::down-arrow {
    image: url(theme:Dark/expand.svg);
    width: 12px;
    height: 12px;
}

QComboBox QAbstractItemView {
    background-color: var(--bg_menu);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
}

QComboBox QAbstractItemView::item {
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QComboBox QAbstractItemView::item:hover {
    background-color: var(--bg_surface_hover);
}

QComboBox QAbstractItemView::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

/* Spin Boxes */
QSpinBox, QDoubleSpinBox {
    background-color: var(--bg_input);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    min-height: var(--input_height);
}

QSpinBox:focus, QDoubleSpinBox:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_input_focus);
    box-shadow: var(--shadow_focus);
}

QSpinBox::up-button, QDoubleSpinBox::up-button,
QSpinBox::down-button, QDoubleSpinBox::down-button {
    background-color: var(--bg_button);
    border: var(--border_width) solid var(--border_base);
    width: 16px;
}

QSpinBox::up-button:hover, QDoubleSpinBox::up-button:hover,
QSpinBox::down-button:hover, QDoubleSpinBox::down-button:hover {
    background-color: var(--bg_button_hover);
}

/* Check Boxes */
QCheckBox {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QCheckBox::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_input);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius_small);
}

QCheckBox::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QCheckBox::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_checked.svg);
}

QCheckBox::indicator:checked:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QCheckBox::indicator:indeterminate {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_indeterminate.svg);
}

QCheckBox:disabled {
    color: var(--text_disabled);
}

QCheckBox::indicator:disabled {
    background-color: var(--bg_button_disabled);
    border-color: var(--border_disabled);
}

/* Radio Buttons */
QRadioButton {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QRadioButton::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_input);
    border: var(--border_width) solid var(--border_base);
    border-radius: 8px;
}

QRadioButton::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QRadioButton::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/radio_checked.svg);
}

QRadioButton::indicator:checked:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QRadioButton:disabled {
    color: var(--text_disabled);
}

QRadioButton::indicator:disabled {
    background-color: var(--bg_button_disabled);
    border-color: var(--border_disabled);
}

/* Sliders */
QSlider::groove:horizontal {
    background-color: var(--bg_surface);
    height: 4px;
    border-radius: 2px;
}

QSlider::handle:horizontal {
    background-color: var(--accent_primary);
    border: var(--border_width_thick) solid var(--accent_primary);
    width: 16px;
    margin: -6px 0;
    border-radius: 8px;
    transition: all var(--transition_fast) var(--transition_easing);
}

QSlider::handle:horizontal:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
    transform: scale(1.1);
}

QSlider::handle:horizontal:pressed {
    transform: scale(0.95);
}

QSlider::add-page:horizontal {
    background-color: var(--bg_surface);
    border-radius: 2px;
}

QSlider::sub-page:horizontal {
    background-color: var(--accent_primary);
    border-radius: 2px;
}

QSlider::groove:vertical {
    background-color: var(--bg_surface);
    width: 4px;
    border-radius: 2px;
}

QSlider::handle:vertical {
    background-color: var(--accent_primary);
    border: var(--border_width_thick) solid var(--accent_primary);
    height: 16px;
    margin: 0 -6px;
    border-radius: 8px;
}

QSlider::handle:vertical:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QSlider::add-page:vertical {
    background-color: var(--accent_primary);
    border-radius: 2px;
}

QSlider::sub-page:vertical {
    background-color: var(--bg_surface);
    border-radius: 2px;
}

/* Progress Bars */
QProgressBar {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    text-align: center;
    padding: 2px;
    font-weight: var(--font_weight_medium);
}

QProgressBar::chunk {
    background-color: var(--accent_primary);
    border-radius: calc(var(--border_radius) - 1px);
    transition: width var(--transition_normal) var(--transition_easing);
}

/* Scroll Bars */
QScrollBar:vertical {
    background-color: var(--bg_base);
    width: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:vertical {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-height: 20px;
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QScrollBar::handle:vertical:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:vertical:pressed {
    background-color: var(--overlay2);
}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {
    background: none;
    height: 0;
}

QScrollBar:horizontal {
    background-color: var(--bg_base);
    height: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:horizontal {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-width: 20px;
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:horizontal:pressed {
    background-color: var(--overlay2);
}

QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {
    background: none;
    width: 0;
}

/* Dock Widgets */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    titlebar-close-icon: url(theme:Dark/close.svg);
    titlebar-normal-icon: url(theme:Dark/popout.svg);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: var(--border_width) solid var(--border_base);
    font-weight: var(--font_weight_semibold);
    text-align: center;
}

QDockWidget::close-button, QDockWidget::float-button {
    background-color: transparent;
    border: none;
    border-radius: var(--border_radius_small);
    padding: 2px;
}

QDockWidget::close-button:hover, QDockWidget::float-button:hover {
    background-color: var(--bg_surface_hover);
}

QDockWidget::close-button:pressed, QDockWidget::float-button:pressed {
    background-color: var(--bg_button_pressed);
}

/* Splitters */
QSplitter::handle {
    background-color: var(--border_base);
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QSplitter::handle:hover {
    background-color: var(--border_hover);
}

QSplitter::handle:pressed {
    background-color: var(--border_pressed);
}

QSplitter::handle:horizontal {
    width: 2px;
}

QSplitter::handle:vertical {
    height: 2px;
}

/* Tab Widgets */
QTabWidget::pane {
    background-color: var(--bg_base);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    position: absolute;
    top: -1px;
}

QTabBar {
    qproperty-drawBase: 0;
}

QTabBar::tab {
    background-color: var(--bg_surface);
    color: var(--text_secondary);
    border: var(--border_width) solid var(--border_base);
    border-bottom: none;
    padding: var(--spacing_sm) var(--spacing_md);
    margin-right: 2px;
    border-radius: var(--border_radius) var(--border_radius) 0 0;
    min-width: 80px;
    font-weight: var(--font_weight_medium);
    transition: all var(--transition_fast) var(--transition_easing);
}

QTabBar::tab:hover {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: var(--font_weight_semibold);
    border-bottom-color: var(--bg_base);
}

QTabBar::tab:!selected {
    margin-top: 2px;
}

/* List Widgets */
QListWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
    show-decoration-selected: 1;
}

QListWidget::item {
    padding: var(--spacing_sm);
    border-bottom: var(--border_width) solid transparent;
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QListWidget::item:hover {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius_small);
}

QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
    border-radius: var(--border_radius_small);
}

QListWidget::item:selected:active {
    background-color: var(--bg_selection);
}

QListWidget::item:selected:!active {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

/* Tree Widgets */
QTreeWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
    show-decoration-selected: 1;
}

QTreeWidget::item {
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px 0;
}

QTreeWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QTreeWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

QTreeWidget::item:selected:active {
    background-color: var(--bg_selection);
}

QTreeWidget::item:selected:!active {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

QTreeWidget::branch:has-siblings:!adjoins-item {
    border-image: url(theme:Dark/branch_vline.svg) 0;
}

QTreeWidget::branch:has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_more.svg) 0;
}

QTreeWidget::branch:!has-children:!has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_end.svg) 0;
}

QTreeWidget::branch:has-children:!has-siblings:closed,
QTreeWidget::branch:closed:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_closed.svg);
}

QTreeWidget::branch:open:has-children:!has-siblings,
QTreeWidget::branch:open:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_open.svg);
}

/* Group Boxes */
QGroupBox {
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    margin-top: var(--spacing_md);
    padding-top: var(--spacing_sm);
    font-weight: var(--font_weight_semibold);
}

QGroupBox::title {
    subcontrol-origin: margin;
    left: var(--spacing_sm);
    padding: 0 var(--spacing_sm);
    background-color: var(--bg_window);
    color: var(--text_primary);
}

QGroupBox:disabled {
    color: var(--text_disabled);
    border-color: var(--border_disabled);
}

/* Menu Bar */
QMenuBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-bottom: var(--border_width) solid var(--border_base);
    spacing: var(--spacing_xs);
}

QMenuBar::item {
    padding: var(--spacing_sm) var(--spacing_md);
    background-color: transparent;
    border-radius: var(--border_radius_small);
}

QMenuBar::item:selected {
    background-color: var(--bg_surface_hover);
}

QMenuBar::item:pressed {
    background-color: var(--bg_button_pressed);
}

/* Menus */
QMenu {
    background-color: var(--bg_menu);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item {
    padding: var(--spacing_sm) var(--spacing_md);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QMenu::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

QMenu::item:disabled {
    color: var(--text_disabled);
}

QMenu::separator {
    height: var(--border_width);
    background-color: var(--border_base);
    margin: var(--spacing_xs) 0;
}

QMenu::icon {
    padding-left: var(--spacing_sm);
}

QMenu::right-arrow {
    image: url(theme:Dark/right_arrow.svg);
    width: 8px;
    height: 8px;
}

/* Tool Tips */
QToolTip {
    background-color: var(--bg_tooltip);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    font-size: var(--font_size_sm);
    box-shadow: var(--shadow_medium);
}

/* Status Bar */
QStatusBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-top: var(--border_width) solid var(--border_base);
    font-size: var(--font_size_sm);
}

QStatusBar::item {
    border: none;
    padding: var(--spacing_xs) var(--spacing_sm);
}

/* Tool Bar */
QToolBar {
    background-color: var(--bg_base);
    border: var(--border_width) solid var(--border_base);
    spacing: var(--spacing_xs);
    padding: var(--spacing_xs);
}

QToolBar::separator {
    background-color: var(--border_base);
    width: var(--border_width);
    margin: 0 var(--spacing_xs);
}

QToolButton {
    background-color: transparent;
    border: none;
    border-radius: var(--border_radius_small);
    padding: var(--spacing_xs);
    margin: 1px;
}

QToolButton:hover {
    background-color: var(--bg_surface_hover);
}

QToolButton:pressed {
    background-color: var(--bg_button_pressed);
}

QToolButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--text_on_accent);
}

/* Header View */
QHeaderView::section {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: none;
    border-right: var(--border_width) solid var(--border_base);
    border-bottom: var(--border_width) solid var(--border_base);
    padding: var(--spacing_sm);
    font-weight: var(--font_weight_semibold);
}

QHeaderView::section:hover {
    background-color: var(--bg_surface_hover);
}

QHeaderView::section:pressed {
    background-color: var(--bg_button_pressed);
}

/* Table Widget */
QTableWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    gridline-color: var(--border_base);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
}

QTableWidget::item {
    padding: var(--spacing_sm);
    border-right: var(--border_width) solid var(--border_base);
    border-bottom: var(--border_width) solid var(--border_base);
}

QTableWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QTableWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

/* Volume Controls */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--volume_nominal_bg);
    qproperty-backgroundWarningColor: var(--volume_warning_bg);
    qproperty-backgroundErrorColor: var(--volume_error_bg);
    qproperty-foregroundNominalColor: var(--volume_nominal_fg);
    qproperty-foregroundWarningColor: var(--volume_warning_fg);
    qproperty-foregroundErrorColor: var(--volume_error_fg);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* OBS-Specific Controls */
OBSHotkeyLabel {
    color: var(--text_secondary);
    font-size: var(--font_size_sm);
}

OBSHotkeyLabel[hotkeyPairHover=true] {
    color: var(--accent_primary);
}

/* Recording/Streaming Buttons */
QPushButton[themeID="recordButton"] {
    background-color: var(--accent_record);
    color: var(--text_on_accent);
    border-color: var(--accent_record);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: var(--shadow_glow) var(--accent_record);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--accent_stream);
    color: var(--text_on_accent);
    border-color: var(--accent_stream);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sapphire);
    border-color: var(--sapphire);
    box-shadow: var(--shadow_glow) var(--accent_stream);
}

QPushButton[themeID="vcamButton"] {
    background-color: var(--accent_vcam);
    color: var(--text_on_accent);
    border-color: var(--accent_vcam);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: var(--shadow_glow) var(--accent_vcam);
}

QPushButton[themeID="replayBufferButton"] {
    background-color: var(--accent_replay);
    color: var(--text_on_accent);
    border-color: var(--accent_replay);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: var(--shadow_glow) var(--accent_replay);
}

/* Source List Styling */
#sources {
    background-color: var(--bg_base);
}

#sources QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

#sources QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

#sources QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Scene List Styling */
#scenes {
    background-color: var(--bg_base);
}

#scenes QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

#scenes QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

#scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Controls Dock */
#controlsDock {
    background-color: var(--bg_base);
}

#controlsDock QPushButton {
    margin: 2px;
}

/* Statistics Dock */
#statsDock {
    background-color: var(--bg_base);
}

/* Audio Mixer */
#mixerDock {
    background-color: var(--bg_base);
}

/* Transitions Dock */
#transitionsDock {
    background-color: var(--bg_base);
}

/* Studio Mode */
OBSBasicPreview[displayBackgroundColor="31, 30, 31"] {
    qproperty-displayBackgroundColor: var(--mantle);
}

/* Filters Frame */
#filtersFrame {
    background-color: var(--bg_base);
}

/* Properties Frame */
#propertiesFrame {
    background-color: var(--bg_base);
}

/* Context Container */
#contextContainer {
    background-color: var(--bg_base);
}

/* State Labels */
QLabel[class="error"] {
    color: var(--accent_error);
    font-weight: var(--font_weight_medium);
}

QLabel[class="warning"] {
    color: var(--accent_warning);
    font-weight: var(--font_weight_medium);
}

QLabel[class="success"] {
    color: var(--accent_success);
    font-weight: var(--font_weight_medium);
}

QLabel[class="info"] {
    color: var(--accent_info);
    font-weight: var(--font_weight_medium);
}

/* Custom Styling for Enhanced Features */
.obs-enhanced-card {
    background-color: var(--bg_surface);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_md);
    margin: var(--spacing_sm);
}

.obs-enhanced-card:hover {
    border-color: var(--border_hover);
    box-shadow: var(--shadow_small);
}

.obs-enhanced-highlight {
    background-color: var(--accent_primary);
    color: var(--text_on_accent);
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_small);
    font-weight: var(--font_weight_medium);
}

.obs-enhanced-muted {
    color: var(--text_tertiary);
    font-size: var(--font_size_sm);
}

.obs-enhanced-badge {
    background-color: var(--bg_surface_raised);
    color: var(--text_secondary);
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_large);
    font-size: var(--font_size_xs);
    font-weight: var(--font_weight_medium);
    border: var(--border_width) solid var(--border_base);
}

.obs-enhanced-badge.success {
    background-color: var(--accent_success);
    color: var(--text_on_accent);
    border-color: var(--accent_success);
}

.obs-enhanced-badge.warning {
    background-color: var(--accent_warning);
    color: var(--text_on_accent);
    border-color: var(--accent_warning);
}

.obs-enhanced-badge.error {
    background-color: var(--accent_error);
    color: var(--text_on_accent);
    border-color: var(--accent_error);
}
</file>

<file path="catppuccin_enhanced_frappe.ovt">
@OBSThemeMeta {
    name: 'Catppuccin Enhanced Frappe';
    id: 'com.catppuccin.enhanced.frappe';
    extends: 'com.obsproject.Yami';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}

@OBSThemeVars {
    /* Catppuccin Frappe Color Palette */
    --rosewater: #f2d5cf;
    --flamingo: #eebebe;
    --pink: #f4b8e4;
    --mauve: #ca9ee6;
    --red: #e78284;
    --maroon: #ea999c;
    --peach: #ef9f76;
    --yellow: #e5c890;
    --green: #a6d189;
    --teal: #81c8be;
    --sky: #99d1db;
    --sapphire: #85c1dc;
    --blue: #8caaee;
    --lavender: #babbf1;
    --text: #c6d0f5;
    --subtext1: #b5bfe2;
    --subtext0: #a5adce;
    --overlay2: #949cbb;
    --overlay1: #838ba7;
    --overlay0: #737994;
    --surface2: #626880;
    --surface1: #51576d;
    --surface0: #414559;
    --base: #303446;
    --mantle: #292c3c;
    --crust: #232634;
    
    /* Semantic Color Variables */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    
    /* Text Colors */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    
    /* Accent Colors */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    
    /* Border Colors */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    
    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    
    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}

/* Main Application Window */
QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Dock Areas and Splitters */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}

/* Buttons - Enhanced with flavor-specific styling */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
    transition: all var(--transition_fast) ease;
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
    transform: translateY(-1px);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
    transform: translateY(0px);
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--base);
    border-color: var(--accent_primary);
    box-shadow: 0 0 8px var(--accent_primary);
}

/* Recording/Streaming Indicators with Catppuccin colors */
QPushButton[themeID="recordButton"] {
    background-color: var(--red);
    color: var(--base);
    border-color: var(--red);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: 0 0 12px var(--red);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--blue);
    color: var(--base);
    border-color: var(--blue);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sapphire);
    border-color: var(--sapphire);
    box-shadow: 0 0 12px var(--blue);
}

QPushButton[themeID="vcamButton"] {
    background-color: var(--green);
    color: var(--base);
    border-color: var(--green);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: 0 0 12px var(--green);
}

QPushButton[themeID="replayBufferButton"] {
    background-color: var(--yellow);
    color: var(--base);
    border-color: var(--yellow);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: 0 0 12px var(--yellow);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    selection-background-color: var(--accent_primary);
    selection-color: var(--base);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
    box-shadow: 0 0 6px var(--accent_primary);
}

/* Volume Controls with Catppuccin colors */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--green);
    qproperty-backgroundWarningColor: var(--yellow);
    qproperty-backgroundErrorColor: var(--red);
    qproperty-foregroundNominalColor: var(--teal);
    qproperty-foregroundWarningColor: var(--peach);
    qproperty-foregroundErrorColor: var(--maroon);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* Source and Scene Lists */
#sources QListWidget::item:selected, #scenes QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--base);
    border-radius: var(--border_radius_small);
}

#sources QListWidget::item:hover:!selected, #scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius_small);
}

/* Menu styling */
QMenu {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item:selected {
    background-color: var(--accent_primary);
    color: var(--base);
    border-radius: var(--border_radius_small);
}

/* Scrollbars */
QScrollBar::handle:vertical:hover, QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:vertical:pressed, QScrollBar::handle:horizontal:pressed {
    background-color: var(--overlay2);
}

/* Tab styling */
QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: 600;
    border-bottom-color: var(--accent_primary);
}

/* Status indicators */
QLabel[class="error"] { color: var(--red); }
QLabel[class="warning"] { color: var(--yellow); }
QLabel[class="success"] { color: var(--green); }
QLabel[class="info"] { color: var(--blue); }
</file>

<file path="catppuccin_enhanced_latte.ovt">
@OBSThemeMeta {
    name: 'Catppuccin Enhanced Latte';
    id: 'com.catppuccin.enhanced.latte';
    extends: 'com.obsproject.Yami';
    author: 'Enhanced by AI Assistant';
    dark: 'false';
}

@OBSThemeVars {
    /* Catppuccin Latte Color Palette */
    --rosewater: #dc8a78;
    --flamingo: #dd7878;
    --pink: #ea76cb;
    --mauve: #8839ef;
    --red: #d20f39;
    --maroon: #e64553;
    --peach: #fe640b;
    --yellow: #df8e1d;
    --green: #40a02b;
    --teal: #179299;
    --sky: #04a5e5;
    --sapphire: #209fb5;
    --blue: #1e66f5;
    --lavender: #7287fd;
    --text: #4c4f69;
    --subtext1: #5c5f77;
    --subtext0: #6c6f85;
    --overlay2: #7c7f93;
    --overlay1: #8c8fa1;
    --overlay0: #9ca0b0;
    --surface2: #acb0be;
    --surface1: #bcc0cc;
    --surface0: #ccd0da;
    --base: #eff1f5;
    --mantle: #e6e9ef;
    --crust: #dce0e8;
    
    /* Semantic Color Variables */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    
    /* Text Colors */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    
    /* Accent Colors */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    
    /* Border Colors */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    
    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    
    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}

/* Main Application Window */
QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Dock Areas and Splitters */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}

/* Buttons - Enhanced with flavor-specific styling */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
    transition: all var(--transition_fast) ease;
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
    transform: translateY(-1px);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
    transform: translateY(0px);
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--text);
    border-color: var(--accent_primary);
    box-shadow: 0 0 8px var(--accent_primary);
}

/* Recording/Streaming Indicators with Catppuccin colors */
QPushButton[themeID="recordButton"] {
    background-color: var(--red);
    color: var(--text);
    border-color: var(--red);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: 0 0 12px var(--red);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--blue);
    color: var(--text);
    border-color: var(--blue);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sapphire);
    border-color: var(--sapphire);
    box-shadow: 0 0 12px var(--blue);
}

QPushButton[themeID="vcamButton"] {
    background-color: var(--green);
    color: var(--text);
    border-color: var(--green);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: 0 0 12px var(--green);
}

QPushButton[themeID="replayBufferButton"] {
    background-color: var(--yellow);
    color: var(--text);
    border-color: var(--yellow);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: 0 0 12px var(--yellow);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    selection-background-color: var(--accent_primary);
    selection-color: var(--text);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
    box-shadow: 0 0 6px var(--accent_primary);
}

/* Volume Controls with Catppuccin colors */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--green);
    qproperty-backgroundWarningColor: var(--yellow);
    qproperty-backgroundErrorColor: var(--red);
    qproperty-foregroundNominalColor: var(--teal);
    qproperty-foregroundWarningColor: var(--peach);
    qproperty-foregroundErrorColor: var(--maroon);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* Source and Scene Lists */
#sources QListWidget::item:selected, #scenes QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--text);
    border-radius: var(--border_radius_small);
}

#sources QListWidget::item:hover:!selected, #scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius_small);
}

/* Menu styling */
QMenu {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item:selected {
    background-color: var(--accent_primary);
    color: var(--text);
    border-radius: var(--border_radius_small);
}

/* Scrollbars */
QScrollBar::handle:vertical:hover, QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:vertical:pressed, QScrollBar::handle:horizontal:pressed {
    background-color: var(--overlay2);
}

/* Tab styling */
QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: 600;
    border-bottom-color: var(--accent_primary);
}

/* Status indicators */
QLabel[class="error"] { color: var(--red); }
QLabel[class="warning"] { color: var(--yellow); }
QLabel[class="success"] { color: var(--green); }
QLabel[class="info"] { color: var(--blue); }
</file>

<file path="catppuccin_enhanced_macchiato.ovt">
@OBSThemeMeta {
    name: 'Catppuccin Enhanced Macchiato';
    id: 'com.catppuccin.enhanced.macchiato';
    extends: 'com.obsproject.Yami';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}

@OBSThemeVars {
    /* Catppuccin Macchiato Color Palette */
    --rosewater: #f4dbd6;
    --flamingo: #f0c6c6;
    --pink: #f5bde6;
    --mauve: #c6a0f6;
    --red: #ed8796;
    --maroon: #ee99a0;
    --peach: #f5a97f;
    --yellow: #eed49f;
    --green: #a6da95;
    --teal: #8bd5ca;
    --sky: #91d7e3;
    --sapphire: #7dc4e4;
    --blue: #8aadf4;
    --lavender: #b7bdf8;
    --text: #cad3f5;
    --subtext1: #b8c0e0;
    --subtext0: #a5adcb;
    --overlay2: #939ab7;
    --overlay1: #8087a2;
    --overlay0: #6e738d;
    --surface2: #5b6078;
    --surface1: #494d64;
    --surface0: #363a4f;
    --base: #24273a;
    --mantle: #1e2030;
    --crust: #181926;
    
    /* Semantic Color Variables */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    
    /* Text Colors */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    
    /* Accent Colors */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    
    /* Border Colors */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    
    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    
    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}

/* Main Application Window */
QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Dock Areas and Splitters */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}

/* Buttons - Enhanced with flavor-specific styling */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
    transition: all var(--transition_fast) ease;
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
    transform: translateY(-1px);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
    transform: translateY(0px);
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--base);
    border-color: var(--accent_primary);
    box-shadow: 0 0 8px var(--accent_primary);
}

/* Recording/Streaming Indicators with Catppuccin colors */
QPushButton[themeID="recordButton"] {
    background-color: var(--red);
    color: var(--base);
    border-color: var(--red);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: 0 0 12px var(--red);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--blue);
    color: var(--base);
    border-color: var(--blue);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sapphire);
    border-color: var(--sapphire);
    box-shadow: 0 0 12px var(--blue);
}

QPushButton[themeID="vcamButton"] {
    background-color: var(--green);
    color: var(--base);
    border-color: var(--green);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: 0 0 12px var(--green);
}

QPushButton[themeID="replayBufferButton"] {
    background-color: var(--yellow);
    color: var(--base);
    border-color: var(--yellow);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: 0 0 12px var(--yellow);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    selection-background-color: var(--accent_primary);
    selection-color: var(--base);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
    box-shadow: 0 0 6px var(--accent_primary);
}

/* Volume Controls with Catppuccin colors */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--green);
    qproperty-backgroundWarningColor: var(--yellow);
    qproperty-backgroundErrorColor: var(--red);
    qproperty-foregroundNominalColor: var(--teal);
    qproperty-foregroundWarningColor: var(--peach);
    qproperty-foregroundErrorColor: var(--maroon);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* Source and Scene Lists */
#sources QListWidget::item:selected, #scenes QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--base);
    border-radius: var(--border_radius_small);
}

#sources QListWidget::item:hover:!selected, #scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius_small);
}

/* Menu styling */
QMenu {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item:selected {
    background-color: var(--accent_primary);
    color: var(--base);
    border-radius: var(--border_radius_small);
}

/* Scrollbars */
QScrollBar::handle:vertical:hover, QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:vertical:pressed, QScrollBar::handle:horizontal:pressed {
    background-color: var(--overlay2);
}

/* Tab styling */
QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: 600;
    border-bottom-color: var(--accent_primary);
}

/* Status indicators */
QLabel[class="error"] { color: var(--red); }
QLabel[class="warning"] { color: var(--yellow); }
QLabel[class="success"] { color: var(--green); }
QLabel[class="info"] { color: var(--blue); }
</file>

<file path="dracula_theme.template.ovt">
@OBSThemeMeta {{
    name: 'Dracula';
    id: 'com.dracula.theme';
    extends: 'com.obsproject.Yami';
    author: 'Dracula Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Dracula Color Palette */
    --background: {background};
    --current_line: {current_line};
    --foreground: {foreground};
    --comment: {comment};
    --cyan: {cyan};
    --green: {green};
    --orange: {orange};
    --pink: {pink};
    --purple: {purple};
    --red: {red};
    --yellow: {yellow};

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="github-dark_theme.ovt">
@OBSThemeMeta {{
    name: 'GitHub Dark';
    id: 'com.textmate.githubdark.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* GitHub Dark Color Palette */
    --background: #24292e;
    --current_line: #3392FF44;
    --foreground: #e1e4e8;
    --comment: #444d56;
    --cyan: #8be9fd;
    --green: #28a745;
    --orange: #ffea7f;
    --pink: #2188ff;
    --purple: #ea4a5a;
    --red: #f97583;
    --yellow: #ffea7f;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="github-light_theme.ovt">
@OBSThemeMeta {{
    name: 'GitHub Light';
    id: 'com.textmate.githublight.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* GitHub Light Color Palette */
    --background: #fff;
    --current_line: #0366d625;
    --foreground: #24292e;
    --comment: #1b1f234d;
    --cyan: #8be9fd;
    --green: #28a745;
    --orange: #f9c513;
    --pink: #2188ff;
    --purple: #d73a49;
    --red: #cb2431;
    --yellow: #f9c513;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="material-theme_theme.ovt">
@OBSThemeMeta {{
    name: 'Material Theme';
    id: 'com.textmate.materialtheme.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Material Theme Color Palette */
    --background: #263238;
    --current_line: #80CBC420;
    --foreground: #EEFFFF;
    --comment: #465A64;
    --cyan: #82AAFF70;
    --green: #C3E88D60;
    --orange: #FFCB6B70;
    --pink: #82AAFF60;
    --purple: #f0717860;
    --red: #f0717870;
    --yellow: #FFCB6B70;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="material-theme-darker_theme.ovt">
@OBSThemeMeta {{
    name: 'Material Theme Darker';
    id: 'com.textmate.materialthemedarker.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Material Theme Darker Color Palette */
    --background: #212121;
    --current_line: #61616150;
    --foreground: #EEFFFF;
    --comment: #424242;
    --cyan: #82AAFF70;
    --green: #C3E88D60;
    --orange: #FFCB6B70;
    --pink: #82AAFF60;
    --purple: #f0717860;
    --red: #f0717870;
    --yellow: #FFCB6B70;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="material-theme-lighter_theme.ovt">
@OBSThemeMeta {{
    name: 'Material Theme Lighter';
    id: 'com.textmate.materialthemelighter.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Material Theme Lighter Color Palette */
    --background: #FAFAFA;
    --current_line: #80CBC440;
    --foreground: #90A4AE;
    --comment: #CFD8DC;
    --cyan: #6182B870;
    --green: #91B85960;
    --orange: #E2931D70;
    --pink: #6182B860;
    --purple: #E5393560;
    --red: #E5393570;
    --yellow: #E2931D70;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="material-theme-ocean_theme.ovt">
@OBSThemeMeta {{
    name: 'Material Theme Ocean';
    id: 'com.textmate.materialthemeocean.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Material Theme Ocean Color Palette */
    --background: #0F111A;
    --current_line: #717CB450;
    --foreground: #babed8;
    --comment: #3B3F5180;
    --cyan: #82AAFF70;
    --green: #C3E88D60;
    --orange: #FFCB6B70;
    --pink: #82AAFF60;
    --purple: #f0717860;
    --red: #f0717870;
    --yellow: #FFCB6B70;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="material-theme-palenight_theme.ovt">
@OBSThemeMeta {{
    name: 'Material Theme Palenight';
    id: 'com.textmate.materialthemepalenight.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Material Theme Palenight Color Palette */
    --background: #292D3E;
    --current_line: #717CB450;
    --foreground: #babed8;
    --comment: #3A3F58;
    --cyan: #82AAFF70;
    --green: #C3E88D60;
    --orange: #FFCB6B70;
    --pink: #82AAFF60;
    --purple: #f0717860;
    --red: #f0717870;
    --yellow: #FFCB6B70;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="nord_theme.ovt">
@OBSThemeMeta {{
    name: 'Nord';
    id: 'com.textmate.nord.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Nord Color Palette */
    --background: #2e3440;
    --current_line: #434c5ecc;
    --foreground: #d8dee9;
    --comment: #4c566a;
    --cyan: #8be9fd;
    --green: #a3be8c;
    --orange: #ebcb8b;
    --pink: #ebcb8b;
    --purple: #bf616a;
    --red: #bf616a;
    --yellow: #ebcb8b;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="one-dark-pro_theme.ovt">
@OBSThemeMeta {{
    name: 'One Dark Pro';
    id: 'com.textmate.onedarkpro.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* One Dark Pro Color Palette */
    --background: #282c34;
    --current_line: #67769660;
    --foreground: #abb2bf;
    --comment: #495162;
    --cyan: #8be9fd;
    --green: #109868;
    --orange: #d19a66;
    --pink: #948B60;
    --purple: #9A353D;
    --red: #c24038;
    --yellow: #d19a66;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="pnpm-workspace.yaml">
packages:
  - 'apps/*'
  - 'packages/*'
</file>

<file path="script_3.py">
# Let's also create a complete base theme (.obt) that others can extend
# This will be a comprehensive base theme with all necessary styling

base_theme_content = """@OBSThemeMeta {
    name: 'Catppuccin Enhanced Base';
    id: 'com.catppuccin.enhanced.base';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}

@OBSThemeVars {
    /* Base Catppuccin Mocha Colors - Can be overridden in variants */
    --rosewater: #f5e0dc;
    --flamingo: #f2cdcd;
    --pink: #f5c2e7;
    --mauve: #cba6f7;
    --red: #f38ba8;
    --maroon: #eba0ac;
    --peach: #fab387;
    --yellow: #f9e2af;
    --green: #a6e3a1;
    --teal: #94e2d5;
    --sky: #89dceb;
    --sapphire: #74c7ec;
    --blue: #89b4fa;
    --lavender: #b4befe;
    --text: #cdd6f4;
    --subtext1: #bac2de;
    --subtext0: #a6adc8;
    --overlay2: #9399b2;
    --overlay1: #7f849c;
    --overlay0: #6c7086;
    --surface2: #585b70;
    --surface1: #45475a;
    --surface0: #313244;
    --base: #1e1e2e;
    --mantle: #181825;
    --crust: #11111b;
    
    /* Semantic Color System */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    --bg_input: var(--surface0);
    --bg_input_focus: var(--surface1);
    --bg_menu: var(--surface1);
    --bg_tooltip: var(--surface2);
    --bg_selection: var(--mauve);
    
    /* Text Color System */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    --text_on_accent: var(--crust);
    --text_placeholder: var(--overlay2);
    
    /* Accent Color System */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    --accent_record: var(--red);
    --accent_stream: var(--blue);
    --accent_vcam: var(--green);
    --accent_replay: var(--yellow);
    
    /* Border Color System */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    --border_disabled: var(--surface2);
    --border_error: var(--red);
    --border_success: var(--green);
    --border_warning: var(--yellow);
    
    /* Shadow System */
    --shadow_small: 0 2px 4px var(--crust);
    --shadow_medium: 0 4px 8px var(--crust);
    --shadow_large: 0 8px 16px var(--crust);
    --shadow_focus: 0 0 8px var(--mauve);
    --shadow_glow: 0 0 12px;
    
    /* Sizing System */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --border_radius_round: 50%;
    --border_width: 1px;
    --border_width_thick: 2px;
    
    /* Spacing System */
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    --spacing_xxl: 32px;
    
    /* Typography System */
    --font_size_xs: 10px;
    --font_size_sm: 11px;
    --font_size_base: 12px;
    --font_size_md: 13px;
    --font_size_lg: 14px;
    --font_size_xl: 16px;
    --font_weight_normal: 400;
    --font_weight_medium: 500;
    --font_weight_semibold: 600;
    --font_weight_bold: 700;
    --line_height_base: 1.4;
    --line_height_tight: 1.2;
    
    /* Animation System */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
    --transition_easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Component Sizes */
    --button_height: 28px;
    --button_height_small: 24px;
    --button_height_large: 32px;
    --input_height: 28px;
    --toolbar_height: 32px;
    --tab_height: 32px;
    --menubar_height: 28px;
    
    /* Volume Meter Colors */
    --volume_nominal_bg: var(--green);
    --volume_warning_bg: var(--yellow);
    --volume_error_bg: var(--red);
    --volume_nominal_fg: var(--teal);
    --volume_warning_fg: var(--peach);
    --volume_error_fg: var(--maroon);
}

/* Global Application Styles */
* {
    outline: none;
}

QWidget {
    color: var(--text_primary);
    background-color: transparent;
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    font-size: var(--font_size_base);
    font-weight: var(--font_weight_normal);
}

QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Typography */
QLabel {
    color: var(--text_primary);
    background-color: transparent;
}

QLabel:disabled {
    color: var(--text_disabled);
}

/* Buttons */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: var(--font_weight_medium);
    min-height: var(--button_height);
    transition: all var(--transition_fast) var(--transition_easing);
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow_small);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
    transform: translateY(0);
    box-shadow: none;
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--text_on_accent);
    border-color: var(--accent_primary);
    box-shadow: var(--shadow_focus);
}

QPushButton:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_disabled);
    transform: none;
    box-shadow: none;
}

QPushButton:flat {
    border: none;
    background-color: transparent;
}

QPushButton:flat:hover {
    background-color: var(--bg_button_hover);
    border-radius: var(--border_radius);
}

/* Button Variants */
QPushButton[class="btn-primary"] {
    background-color: var(--accent_primary);
    color: var(--text_on_accent);
    border-color: var(--accent_primary);
    font-weight: var(--font_weight_semibold);
}

QPushButton[class="btn-primary"]:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
    box-shadow: var(--shadow_glow) var(--accent_primary);
}

QPushButton[class="btn-success"] {
    background-color: var(--accent_success);
    color: var(--text_on_accent);
    border-color: var(--accent_success);
}

QPushButton[class="btn-success"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: var(--shadow_glow) var(--accent_success);
}

QPushButton[class="btn-warning"] {
    background-color: var(--accent_warning);
    color: var(--text_on_accent);
    border-color: var(--accent_warning);
}

QPushButton[class="btn-warning"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: var(--shadow_glow) var(--accent_warning);
}

QPushButton[class="btn-danger"] {
    background-color: var(--accent_error);
    color: var(--text_on_accent);
    border-color: var(--accent_error);
}

QPushButton[class="btn-danger"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: var(--shadow_glow) var(--accent_error);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_input);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    min-height: var(--input_height);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_input_focus);
    box-shadow: var(--shadow_focus);
}

QLineEdit:disabled, QTextEdit:disabled, QPlainTextEdit:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_disabled);
}

QLineEdit::placeholder, QTextEdit::placeholder, QPlainTextEdit::placeholder {
    color: var(--text_placeholder);
}

/* Combo Boxes */
QComboBox {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    min-height: var(--button_height);
}

QComboBox:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}

QComboBox:on {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_focus);
}

QComboBox::drop-down {
    border: none;
    width: 20px;
    padding-right: var(--spacing_sm);
}

QComboBox::down-arrow {
    image: url(theme:Dark/expand.svg);
    width: 12px;
    height: 12px;
}

QComboBox QAbstractItemView {
    background-color: var(--bg_menu);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
}

QComboBox QAbstractItemView::item {
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QComboBox QAbstractItemView::item:hover {
    background-color: var(--bg_surface_hover);
}

QComboBox QAbstractItemView::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

/* Spin Boxes */
QSpinBox, QDoubleSpinBox {
    background-color: var(--bg_input);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    min-height: var(--input_height);
}

QSpinBox:focus, QDoubleSpinBox:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_input_focus);
    box-shadow: var(--shadow_focus);
}

QSpinBox::up-button, QDoubleSpinBox::up-button,
QSpinBox::down-button, QDoubleSpinBox::down-button {
    background-color: var(--bg_button);
    border: var(--border_width) solid var(--border_base);
    width: 16px;
}

QSpinBox::up-button:hover, QDoubleSpinBox::up-button:hover,
QSpinBox::down-button:hover, QDoubleSpinBox::down-button:hover {
    background-color: var(--bg_button_hover);
}

/* Check Boxes */
QCheckBox {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QCheckBox::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_input);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius_small);
}

QCheckBox::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QCheckBox::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_checked.svg);
}

QCheckBox::indicator:checked:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QCheckBox::indicator:indeterminate {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_indeterminate.svg);
}

QCheckBox:disabled {
    color: var(--text_disabled);
}

QCheckBox::indicator:disabled {
    background-color: var(--bg_button_disabled);
    border-color: var(--border_disabled);
}

/* Radio Buttons */
QRadioButton {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QRadioButton::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_input);
    border: var(--border_width) solid var(--border_base);
    border-radius: 8px;
}

QRadioButton::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QRadioButton::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/radio_checked.svg);
}

QRadioButton::indicator:checked:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QRadioButton:disabled {
    color: var(--text_disabled);
}

QRadioButton::indicator:disabled {
    background-color: var(--bg_button_disabled);
    border-color: var(--border_disabled);
}

/* Sliders */
QSlider::groove:horizontal {
    background-color: var(--bg_surface);
    height: 4px;
    border-radius: 2px;
}

QSlider::handle:horizontal {
    background-color: var(--accent_primary);
    border: var(--border_width_thick) solid var(--accent_primary);
    width: 16px;
    margin: -6px 0;
    border-radius: 8px;
    transition: all var(--transition_fast) var(--transition_easing);
}

QSlider::handle:horizontal:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
    transform: scale(1.1);
}

QSlider::handle:horizontal:pressed {
    transform: scale(0.95);
}

QSlider::add-page:horizontal {
    background-color: var(--bg_surface);
    border-radius: 2px;
}

QSlider::sub-page:horizontal {
    background-color: var(--accent_primary);
    border-radius: 2px;
}

QSlider::groove:vertical {
    background-color: var(--bg_surface);
    width: 4px;
    border-radius: 2px;
}

QSlider::handle:vertical {
    background-color: var(--accent_primary);
    border: var(--border_width_thick) solid var(--accent_primary);
    height: 16px;
    margin: 0 -6px;
    border-radius: 8px;
}

QSlider::handle:vertical:hover {
    background-color: var(--accent_secondary);
    border-color: var(--accent_secondary);
}

QSlider::add-page:vertical {
    background-color: var(--accent_primary);
    border-radius: 2px;
}

QSlider::sub-page:vertical {
    background-color: var(--bg_surface);
    border-radius: 2px;
}

/* Progress Bars */
QProgressBar {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    text-align: center;
    padding: 2px;
    font-weight: var(--font_weight_medium);
}

QProgressBar::chunk {
    background-color: var(--accent_primary);
    border-radius: calc(var(--border_radius) - 1px);
    transition: width var(--transition_normal) var(--transition_easing);
}

/* Scroll Bars */
QScrollBar:vertical {
    background-color: var(--bg_base);
    width: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:vertical {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-height: 20px;
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QScrollBar::handle:vertical:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:vertical:pressed {
    background-color: var(--overlay2);
}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {
    background: none;
    height: 0;
}

QScrollBar:horizontal {
    background-color: var(--bg_base);
    height: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:horizontal {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-width: 20px;
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::handle:horizontal:pressed {
    background-color: var(--overlay2);
}

QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {
    background: none;
    width: 0;
}

/* Dock Widgets */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    titlebar-close-icon: url(theme:Dark/close.svg);
    titlebar-normal-icon: url(theme:Dark/popout.svg);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: var(--border_width) solid var(--border_base);
    font-weight: var(--font_weight_semibold);
    text-align: center;
}

QDockWidget::close-button, QDockWidget::float-button {
    background-color: transparent;
    border: none;
    border-radius: var(--border_radius_small);
    padding: 2px;
}

QDockWidget::close-button:hover, QDockWidget::float-button:hover {
    background-color: var(--bg_surface_hover);
}

QDockWidget::close-button:pressed, QDockWidget::float-button:pressed {
    background-color: var(--bg_button_pressed);
}

/* Splitters */
QSplitter::handle {
    background-color: var(--border_base);
    transition: background-color var(--transition_fast) var(--transition_easing);
}

QSplitter::handle:hover {
    background-color: var(--border_hover);
}

QSplitter::handle:pressed {
    background-color: var(--border_pressed);
}

QSplitter::handle:horizontal {
    width: 2px;
}

QSplitter::handle:vertical {
    height: 2px;
}

/* Tab Widgets */
QTabWidget::pane {
    background-color: var(--bg_base);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    position: absolute;
    top: -1px;
}

QTabBar {
    qproperty-drawBase: 0;
}

QTabBar::tab {
    background-color: var(--bg_surface);
    color: var(--text_secondary);
    border: var(--border_width) solid var(--border_base);
    border-bottom: none;
    padding: var(--spacing_sm) var(--spacing_md);
    margin-right: 2px;
    border-radius: var(--border_radius) var(--border_radius) 0 0;
    min-width: 80px;
    font-weight: var(--font_weight_medium);
    transition: all var(--transition_fast) var(--transition_easing);
}

QTabBar::tab:hover {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: var(--font_weight_semibold);
    border-bottom-color: var(--bg_base);
}

QTabBar::tab:!selected {
    margin-top: 2px;
}

/* List Widgets */
QListWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
    show-decoration-selected: 1;
}

QListWidget::item {
    padding: var(--spacing_sm);
    border-bottom: var(--border_width) solid transparent;
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QListWidget::item:hover {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius_small);
}

QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
    border-radius: var(--border_radius_small);
}

QListWidget::item:selected:active {
    background-color: var(--bg_selection);
}

QListWidget::item:selected:!active {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

/* Tree Widgets */
QTreeWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
    outline: none;
    show-decoration-selected: 1;
}

QTreeWidget::item {
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px 0;
}

QTreeWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QTreeWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

QTreeWidget::item:selected:active {
    background-color: var(--bg_selection);
}

QTreeWidget::item:selected:!active {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

QTreeWidget::branch:has-siblings:!adjoins-item {
    border-image: url(theme:Dark/branch_vline.svg) 0;
}

QTreeWidget::branch:has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_more.svg) 0;
}

QTreeWidget::branch:!has-children:!has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_end.svg) 0;
}

QTreeWidget::branch:has-children:!has-siblings:closed,
QTreeWidget::branch:closed:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_closed.svg);
}

QTreeWidget::branch:open:has-children:!has-siblings,
QTreeWidget::branch:open:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_open.svg);
}

/* Group Boxes */
QGroupBox {
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    margin-top: var(--spacing_md);
    padding-top: var(--spacing_sm);
    font-weight: var(--font_weight_semibold);
}

QGroupBox::title {
    subcontrol-origin: margin;
    left: var(--spacing_sm);
    padding: 0 var(--spacing_sm);
    background-color: var(--bg_window);
    color: var(--text_primary);
}

QGroupBox:disabled {
    color: var(--text_disabled);
    border-color: var(--border_disabled);
}

/* Menu Bar */
QMenuBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-bottom: var(--border_width) solid var(--border_base);
    spacing: var(--spacing_xs);
}

QMenuBar::item {
    padding: var(--spacing_sm) var(--spacing_md);
    background-color: transparent;
    border-radius: var(--border_radius_small);
}

QMenuBar::item:selected {
    background-color: var(--bg_surface_hover);
}

QMenuBar::item:pressed {
    background-color: var(--bg_button_pressed);
}

/* Menus */
QMenu {
    background-color: var(--bg_menu);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item {
    padding: var(--spacing_sm) var(--spacing_md);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

QMenu::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

QMenu::item:disabled {
    color: var(--text_disabled);
}

QMenu::separator {
    height: var(--border_width);
    background-color: var(--border_base);
    margin: var(--spacing_xs) 0;
}

QMenu::icon {
    padding-left: var(--spacing_sm);
}

QMenu::right-arrow {
    image: url(theme:Dark/right_arrow.svg);
    width: 8px;
    height: 8px;
}

/* Tool Tips */
QToolTip {
    background-color: var(--bg_tooltip);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    font-size: var(--font_size_sm);
    box-shadow: var(--shadow_medium);
}

/* Status Bar */
QStatusBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-top: var(--border_width) solid var(--border_base);
    font-size: var(--font_size_sm);
}

QStatusBar::item {
    border: none;
    padding: var(--spacing_xs) var(--spacing_sm);
}

/* Tool Bar */
QToolBar {
    background-color: var(--bg_base);
    border: var(--border_width) solid var(--border_base);
    spacing: var(--spacing_xs);
    padding: var(--spacing_xs);
}

QToolBar::separator {
    background-color: var(--border_base);
    width: var(--border_width);
    margin: 0 var(--spacing_xs);
}

QToolButton {
    background-color: transparent;
    border: none;
    border-radius: var(--border_radius_small);
    padding: var(--spacing_xs);
    margin: 1px;
}

QToolButton:hover {
    background-color: var(--bg_surface_hover);
}

QToolButton:pressed {
    background-color: var(--bg_button_pressed);
}

QToolButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--text_on_accent);
}

/* Header View */
QHeaderView::section {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: none;
    border-right: var(--border_width) solid var(--border_base);
    border-bottom: var(--border_width) solid var(--border_base);
    padding: var(--spacing_sm);
    font-weight: var(--font_weight_semibold);
}

QHeaderView::section:hover {
    background-color: var(--bg_surface_hover);
}

QHeaderView::section:pressed {
    background-color: var(--bg_button_pressed);
}

/* Table Widget */
QTableWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    gridline-color: var(--border_base);
    selection-background-color: var(--bg_selection);
    selection-color: var(--text_on_accent);
}

QTableWidget::item {
    padding: var(--spacing_sm);
    border-right: var(--border_width) solid var(--border_base);
    border-bottom: var(--border_width) solid var(--border_base);
}

QTableWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QTableWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

/* Volume Controls */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--volume_nominal_bg);
    qproperty-backgroundWarningColor: var(--volume_warning_bg);
    qproperty-backgroundErrorColor: var(--volume_error_bg);
    qproperty-foregroundNominalColor: var(--volume_nominal_fg);
    qproperty-foregroundWarningColor: var(--volume_warning_fg);
    qproperty-foregroundErrorColor: var(--volume_error_fg);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* OBS-Specific Controls */
OBSHotkeyLabel {
    color: var(--text_secondary);
    font-size: var(--font_size_sm);
}

OBSHotkeyLabel[hotkeyPairHover=true] {
    color: var(--accent_primary);
}

/* Recording/Streaming Buttons */
QPushButton[themeID="recordButton"] {
    background-color: var(--accent_record);
    color: var(--text_on_accent);
    border-color: var(--accent_record);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
    box-shadow: var(--shadow_glow) var(--accent_record);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--accent_stream);
    color: var(--text_on_accent);
    border-color: var(--accent_stream);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sapphire);
    border-color: var(--sapphire);
    box-shadow: var(--shadow_glow) var(--accent_stream);
}

QPushButton[themeID="vcamButton"] {
    background-color: var(--accent_vcam);
    color: var(--text_on_accent);
    border-color: var(--accent_vcam);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
    box-shadow: var(--shadow_glow) var(--accent_vcam);
}

QPushButton[themeID="replayBufferButton"] {
    background-color: var(--accent_replay);
    color: var(--text_on_accent);
    border-color: var(--accent_replay);
    font-weight: var(--font_weight_semibold);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
    box-shadow: var(--shadow_glow) var(--accent_replay);
}

/* Source List Styling */
#sources {
    background-color: var(--bg_base);
}

#sources QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

#sources QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

#sources QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Scene List Styling */
#scenes {
    background-color: var(--bg_base);
}

#scenes QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
    padding: var(--spacing_sm);
    border-radius: var(--border_radius_small);
    margin: 1px;
}

#scenes QListWidget::item:selected {
    background-color: var(--bg_selection);
    color: var(--text_on_accent);
}

#scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Controls Dock */
#controlsDock {
    background-color: var(--bg_base);
}

#controlsDock QPushButton {
    margin: 2px;
}

/* Statistics Dock */
#statsDock {
    background-color: var(--bg_base);
}

/* Audio Mixer */
#mixerDock {
    background-color: var(--bg_base);
}

/* Transitions Dock */
#transitionsDock {
    background-color: var(--bg_base);
}

/* Studio Mode */
OBSBasicPreview[displayBackgroundColor="31, 30, 31"] {
    qproperty-displayBackgroundColor: var(--mantle);
}

/* Filters Frame */
#filtersFrame {
    background-color: var(--bg_base);
}

/* Properties Frame */
#propertiesFrame {
    background-color: var(--bg_base);
}

/* Context Container */
#contextContainer {
    background-color: var(--bg_base);
}

/* State Labels */
QLabel[class="error"] {
    color: var(--accent_error);
    font-weight: var(--font_weight_medium);
}

QLabel[class="warning"] {
    color: var(--accent_warning);
    font-weight: var(--font_weight_medium);
}

QLabel[class="success"] {
    color: var(--accent_success);
    font-weight: var(--font_weight_medium);
}

QLabel[class="info"] {
    color: var(--accent_info);
    font-weight: var(--font_weight_medium);
}

/* Custom Styling for Enhanced Features */
.obs-enhanced-card {
    background-color: var(--bg_surface);
    border: var(--border_width) solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_md);
    margin: var(--spacing_sm);
}

.obs-enhanced-card:hover {
    border-color: var(--border_hover);
    box-shadow: var(--shadow_small);
}

.obs-enhanced-highlight {
    background-color: var(--accent_primary);
    color: var(--text_on_accent);
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_small);
    font-weight: var(--font_weight_medium);
}

.obs-enhanced-muted {
    color: var(--text_tertiary);
    font-size: var(--font_size_sm);
}

.obs-enhanced-badge {
    background-color: var(--bg_surface_raised);
    color: var(--text_secondary);
    padding: var(--spacing_xs) var(--spacing_sm);
    border-radius: var(--border_radius_large);
    font-size: var(--font_size_xs);
    font-weight: var(--font_weight_medium);
    border: var(--border_width) solid var(--border_base);
}

.obs-enhanced-badge.success {
    background-color: var(--accent_success);
    color: var(--text_on_accent);
    border-color: var(--accent_success);
}

.obs-enhanced-badge.warning {
    background-color: var(--accent_warning);
    color: var(--text_on_accent);
    border-color: var(--accent_warning);
}

.obs-enhanced-badge.error {
    background-color: var(--accent_error);
    color: var(--text_on_accent);
    border-color: var(--accent_error);
}
"""

# Save the base theme
with open('catppuccin_enhanced_base.obt', 'w') as f:
    f.write(base_theme_content)

print("üèóÔ∏è Created Comprehensive Catppuccin Enhanced Base Theme")
print("="*60)
print("‚úÖ Saved as: catppuccin_enhanced_base.obt")
print()
print("üìã Base Theme Features:")
print("‚Ä¢ Complete .obt base theme (not extending Yami)")
print("‚Ä¢ Comprehensive variable system (100+ variables)")
print("‚Ä¢ Full widget coverage for all Qt components")
print("‚Ä¢ Semantic color naming system")
print("‚Ä¢ Advanced styling system with animations")
print("‚Ä¢ Custom CSS classes for enhanced features")
print("‚Ä¢ Production-ready for theme developers")
print()
print("üîß For Theme Developers:")
print("‚Ä¢ Use this as a base for creating custom variants")
print("‚Ä¢ Override any variables in .ovt files")
print("‚Ä¢ Extend with custom components")
print("‚Ä¢ Maintain consistent design language")
print()
print("üì¶ Complete Theme Collection:")
print("‚Ä¢ catppuccin_enhanced_base.obt (Base theme)")
print("‚Ä¢ catppuccin_enhanced_latte.ovt (Light variant)")  
print("‚Ä¢ catppuccin_enhanced_frappe.ovt (Dark variant)")
print("‚Ä¢ catppuccin_enhanced_macchiato.ovt (Dark variant)")
print("‚Ä¢ catppuccin_enhanced_mocha.ovt (Dark variant)")
print("‚Ä¢ catppuccin_installation_guide.md (Documentation)")
</file>

<file path="script.py">
# Let me analyze the current Catppuccin theme from the attached file and understand the OBS theme structure
import re
import json

# Read the attached file content
with open('paste.txt', 'r') as f:
    content = f.read()

# Extract the React component structure and analyze the Catppuccin theme implementation
print("Analyzing the current Catppuccin theme implementation...")
print("="*60)

# Look for the catppuccinMocha color palette
mocha_pattern = r'const catppuccinMocha = \{([^}]+)\}'
mocha_match = re.search(mocha_pattern, content, re.DOTALL)

if mocha_match:
    mocha_colors = mocha_match.group(1)
    print("Found Catppuccin Mocha color palette:")
    print(mocha_colors[:500] + "..." if len(mocha_colors) > 500 else mocha_colors)
    print()

# Look for theme generation function
theme_function_pattern = r'const generateTheme = \([^)]*\) => \{([^}]+)\}'
theme_match = re.search(theme_function_pattern, content, re.DOTALL)

if theme_match:
    print("Theme generation function found!")
    print("This appears to be a React-based theme generator, not an OBS theme file.")
    print()

# Check if this is actually an OBS theme or a web-based theme generator
if 'React' in content or 'useState' in content:
    print("ANALYSIS: This is a React-based web application for generating OBS themes.")
    print("It's not an actual OBS theme file (.ovt/.obt format).")
else:
    print("ANALYSIS: This appears to be an OBS theme file.")

print("\nKey findings:")
print("1. The file contains a Catppuccin Mocha color palette")
print("2. It's a React application that generates theme files")
print("3. It includes color corrections from .ovt files")
print("4. The structure suggests it outputs .ovt format themes")
</file>

<file path="solarized-dark_theme.ovt">
@OBSThemeMeta {{
    name: 'Solarized Dark';
    id: 'com.textmate.solarizeddark.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Solarized Dark Color Palette */
    --background: #002B36;
    --current_line: #274642;
    --foreground: #839496;
    --comment: #6272a4;
    --cyan: #8be9fd;
    --green: #50fa7b;
    --orange: #ffb86c;
    --pink: #ff79c6;
    --purple: #bd93f9;
    --red: #ff5555;
    --yellow: #f1fa8c;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="solarized-light_theme.ovt">
@OBSThemeMeta {{
    name: 'Solarized Light';
    id: 'com.textmate.solarizedlight.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Solarized Light Color Palette */
    --background: #FDF6E3;
    --current_line: #EEE8D5;
    --foreground: #657B83;
    --comment: #6272a4;
    --cyan: #8be9fd;
    --green: #50fa7b;
    --orange: #ffb86c;
    --pink: #ff79c6;
    --purple: #bd93f9;
    --red: #ff5555;
    --yellow: #f1fa8c;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="tokyo-night_theme.ovt">
@OBSThemeMeta {{
    name: 'Tokyo Night';
    id: 'com.textmate.tokyonight.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Tokyo Night Color Palette */
    --background: #1a1b26;
    --current_line: #515c7e4d;
    --foreground: #a9b1d6;
    --comment: #363b54;
    --cyan: #0da0ba;
    --green: #164846;
    --orange: #e0af68;
    --pink: #394b70;
    --purple: #823c41;
    --red: #db4b4b;
    --yellow: #e0af68;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="turbo.json">
{
  "$schema": "https://turbo.build/schema.json",
  "ui": "tui",
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "inputs": ["src/**", "public/**", "index.html", "vite.config.*", "package.json", "tsconfig.json"],
      "outputs": ["dist/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {},
    "test": {}
  }
}
</file>

<file path=".gitignore">
/.artifacts/

# Python
*.pyc
__pycache__/
.venv/
venv/
env/
ENV/

# Node
node_modules/
frontend/node_modules/
backend/node_modules/
**/node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-lock.yaml

# Environment files
.env
.env.local
.env.*.local

# Build / Dist
dist/
build/
out/

# Logs
*.log
npm-debug.log*

# Editor/directories
.vscode/
.idea/
.cache/

# OS files
.DS_Store
Thumbs.db
digest.txt
</file>

<file path="dracula_theme.ovt">
@OBSThemeMeta {{
    name: 'Dracula Theme';
    id: 'com.textmate.dracula.theme';
    extends: 'com.obsproject.Yami';
    author: 'TextMate Theme';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Dracula Theme Color Palette */
    --background: #282A36;
    --current_line: #44475A;
    --foreground: #F8F8F2;
    --comment: #6272A4;
    --cyan: #8be9fd;
    --green: #50FA7B80;
    --orange: #8BE9FD;
    --pink: #8BE9FD80;
    --purple: #FF555580;
    --red: #FF5555;
    --yellow: #8BE9FD;

    /* Semantic Color Variables */
    --bg_window: var(--background);
    --bg_base: var(--current_line);
    --bg_surface: #3a3c4e;
    --bg_surface_raised: #4e5066;
    --bg_surface_hover: #5a5c72;
    --bg_button: var(--current_line);
    --bg_button_hover: #5a5c72;
    --bg_button_pressed: #6b6d80;
    --bg_button_checked: var(--purple);
    --bg_button_disabled: var(--comment);

    /* Text Colors */
    --text_primary: var(--foreground);
    --text_secondary: #e0e0e0;
    --text_tertiary: #c0c0c0;
    --text_disabled: var(--comment);
    --text_link: var(--cyan);
    --text_link_hover: #a0ffff;

    /* Accent Colors */
    --accent_primary: var(--purple);
    --accent_secondary: var(--pink);
    --accent_success: var(--green);
    --accent_warning: var(--orange);
    --accent_error: var(--red);
    --accent_info: var(--cyan);

    /* Border Colors */
    --border_base: var(--comment);
    --border_focus: var(--purple);
    --border_hover: #7a88b8;
    --border_pressed: #8a98c8;

    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;

    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--foreground);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}
</file>

<file path="README.md">
# OBS Styla - Theme Creator

This workspace contains a web-based OBS theme creator UI in `app/index.html` and several
Python scripts that generate `.ovt` and `.obt` theme files for OBS Studio.

What I added:
- `app/server.py` ‚Äî small Flask server to serve the UI and provide API endpoints to list and
  download generated theme files and trigger generation.
- `app/requirements.txt` ‚Äî dependencies for the server.

How to run locally:

1. Install dependencies (prefer a virtualenv):

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r app/requirements.txt
```

2. Run the server:

```bash
python app/server.py
```

3. Open http://127.0.0.1:5000 in your browser to use the OBS Theme Creator UI.

Alternative: new dev setup (Vite frontend + Express backend)
--------------------------------------------------------

I've added a Vite + TypeScript frontend and an Express backend that proxies to the Python validator.

Requirements: pnpm (node + pnpm)

1. Install pnpm (if you don't have it):

```bash
# using npm
npm install -g pnpm
```

2. Install dependencies and run both frontend and backend:

```bash
pnpm install
pnpm run dev
```

This runs the Vite frontend and the Express backend concurrently. The backend executes `app/validate_cli.py` which calls the Python validator implemented in `app/server.py`.


API endpoints:
- `GET /api/themes` ‚Äî list generated theme files (.ovt, .obt, .json)
- `GET /api/themes/<filename>` ‚Äî download a theme file from the repo root
- `POST /api/generate` ‚Äî run the theme generation scripts (`script_1.py`, `script_2.py`, `script_3.py`) and return results

Additional endpoints:
- `GET /api/validate` ‚Äî run basic validation on generated theme files and return a report indicating missing metadata/sections and a simple variable analysis
- `POST /api/search` ‚Äî perform a semantic search on the content of the theme files. Expects a JSON body with a "query" field.

Notes:
- The existing Python scripts already generate `.ovt` and `.obt` files in the repository root.
- The server simply exposes them and can re-run the scripts when requested.
</file>

<file path="script_1.py">
# Create an enhanced OBS theme based on the Catppuccin colors and OBS 32 theme system
# This will be a complete .ovt theme file compatible with OBS Studio 30.2+

# Catppuccin Mocha color palette (extracted from the original file)
catppuccin_mocha = {
    "rosewater": "#f4dbd6",
    "flamingo": "#f0c6c6", 
    "pink": "#f5bde6",
    "mauve": "#c6a0f6",
    "red": "#ed8796",
    "maroon": "#ee99a0",
    "peach": "#f5a97f",
    "yellow": "#eed49f",
    "green": "#a6da95",
    "teal": "#8bd5ca",
    "sky": "#91d7e3",
    "sapphire": "#7dc4e4",
    "blue": "#8aadf4",
    "lavender": "#b7bdf8",
    "text": "#cad3f5",
    "subtext1": "#b8c0e0",
    "subtext0": "#a5adcb",
    "overlay2": "#939ab7",
    "overlay1": "#8087a2",
    "overlay0": "#6e738d",
    "surface2": "#5b6078",
    "surface1": "#494d64",
    "surface0": "#363a4f",
    "base": "#24273a",
    "mantle": "#1e2030",
    "crust": "#181926",
}

# Generate the enhanced OBS theme file
theme_content = f"""@OBSThemeMeta {{
    name: 'Catppuccin Enhanced';
    id: 'com.catppuccin.enhanced.mocha';
    extends: 'com.obsproject.Yami';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}}

@OBSThemeVars {{
    /* Catppuccin Mocha Color Palette */
    --rosewater: {catppuccin_mocha['rosewater']};
    --flamingo: {catppuccin_mocha['flamingo']};
    --pink: {catppuccin_mocha['pink']};
    --mauve: {catppuccin_mocha['mauve']};
    --red: {catppuccin_mocha['red']};
    --maroon: {catppuccin_mocha['maroon']};
    --peach: {catppuccin_mocha['peach']};
    --yellow: {catppuccin_mocha['yellow']};
    --green: {catppuccin_mocha['green']};
    --teal: {catppuccin_mocha['teal']};
    --sky: {catppuccin_mocha['sky']};
    --sapphire: {catppuccin_mocha['sapphire']};
    --blue: {catppuccin_mocha['blue']};
    --lavender: {catppuccin_mocha['lavender']};
    --text: {catppuccin_mocha['text']};
    --subtext1: {catppuccin_mocha['subtext1']};
    --subtext0: {catppuccin_mocha['subtext0']};
    --overlay2: {catppuccin_mocha['overlay2']};
    --overlay1: {catppuccin_mocha['overlay1']};
    --overlay0: {catppuccin_mocha['overlay0']};
    --surface2: {catppuccin_mocha['surface2']};
    --surface1: {catppuccin_mocha['surface1']};
    --surface0: {catppuccin_mocha['surface0']};
    --base: {catppuccin_mocha['base']};
    --mantle: {catppuccin_mocha['mantle']};
    --crust: {catppuccin_mocha['crust']};
    
    /* Semantic Color Variables */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    
    /* Text Colors */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    
    /* Accent Colors */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    
    /* Border Colors */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    
    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    
    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}}

/* Main Application Window */
QMainWindow {{
    background-color: var(--bg_window);
    color: var(--text_primary);
}}

/* Dock Areas and Splitters */
QDockWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QDockWidget::title {{
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}}

QSplitter::handle {{
    background-color: var(--border_base);
}}

QSplitter::handle:horizontal {{
    width: 2px;
}}

QSplitter::handle:vertical {{
    height: 2px;
}}

/* Buttons */
QPushButton {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}}

QPushButton:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QPushButton:pressed {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}}

QPushButton:checked {{
    background-color: var(--bg_button_checked);
    color: var(--crust);
    border-color: var(--accent_primary);
}}

QPushButton:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}}

/* Primary Action Buttons */
QPushButton[class="btn-primary"] {{
    background-color: var(--accent_primary);
    color: var(--crust);
    border-color: var(--accent_primary);
    font-weight: 600;
}}

QPushButton[class="btn-primary"]:hover {{
    background-color: var(--lavender);
    border-color: var(--lavender);
}}

/* Success Buttons */
QPushButton[class="btn-success"] {{
    background-color: var(--accent_success);
    color: var(--crust);
    border-color: var(--accent_success);
}}

QPushButton[class="btn-success"]:hover {{
    background-color: var(--teal);
    border-color: var(--teal);
}}

/* Warning Buttons */
QPushButton[class="btn-warning"] {{
    background-color: var(--accent_warning);
    color: var(--crust);
    border-color: var(--accent_warning);
}}

QPushButton[class="btn-warning"]:hover {{
    background-color: var(--peach);
    border-color: var(--peach);
}}

/* Error/Danger Buttons */
QPushButton[class="btn-danger"] {{
    background-color: var(--accent_error);
    color: var(--crust);
    border-color: var(--accent_error);
}}

QPushButton[class="btn-danger"]:hover {{
    background-color: var(--maroon);
    border-color: var(--maroon);
}}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {{
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {{
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
}}

QLineEdit:disabled, QTextEdit:disabled, QPlainTextEdit:disabled {{
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
}}

/* Combo Boxes */
QComboBox {{
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    min-height: 20px;
}}

QComboBox:hover {{
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}}

QComboBox:on {{
    background-color: var(--bg_button_pressed);
    border-color: var(--border_focus);
}}

QComboBox::drop-down {{
    border: none;
    width: 20px;
}}

QComboBox::down-arrow {{
    image: url(theme:Dark/expand.svg);
    width: 12px;
    height: 12px;
}}

QComboBox QAbstractItemView {{
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}}

/* Spin Boxes */
QSpinBox, QDoubleSpinBox {{
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
}}

QSpinBox:focus, QDoubleSpinBox:focus {{
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
}}

/* Check Boxes */
QCheckBox {{
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}}

QCheckBox::indicator {{
    width: 16px;
    height: 16px;
    background-color: var(--bg_surface);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius_small);
}}

QCheckBox::indicator:hover {{
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}}

QCheckBox::indicator:checked {{
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_checked.svg);
}}

QCheckBox::indicator:checked:hover {{
    background-color: var(--lavender);
    border-color: var(--lavender);
}}

/* Radio Buttons */
QRadioButton {{
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}}

QRadioButton::indicator {{
    width: 16px;
    height: 16px;
    background-color: var(--bg_surface);
    border: 1px solid var(--border_base);
    border-radius: 8px;
}}

QRadioButton::indicator:hover {{
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}}

QRadioButton::indicator:checked {{
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/radio_checked.svg);
}}

/* Sliders */
QSlider::groove:horizontal {{
    background-color: var(--bg_surface);
    height: 4px;
    border-radius: 2px;
}}

QSlider::handle:horizontal {{
    background-color: var(--accent_primary);
    border: 2px solid var(--accent_primary);
    width: 16px;
    margin: -6px 0;
    border-radius: 8px;
}}

QSlider::handle:horizontal:hover {{
    background-color: var(--lavender);
    border-color: var(--lavender);
}}

QSlider::add-page:horizontal {{
    background-color: var(--bg_surface);
}}

QSlider::sub-page:horizontal {{
    background-color: var(--accent_primary);
}}

/* Progress Bars */
QProgressBar {{
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    text-align: center;
    padding: 2px;
}}

QProgressBar::chunk {{
    background-color: var(--accent_primary);
    border-radius: 7px;
}}

/* Scroll Bars */
QScrollBar:vertical {{
    background-color: var(--bg_base);
    width: 12px;
    border-radius: 6px;
    margin: 0;
}}

QScrollBar::handle:vertical {{
    background-color: var(--overlay0);
    border-radius: 6px;
    min-height: 20px;
}}

QScrollBar::handle:vertical:hover {{
    background-color: var(--overlay1);
}}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {{
    background: none;
    height: 0;
}}

QScrollBar:horizontal {{
    background-color: var(--bg_base);
    height: 12px;
    border-radius: 6px;
    margin: 0;
}}

QScrollBar::handle:horizontal {{
    background-color: var(--overlay0);
    border-radius: 6px;
    min-width: 20px;
}}

QScrollBar::handle:horizontal:hover {{
    background-color: var(--overlay1);
}}

QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {{
    background: none;
    width: 0;
}}

/* Tab Widget */
QTabWidget::pane {{
    background-color: var(--bg_base);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}}

QTabBar::tab {{
    background-color: var(--bg_surface);
    color: var(--text_secondary);
    border: 1px solid var(--border_base);
    border-bottom: none;
    padding: var(--spacing_sm) var(--spacing_md);
    margin-right: 2px;
    border-radius: var(--border_radius) var(--border_radius) 0 0;
}}

QTabBar::tab:hover {{
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}}

QTabBar::tab:selected {{
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: 600;
}}

/* List Widget */
QListWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}}

QListWidget::item {{
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
}}

QListWidget::item:hover {{
    background-color: var(--bg_surface_hover);
}}

QListWidget::item:selected {{
    background-color: var(--accent_primary);
    color: var(--crust);
}}

/* Tree Widget */
QTreeWidget {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}}

QTreeWidget::item {{
    padding: var(--spacing_xs) var(--spacing_sm);
}}

QTreeWidget::item:hover {{
    background-color: var(--bg_surface_hover);
}}

QTreeWidget::item:selected {{
    background-color: var(--accent_primary);
    color: var(--crust);
}}

QTreeWidget::branch:has-siblings:!adjoins-item {{
    border-image: url(theme:Dark/branch_vline.svg) 0;
}}

QTreeWidget::branch:has-siblings:adjoins-item {{
    border-image: url(theme:Dark/branch_more.svg) 0;
}}

QTreeWidget::branch:!has-children:!has-siblings:adjoins-item {{
    border-image: url(theme:Dark/branch_end.svg) 0;
}}

QTreeWidget::branch:has-children:!has-siblings:closed,
QTreeWidget::branch:closed:has-children:has-siblings {{
    border-image: none;
    image: url(theme:Dark/branch_closed.svg);
}}

QTreeWidget::branch:open:has-children:!has-siblings,
QTreeWidget::branch:open:has-children:has-siblings {{
    border-image: none;
    image: url(theme:Dark/branch_open.svg);
}}

/* Group Box */
QGroupBox {{
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    margin-top: var(--spacing_md);
    padding-top: var(--spacing_sm);
    font-weight: 600;
}}

QGroupBox::title {{
    subcontrol-origin: margin;
    left: var(--spacing_sm);
    padding: 0 var(--spacing_sm);
    background-color: var(--bg_window);
}}

/* Menu Bar */
QMenuBar {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-bottom: 1px solid var(--border_base);
}}

QMenuBar::item {{
    padding: var(--spacing_sm) var(--spacing_md);
    background-color: transparent;
}}

QMenuBar::item:selected {{
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius);
}}

QMenuBar::item:pressed {{
    background-color: var(--bg_surface);
}}

/* Menu */
QMenu {{
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}}

QMenu::item {{
    padding: var(--spacing_sm) var(--spacing_md);
    border-radius: var(--border_radius_small);
}}

QMenu::item:selected {{
    background-color: var(--accent_primary);
    color: var(--crust);
}}

QMenu::separator {{
    height: 1px;
    background-color: var(--border_base);
    margin: var(--spacing_xs) 0;
}}

/* Tool Tip */
QToolTip {{
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    font-size: 11px;
}}

/* Status Bar */
QStatusBar {{
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-top: 1px solid var(--border_base);
}}

/* Volume Controls */
VolumeMeter {{
    qproperty-backgroundNominalColor: var(--green);
    qproperty-backgroundWarningColor: var(--yellow);
    qproperty-backgroundErrorColor: var(--red);
    qproperty-foregroundNominalColor: var(--teal);
    qproperty-foregroundWarningColor: var(--peach);
    qproperty-foregroundErrorColor: var(--maroon);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}}

/* Source List Specific */
#sources {{
    background-color: var(--bg_base);
}}

#sources QListWidget::item {{
    color: var(--text_primary);
    background-color: transparent;
}}

#sources QListWidget::item:selected {{
    background-color: var(--accent_primary);
    color: var(--crust);
}}

#sources QListWidget::item:hover:!selected {{
    background-color: var(--bg_surface_hover);
}}

/* Scene List Specific */
#scenes {{
    background-color: var(--bg_base);
}}

#scenes QListWidget::item {{
    color: var(--text_primary);
    background-color: transparent;
}}

#scenes QListWidget::item:selected {{
    background-color: var(--accent_primary);
    color: var(--crust);
}}

#scenes QListWidget::item:hover:!selected {{
    background-color: var(--bg_surface_hover);
}}

/* Controls Dock */
#controlsDock {{
    background-color: var(--bg_base);
}}

#controlsDock QPushButton {{
    margin: 2px;
}}

/* Statistics Dock */
#statsDock {{
    background-color: var(--bg_base);
}}

/* Audio Mixer */
#mixerDock {{
    background-color: var(--bg_base);
}}

/* Transitions Dock */
#transitionsDock {{
    background-color: var(--bg_base);
}}

/* OBS-Specific Controls */
OBSHotkeyLabel {{
    color: var(--text_secondary);
}}

OBSHotkeyLabel[hotkeyPairHover=true] {{
    color: var(--accent_primary);
}}

/* Recording/Streaming Indicators */
QPushButton[themeID="recordButton"] {{
    background-color: var(--red);
    color: var(--crust);
}}

QPushButton[themeID="recordButton"]:hover {{
    background-color: var(--maroon);
}}

QPushButton[themeID="streamButton"] {{
    background-color: var(--blue);
    color: var(--crust);
}}

QPushButton[themeID="streamButton"]:hover {{
    background-color: var(--sky);
}}

/* Virtual Camera Button */
QPushButton[themeID="vcamButton"] {{
    background-color: var(--green);
    color: var(--crust);
}}

QPushButton[themeID="vcamButton"]:hover {{
    background-color: var(--teal);
}}

/* Replay Buffer Button */
QPushButton[themeID="replayBufferButton"] {{
    background-color: var(--yellow);
    color: var(--crust);
}}

QPushButton[themeID="replayBufferButton"]:hover {{
    background-color: var(--peach);
}}

/* Studio Mode */
OBSBasicPreview[displayBackgroundColor="31, 30, 31"] {{
    qproperty-displayBackgroundColor: var(--mantle);
}}

/* Filters */
#filtersFrame {{
    background-color: var(--bg_base);
}}

/* Properties */
#propertiesFrame {{
    background-color: var(--bg_base);
}}

/* Context Bar */
#contextContainer {{
    background-color: var(--bg_base);
}}

/* Error/Warning Styling */
QLabel[class="error"] {{
    color: var(--red);
}}

QLabel[class="warning"] {{
    color: var(--yellow);
}}

QLabel[class="success"] {{
    color: var(--green);
}}

QLabel[class="info"] {{
    color: var(--blue);
}}
"""

print("Generated Enhanced Catppuccin OBS Theme (.ovt file):")
print("="*60)
print("This theme is compatible with OBS Studio 30.2+ and follows the new composable theme system.")
print("It extends the Yami base theme with Catppuccin Mocha colors and enhanced styling.\n")

# Save the theme to a file
with open('catppuccin_enhanced_mocha.ovt', 'w') as f:
    f.write(theme_content)

print("‚úÖ Theme saved as 'catppuccin_enhanced_mocha.ovt'")
print("\nüé® Features of this enhanced theme:")
print("‚Ä¢ Full Catppuccin Mocha color palette")
print("‚Ä¢ OBS 32 compatible .ovt format") 
print("‚Ä¢ Semantic color variables for consistency")
print("‚Ä¢ Enhanced button states and interactions")
print("‚Ä¢ Improved accessibility and contrast")
print("‚Ä¢ Custom styling for OBS-specific controls")
print("‚Ä¢ Smooth transitions and hover effects")
print("‚Ä¢ Proper variable scoping and inheritance")

print("\nüìã Installation Instructions:")
print("1. Copy the .ovt file to your OBS themes directory:")
print("   Windows: %APPDATA%\\obs-studio\\themes\\")
print("   macOS: ~/Library/Application Support/obs-studio/themes/")
print("   Linux: ~/.config/obs-studio/themes/")
print("2. Restart OBS Studio")
print("3. Go to Settings > Appearance")
print("4. Select 'Catppuccin Enhanced' theme")
</file>

<file path="script_2.py">
# --- Lospec Palette to OBS Theme Generation ---
import requests
from colorsys import rgb_to_hls

def hex_to_rgb(hex_color):
    hex_color = hex_color.lstrip('#')
    lv = len(hex_color)
    return tuple(int(hex_color[i:i + lv // 3], 16) for i in range(0, lv, lv // 3))

def get_lightness(hex_color):
    r, g, b = hex_to_rgb(hex_color)
    h, l, s = rgb_to_hls(r/255, g/255, b/255)
    return l

def get_hue(hex_color):
    r, g, b = hex_to_rgb(hex_color)
    h, l, s = rgb_to_hls(r/255, g/255, b/255)
    return h

def fetch_lospec_palette(slug):
    url = f"https://lospec.com/palette-list/{slug}.json"
    resp = requests.get(url)
    if resp.status_code != 200:
        raise Exception(f"Failed to fetch palette: {slug}")
    data = resp.json()
    # Palette is a list of hex strings
    return data['colors'], data.get('title', slug)

def assign_palette_to_semantics(palette):
    """
    Assigns palette colors to Catppuccin/OBS semantic roles by analyzing lightness and hue.
    Returns a dict mapping semantic keys to hex colors.
    """
    # Catppuccin semantic keys (subset for best fit)
    semantic_keys = [
        'base', 'mantle', 'surface0', 'surface1', 'surface2',
        'text', 'subtext1', 'subtext0', 'overlay0', 'overlay1', 'overlay2',
        'red', 'maroon', 'peach', 'yellow', 'green', 'teal', 'blue', 'lavender', 'mauve', 'pink', 'flamingo', 'rosewater', 'sky', 'sapphire'
    ]
    # Sort palette by lightness
    sorted_by_lightness = sorted(palette, key=get_lightness)
    mapping = {}
    # Assign base/mantle/surface to darkest
    if len(sorted_by_lightness) >= 5:
        mapping['base'] = sorted_by_lightness[0]
        mapping['mantle'] = sorted_by_lightness[1]
        mapping['surface0'] = sorted_by_lightness[2]
        mapping['surface1'] = sorted_by_lightness[3]
        mapping['surface2'] = sorted_by_lightness[4]
    # Assign text/subtext/overlay to lightest
    if len(sorted_by_lightness) >= 8:
        mapping['text'] = sorted_by_lightness[-1]
        mapping['subtext1'] = sorted_by_lightness[-2]
        mapping['subtext0'] = sorted_by_lightness[-3]
        mapping['overlay0'] = sorted_by_lightness[-4]
        mapping['overlay1'] = sorted_by_lightness[-5]
        mapping['overlay2'] = sorted_by_lightness[-6]
    # Assign accents by hue proximity
    hue_targets = {
        'red': 0.0, 'maroon': 0.97, 'peach': 0.08, 'yellow': 0.15, 'green': 0.33, 'teal': 0.5, 'blue': 0.6, 'lavender': 0.7, 'mauve': 0.75, 'pink': 0.9, 'flamingo': 0.95, 'rosewater': 0.02, 'sky': 0.55, 'sapphire': 0.58
    }
    used = set(mapping.values())
    for key, target_hue in hue_targets.items():
        best = None
        best_dist = 2.0
        for color in palette:
            if color in used:
                continue
            hue = get_hue(color)
            dist = min(abs(hue - target_hue), 1 - abs(hue - target_hue))
            if dist < best_dist:
                best = color
                best_dist = dist
        if best:
            mapping[key] = best
            used.add(best)
    # Fill any missing keys with first unused colors
    for key in semantic_keys:
        if key not in mapping:
            for color in palette:
                if color not in used:
                    mapping[key] = color
                    used.add(color)
                    break
    return mapping

def generate_obs_theme_from_lospec(slug, output_path=None, dark_theme=True):
    palette, title = fetch_lospec_palette(slug)
    mapping = assign_palette_to_semantics(palette)
    theme_name = f"Lospec {title}"
    if not output_path:
        output_path = f"lospec_{slug}.ovt"
    # Compose OBS theme variables
    color_vars = [f"    --{k}: {v};" for k, v in mapping.items()]
    # Map semantic variables using Catppuccin mapping
    semantic_vars = []
    for obs_var, palette_key in catppuccin_semantic_mapping.items():
        hex_value = mapping.get(palette_key, '#888888')
        semantic_vars.append(f"    --{obs_var}: var(--{palette_key}, {hex_value});")
    theme_content = f"""@OBSThemeMeta {{
    name: '{theme_name}';
    id: 'com.lospec.{slug}';
    extends: 'com.obsproject.Yami';
    author: 'Generated from Lospec';
    dark: '{'true' if dark_theme else 'false'}';
}}

@OBSThemeVars {{
    /* Lospec Palette */
{chr(10).join(color_vars)}

    /* Semantic Color Variables (Catppuccin mapping) */
{chr(10).join(semantic_vars)}
}}
"""
    with open(output_path, 'w') as f:
        f.write(theme_content)
    print(f"Generated OBS theme from Lospec palette: {output_path}")

# Example usage:
# generate_obs_theme_from_lospec('1bit-monitor')

# --- New logic: TextMate-to-OBS theme conversion using Catppuccin mapping as template ---
import json
import os

def extract_palette_from_textmate(textmate_json):
    """
    Extract a palette from a TextMate theme JSON dict.
    Returns a dict of color name to hex value if possible.
    """
    # Try to extract a palette from 'colors' or 'semanticHighlighting' or similar
    palette = {}
    if 'colors' in textmate_json:
        for k, v in textmate_json['colors'].items():
            # Try to normalize keys to Catppuccin names if possible
            palette[k.lower().replace(' ', '_')] = v
    # Fallback: try to extract from tokenColors
    if not palette and 'tokenColors' in textmate_json:
        for entry in textmate_json['tokenColors']:
            if 'settings' in entry and 'foreground' in entry['settings']:
                name = entry.get('name', '').lower().replace(' ', '_')
                if name and name not in palette:
                    palette[name] = entry['settings']['foreground']
    return palette

# The official Catppuccin mapping from palette to semantic OBS variables
catppuccin_semantic_mapping = {
    'bg_window': 'base',
    'bg_base': 'mantle',
    'bg_surface': 'surface0',
    'bg_surface_raised': 'surface1',
    'bg_surface_hover': 'surface2',
    'bg_button': 'surface0',
    'bg_button_hover': 'surface1',
    'bg_button_pressed': 'surface2',
    'bg_button_checked': 'mauve',
    'bg_button_disabled': 'overlay0',
    'text_primary': 'text',
    'text_secondary': 'subtext1',
    'text_tertiary': 'subtext0',
    'text_disabled': 'overlay1',
    'text_link': 'blue',
    'text_link_hover': 'sky',
    'accent_primary': 'mauve',
    'accent_secondary': 'lavender',
    'accent_success': 'green',
    'accent_warning': 'yellow',
    'accent_error': 'red',
    'accent_info': 'blue',
    'border_base': 'overlay0',
    'border_focus': 'mauve',
    'border_hover': 'overlay1',
    'border_pressed': 'overlay2',
}

def closest_palette_color(palette, fallback='#888888'):
    # Just pick the first color in the palette, or fallback
    if palette:
        return list(palette.values())[0]
    return fallback

def generate_obs_theme_from_textmate(textmate_path, output_path, theme_name, dark_theme=True):
    with open(textmate_path, 'r') as f:
        textmate_json = json.load(f)
    palette = extract_palette_from_textmate(textmate_json)

    # Compose OBS theme variables
    color_vars = []
    for color_name, hex_value in palette.items():
        color_vars.append(f"    --{color_name}: {hex_value};")

    # Map semantic variables using Catppuccin mapping, fallback to closest color
    semantic_vars = []
    for obs_var, palette_key in catppuccin_semantic_mapping.items():
        hex_value = palette.get(palette_key, closest_palette_color(palette))
        semantic_vars.append(f"    --{obs_var}: var(--{palette_key}, {hex_value});")

    theme_content = f"""@OBSThemeMeta {{
    name: '{theme_name}';
    id: 'com.custom.{theme_name.lower().replace(' ', '_')}';
    extends: 'com.obsproject.Yami';
    author: 'Converted from TextMate';
    dark: '{'true' if dark_theme else 'false'}';
}}

@OBSThemeVars {{
    /* Extracted Palette */
{chr(10).join(color_vars)}

    /* Semantic Color Variables (Catppuccin mapping) */
{chr(10).join(semantic_vars)}
}}
"""

    with open(output_path, 'w') as f:
        f.write(theme_content)

    print(f"Generated OBS theme: {output_path}")

# Example usage:
# generate_obs_theme_from_textmate('path/to/textmate.json', 'output_theme.ovt', 'My Theme', dark_theme=True)
</file>

<file path="script_4.py">
# Create a new OBS theme based on the Dracula color palette.
# This will be a complete .ovt theme file compatible with OBS Studio 30.2+

dracula_colors = {
    "background": "#282a36",
    "current_line": "#44475a",
    "foreground": "#f8f8f2",
    "comment": "#6272a4",
    "cyan": "#8be9fd",
    "green": "#50fa7b",
    "orange": "#ffb86c",
    "pink": "#ff79c6",
    "purple": "#bd93f9",
    "red": "#ff5555",
    "yellow": "#f1fa8c"
}

with open('dracula_theme.template.ovt', 'r') as f:
    template_content = f.read()

theme_content = template_content.format(**dracula_colors)

with open('dracula_theme.ovt', 'w') as f:
    f.write(theme_content)

print("‚úÖ Theme saved as 'dracula_theme.ovt'")
</file>

<file path="catppuccin_enhanced_mocha.ovt">
@OBSThemeMeta {
    name: 'Catppuccin Enhanced';
    id: 'com.catppuccin.enhanced.mocha';
    extends: 'com.obsproject.Yami';
    author: 'Enhanced by AI Assistant';
    dark: 'true';
}

@OBSThemeVars {
    /* Catppuccin Mocha Color Palette */
    --rosewater: #f4dbd6;
    --flamingo: #f0c6c6;
    --pink: #f5bde6;
    --mauve: #c6a0f6;
    --red: #ed8796;
    --maroon: #ee99a0;
    --peach: #f5a97f;
    --yellow: #eed49f;
    --green: #a6da95;
    --teal: #8bd5ca;
    --sky: #91d7e3;
    --sapphire: #7dc4e4;
    --blue: #8aadf4;
    --lavender: #b7bdf8;
    --text: #cad3f5;
    --subtext1: #b8c0e0;
    --subtext0: #a5adcb;
    --overlay2: #939ab7;
    --overlay1: #8087a2;
    --overlay0: #6e738d;
    --surface2: #5b6078;
    --surface1: #494d64;
    --surface0: #363a4f;
    --base: #24273a;
    --mantle: #1e2030;
    --crust: #181926;

    /* Semantic Color Variables */
    --bg_window: var(--base);
    --bg_base: var(--mantle);
    --bg_surface: var(--surface0);
    --bg_surface_raised: var(--surface1);
    --bg_surface_hover: var(--surface2);
    --bg_button: var(--surface0);
    --bg_button_hover: var(--surface1);
    --bg_button_pressed: var(--surface2);
    --bg_button_checked: var(--mauve);
    --bg_button_disabled: var(--overlay0);
    /* Text Colors */
    --text_primary: var(--text);
    --text_secondary: var(--subtext1);
    --text_tertiary: var(--subtext0);
    --text_disabled: var(--overlay1);
    --text_link: var(--blue);
    --text_link_hover: var(--sky);
    /* Accent Colors */
    --accent_primary: var(--mauve);
    --accent_secondary: var(--lavender);
    --accent_success: var(--green);
    --accent_warning: var(--yellow);
    --accent_error: var(--red);
    --accent_info: var(--blue);
    /* Border Colors */
    --border_base: var(--overlay0);
    --border_focus: var(--mauve);
    --border_hover: var(--overlay1);
    --border_pressed: var(--overlay2);
    /* Sizing Variables */
    --border_radius: 8px;
    --border_radius_small: 4px;
    --border_radius_large: 12px;
    --spacing_xs: 4px;
    --spacing_sm: 8px;
    --spacing_md: 12px;
    --spacing_lg: 16px;
    --spacing_xl: 24px;
    /* Animation Variables */
    --transition_fast: 150ms;
    --transition_normal: 250ms;
    --transition_slow: 350ms;
}

/* Main Application Window */
QMainWindow {
    background-color: var(--bg_window);
    color: var(--text_primary);
}

/* Dock Areas and Splitters */
QDockWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}

QDockWidget::title {
    background-color: var(--bg_surface);
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
    font-weight: 600;
}

QSplitter::handle {
    background-color: var(--border_base);
}

QSplitter::handle:horizontal {
    width: 2px;
}

QSplitter::handle:vertical {
    height: 2px;
}

/* Buttons */
QPushButton {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    font-weight: 500;
    min-height: 20px;
}

QPushButton:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}

QPushButton:pressed {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_pressed);
}

QPushButton:checked {
    background-color: var(--bg_button_checked);
    color: var(--crust);
    border-color: var(--accent_primary);
}

QPushButton:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
    border-color: var(--border_base);
}

/* Primary Action Buttons */
QPushButton[class="btn-primary"] {
    background-color: var(--accent_primary);
    color: var(--crust);
    border-color: var(--accent_primary);
    font-weight: 600;
}

QPushButton[class="btn-primary"]:hover {
    background-color: var(--lavender);
    border-color: var(--lavender);
}

/* Success Buttons */
QPushButton[class="btn-success"] {
    background-color: var(--accent_success);
    color: var(--crust);
    border-color: var(--accent_success);
}

QPushButton[class="btn-success"]:hover {
    background-color: var(--teal);
    border-color: var(--teal);
}

/* Warning Buttons */
QPushButton[class="btn-warning"] {
    background-color: var(--accent_warning);
    color: var(--crust);
    border-color: var(--accent_warning);
}

QPushButton[class="btn-warning"]:hover {
    background-color: var(--peach);
    border-color: var(--peach);
}

/* Error/Danger Buttons */
QPushButton[class="btn-danger"] {
    background-color: var(--accent_error);
    color: var(--crust);
    border-color: var(--accent_error);
}

QPushButton[class="btn-danger"]:hover {
    background-color: var(--maroon);
    border-color: var(--maroon);
}

/* Input Fields */
QLineEdit, QTextEdit, QPlainTextEdit {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}

QLineEdit:focus, QTextEdit:focus, QPlainTextEdit:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
}

QLineEdit:disabled, QTextEdit:disabled, QPlainTextEdit:disabled {
    background-color: var(--bg_button_disabled);
    color: var(--text_disabled);
}

/* Combo Boxes */
QComboBox {
    background-color: var(--bg_button);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm) var(--spacing_md);
    min-height: 20px;
}

QComboBox:hover {
    background-color: var(--bg_button_hover);
    border-color: var(--border_hover);
}

QComboBox:on {
    background-color: var(--bg_button_pressed);
    border-color: var(--border_focus);
}

QComboBox::drop-down {
    border: none;
    width: 20px;
}

QComboBox::down-arrow {
    image: url(theme:Dark/expand.svg);
    width: 12px;
    height: 12px;
}

QComboBox QAbstractItemView {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}

/* Spin Boxes */
QSpinBox, QDoubleSpinBox {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
}

QSpinBox:focus, QDoubleSpinBox:focus {
    border-color: var(--border_focus);
    background-color: var(--bg_surface_raised);
}

/* Check Boxes */
QCheckBox {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QCheckBox::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_surface);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius_small);
}

QCheckBox::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QCheckBox::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/checkbox_checked.svg);
}

QCheckBox::indicator:checked:hover {
    background-color: var(--lavender);
    border-color: var(--lavender);
}

/* Radio Buttons */
QRadioButton {
    color: var(--text_primary);
    spacing: var(--spacing_sm);
}

QRadioButton::indicator {
    width: 16px;
    height: 16px;
    background-color: var(--bg_surface);
    border: 1px solid var(--border_base);
    border-radius: 8px;
}

QRadioButton::indicator:hover {
    background-color: var(--bg_surface_hover);
    border-color: var(--border_hover);
}

QRadioButton::indicator:checked {
    background-color: var(--accent_primary);
    border-color: var(--accent_primary);
    image: url(theme:Dark/radio_checked.svg);
}

/* Sliders */
QSlider::groove:horizontal {
    background-color: var(--bg_surface);
    height: 4px;
    border-radius: 2px;
}

QSlider::handle:horizontal {
    background-color: var(--accent_primary);
    border: 2px solid var(--accent_primary);
    width: 16px;
    margin: -6px 0;
    border-radius: 8px;
}

QSlider::handle:horizontal:hover {
    background-color: var(--lavender);
    border-color: var(--lavender);
}

QSlider::add-page:horizontal {
    background-color: var(--bg_surface);
}

QSlider::sub-page:horizontal {
    background-color: var(--accent_primary);
}

/* Progress Bars */
QProgressBar {
    background-color: var(--bg_surface);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    text-align: center;
    padding: 2px;
}

QProgressBar::chunk {
    background-color: var(--accent_primary);
    border-radius: 7px;
}

/* Scroll Bars */
QScrollBar:vertical {
    background-color: var(--bg_base);
    width: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:vertical {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-height: 20px;
}

QScrollBar::handle:vertical:hover {
    background-color: var(--overlay1);
}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {
    background: none;
    height: 0;
}

QScrollBar:horizontal {
    background-color: var(--bg_base);
    height: 12px;
    border-radius: 6px;
    margin: 0;
}

QScrollBar::handle:horizontal {
    background-color: var(--overlay0);
    border-radius: 6px;
    min-width: 20px;
}

QScrollBar::handle:horizontal:hover {
    background-color: var(--overlay1);
}

QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {
    background: none;
    width: 0;
}

/* Tab Widget */
QTabWidget::pane {
    background-color: var(--bg_base);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
}

QTabBar::tab {
    background-color: var(--bg_surface);
    color: var(--text_secondary);
    border: 1px solid var(--border_base);
    border-bottom: none;
    padding: var(--spacing_sm) var(--spacing_md);
    margin-right: 2px;
    border-radius: var(--border_radius) var(--border_radius) 0 0;
}

QTabBar::tab:hover {
    background-color: var(--bg_surface_hover);
    color: var(--text_primary);
}

QTabBar::tab:selected {
    background-color: var(--bg_base);
    color: var(--accent_primary);
    font-weight: 600;
}

/* List Widget */
QListWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}

QListWidget::item {
    padding: var(--spacing_sm);
    border-bottom: 1px solid var(--border_base);
}

QListWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--crust);
}

/* Tree Widget */
QTreeWidget {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    selection-background-color: var(--accent_primary);
    selection-color: var(--crust);
}

QTreeWidget::item {
    padding: var(--spacing_xs) var(--spacing_sm);
}

QTreeWidget::item:hover {
    background-color: var(--bg_surface_hover);
}

QTreeWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--crust);
}

QTreeWidget::branch:has-siblings:!adjoins-item {
    border-image: url(theme:Dark/branch_vline.svg) 0;
}

QTreeWidget::branch:has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_more.svg) 0;
}

QTreeWidget::branch:!has-children:!has-siblings:adjoins-item {
    border-image: url(theme:Dark/branch_end.svg) 0;
}

QTreeWidget::branch:has-children:!has-siblings:closed,
QTreeWidget::branch:closed:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_closed.svg);
}

QTreeWidget::branch:open:has-children:!has-siblings,
QTreeWidget::branch:open:has-children:has-siblings {
    border-image: none;
    image: url(theme:Dark/branch_open.svg);
}

/* Group Box */
QGroupBox {
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    margin-top: var(--spacing_md);
    padding-top: var(--spacing_sm);
    font-weight: 600;
}

QGroupBox::title {
    subcontrol-origin: margin;
    left: var(--spacing_sm);
    padding: 0 var(--spacing_sm);
    background-color: var(--bg_window);
}

/* Menu Bar */
QMenuBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-bottom: 1px solid var(--border_base);
}

QMenuBar::item {
    padding: var(--spacing_sm) var(--spacing_md);
    background-color: transparent;
}

QMenuBar::item:selected {
    background-color: var(--bg_surface_hover);
    border-radius: var(--border_radius);
}

QMenuBar::item:pressed {
    background-color: var(--bg_surface);
}

/* Menu */
QMenu {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_xs);
}

QMenu::item {
    padding: var(--spacing_sm) var(--spacing_md);
    border-radius: var(--border_radius_small);
}

QMenu::item:selected {
    background-color: var(--accent_primary);
    color: var(--crust);
}

QMenu::separator {
    height: 1px;
    background-color: var(--border_base);
    margin: var(--spacing_xs) 0;
}

/* Tool Tip */
QToolTip {
    background-color: var(--bg_surface_raised);
    color: var(--text_primary);
    border: 1px solid var(--border_base);
    border-radius: var(--border_radius);
    padding: var(--spacing_sm);
    font-size: 11px;
}

/* Status Bar */
QStatusBar {
    background-color: var(--bg_base);
    color: var(--text_primary);
    border-top: 1px solid var(--border_base);
}

/* Volume Controls */
VolumeMeter {
    qproperty-backgroundNominalColor: var(--green);
    qproperty-backgroundWarningColor: var(--yellow);
    qproperty-backgroundErrorColor: var(--red);
    qproperty-foregroundNominalColor: var(--teal);
    qproperty-foregroundWarningColor: var(--peach);
    qproperty-foregroundErrorColor: var(--maroon);
    qproperty-magnitudeColor: var(--text_primary);
    qproperty-majorTickColor: var(--text_secondary);
    qproperty-minorTickColor: var(--text_tertiary);
}

/* Source List Specific */
#sources {
    background-color: var(--bg_base);
}

#sources QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
}

#sources QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--crust);
}

#sources QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Scene List Specific */
#scenes {
    background-color: var(--bg_base);
}

#scenes QListWidget::item {
    color: var(--text_primary);
    background-color: transparent;
}

#scenes QListWidget::item:selected {
    background-color: var(--accent_primary);
    color: var(--crust);
}

#scenes QListWidget::item:hover:!selected {
    background-color: var(--bg_surface_hover);
}

/* Controls Dock */
#controlsDock {
    background-color: var(--bg_base);
}

#controlsDock QPushButton {
    margin: 2px;
}

/* Statistics Dock */
#statsDock {
    background-color: var(--bg_base);
}

/* Audio Mixer */
#mixerDock {
    background-color: var(--bg_base);
}

/* Transitions Dock */
#transitionsDock {
    background-color: var(--bg_base);
}

/* OBS-Specific Controls */
OBSHotkeyLabel {
    color: var(--text_secondary);
}

OBSHotkeyLabel[hotkeyPairHover=true] {
    color: var(--accent_primary);
}

/* Recording/Streaming Indicators */
QPushButton[themeID="recordButton"] {
    background-color: var(--red);
    color: var(--crust);
}

QPushButton[themeID="recordButton"]:hover {
    background-color: var(--maroon);
}

QPushButton[themeID="streamButton"] {
    background-color: var(--blue);
    color: var(--crust);
}

QPushButton[themeID="streamButton"]:hover {
    background-color: var(--sky);
}

/* Virtual Camera Button */
QPushButton[themeID="vcamButton"] {
    background-color: var(--green);
    color: var(--crust);
}

QPushButton[themeID="vcamButton"]:hover {
    background-color: var(--teal);
}

/* Replay Buffer Button */
QPushButton[themeID="replayBufferButton"] {
    background-color: var(--yellow);
    color: var(--crust);
}

QPushButton[themeID="replayBufferButton"]:hover {
    background-color: var(--peach);
}

/* Studio Mode */
OBSBasicPreview[displayBackgroundColor="31, 30, 31"] {
    qproperty-displayBackgroundColor: var(--mantle);
}

/* Filters */
#filtersFrame {
    background-color: var(--bg_base);
}

/* Properties */
#propertiesFrame {
    background-color: var(--bg_base);
}

/* Context Bar */
#contextContainer {
    background-color: var(--bg_base);
}

/* Error/Warning Styling */
QLabel[class="error"] {
    color: var(--red);
}

QLabel[class="warning"] {
    color: var(--yellow);
}

QLabel[class="success"] {
    color: var(--green);
}

QLabel[class="info"] {
    color: var(--blue);
}
</file>

<file path="package.json">
{
  "name": "obs-styla-monorepo",
  "private": true,
  "packageManager": "pnpm@10.20.0",
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "dev": "turbo dev",
    "build": "turbo build",
    "lint": "turbo lint",
    "test": "turbo test",
    "install-deps": "pnpm install"
  },
  "devDependencies": {
    "concurrently": "^8.2.0",
    "turbo": "^2.6.1"
  }
}
</file>

</files>
